(()=>{"use strict";var e,n,t,a={4788:(e,n,t)=>{var a=t(6540),l=t(5338),o=t(4976),i=t(4848);const s=a.createContext({headHeight:0,setHeadHeight:()=>{},menuWidth:0,setMenuWidth:()=>{},scrollTop:0,setScrollTop:()=>{},scrollContentRef:a.createRef(),setScrollContentRef:()=>{}});let r=a.createRef();const d=e=>{const[n,t]=(0,a.useState)(0),[l,o]=(0,a.useState)(0),[d,c]=(0,a.useState)(0),u=(0,a.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;c(e),r.current&&r.current.scrollTop!==e&&(r.current.scrollTop=e)}),[]);return(0,i.jsx)(s.Provider,{value:{headHeight:n,menuWidth:l,scrollTop:d,setHeadHeight:t,setMenuWidth:o,setScrollTop:u,scrollContentRef:r,setScrollContentRef:e=>{e&&(r=e)}},children:e.children})},c=()=>(0,a.useContext)(s);var u=t(7767),m=t(1587),p=t(2187),h=t(4353),g=t.n(h),f=t(7197),b=t(1878),v=t(145),x=t(227),y=t(9552);const S=t.p+"images/235f02ed.jpeg",k="Header_container__lcnp0",w="Header_title__XumRj",C="Header_right__Tm89M",R="Header_btn__n+9vE",A="Header_rewardModal__JCltU",_="Header_closeBtn__Le6iI",P=()=>{const{setHeadHeight:e}=c(),n=(0,a.useRef)(null),[t,l]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(n.current){const{height:t}=n.current.getBoundingClientRect();e(t)}}),[]),(0,i.jsxs)("div",{className:k,ref:n,children:[(0,i.jsx)("div",{className:w,children:"复合组件示例库"}),(0,i.jsx)(f.A,{message:"本示例库并非组件库，封装的组件并没有考虑在所有场景下的适配",type:"warning",showIcon:!0,closable:!0}),(0,i.jsx)("div",{className:C,children:(0,i.jsx)(b.A,{placement:"bottomRight",title:"打赏",children:(0,i.jsx)("div",{className:R,onClick:()=>{l(!0)},children:(0,i.jsx)(x.A,{})})})}),(0,i.jsxs)(v.A,{wrapClassName:A,title:"打赏",open:t,footer:null,maskClosable:!1,width:320,children:[(0,i.jsx)("div",{className:_,onClick:()=>{l(!1)},children:(0,i.jsx)(y.A,{})}),(0,i.jsx)("img",{src:S,alt:""}),(0,i.jsx)("p",{children:"如果觉得网站不错，内容对你有所帮助，再打赏也不迟"})]})]})};var j=t(961),N=t(9277),D=t(3341),T=t(6157),I=t(1201),M=t(8467),F=t(5202),O=t(5226);const V="Menus_container__TGD0s",E="Menus_topBox__M+bkd",L="Menus_top__evyIx",K="Menus_menuLabel__VW605",$="Menus_bottom__9th6m";function B(e,n,t,a,l){return{key:n,icon:t,children:a,label:(0,i.jsx)("p",{className:K,children:e}),type:l}}const H=()=>{const e=(0,u.Zp)(),n=(0,u.zy)(),[t,l]=(0,a.useState)(!1),{setMenuWidth:o}=c(),s=(0,a.useRef)(null),r=[B("表单","form",(0,i.jsx)(N.A,{}),[B("FormItem 部分","formItemSection"),B("FormList 部分","formListSection")]),B("表格","table",(0,i.jsx)(D.A,{}),[B("Antd表格 部分","antdTableSection"),B("Ali表格 部分","aliTableSection")])],d=(0,a.useCallback)((0,M.A)((()=>{const e=j.findDOMNode(s.current);e&&o(e.clientWidth)}),{wait:360}).run,[]),m=(0,a.useMemo)((()=>{const{pathname:e}=n,t=[];if(e){const n=e.split("/"),a=n[n.length-1];a&&t.push(a)}return t}),[n]),p=(0,a.useMemo)((()=>{const{pathname:e}=n;if(e){const n=e.split("/");if(n.length>=2&&n[1])return[n[1]]}return["form"]}),[n]);return(0,a.useEffect)((()=>{d()}),[t]),(0,a.useEffect)((()=>(window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)})),[]),(0,i.jsxs)("div",{className:V,ref:s,children:[(0,i.jsxs)("div",{className:E,children:[(0,i.jsx)("div",{className:L,children:(0,i.jsx)(F.Ay,{type:"primary",onClick:()=>{l(!t)},style:{marginBottom:16},children:t?(0,i.jsx)(T.A,{}):(0,i.jsx)(I.A,{})})}),(0,i.jsx)(O.A,{defaultOpenKeys:p,selectedKeys:m,mode:"inline",inlineCollapsed:t,items:r,onClick:n=>{const{keyPath:t}=n,a=t.reduce(((e,n)=>e=`/${n}${e}`),"");e(a)}})]}),(0,i.jsx)("div",{className:$,children:!t&&(0,i.jsx)("span",{children:"持续更新, 敬请期待"})})]})},z="Home_container__BIX4n",Y="Home_container_body__xDwsE",q="Home_container_content__kzcpF",G=()=>{const{setScrollTop:e,setScrollContentRef:n}=c(),t=(0,u.Ye)(no),l=(0,u.zy)(),o=(0,u.Zp)(),s=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const{pathname:e}=l;e&&"/"!==e||o("/form/formItemSection")}),[l]),(0,a.useEffect)((()=>{n(s)}),[]),(0,i.jsxs)("div",{className:z,children:[(0,i.jsx)(P,{}),(0,i.jsxs)("div",{className:Y,children:[(0,i.jsx)(H,{}),(0,i.jsx)("div",{className:q,onScroll:()=>{e(s.current?.scrollTop)},ref:s,children:t})]})]})};var W=t(1935),U=t(2395),Z=t(7046),Q=t(6008),J=t(3853),X=t(7450);const ee="CodeBlock_codeBlock__bzneC",ne="CodeBlock_line__pJCvl",te=e=>{const{code:n,language:t="tsx",theme:a=X.Zj.oneLight}=e;return(0,i.jsx)(X.f4,{theme:a,code:n,language:t,children:e=>{let{style:n,tokens:t,getLineProps:a,getTokenProps:l}=e;return(0,i.jsx)("pre",{className:ee,style:n,children:t.map(((e,n)=>(0,i.jsx)("div",{...a({line:e}),className:ne,children:e.map(((e,n)=>(0,i.jsx)("span",{...l({token:e})},n)))},n)))})}})},ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return`${Math.random()}`.slice(2,e+2)},le=e=>new Promise((n=>{setTimeout((()=>{const{pageNum:t=1,pageSize:a=10}=e||{},l=[];for(let e=0;e<a;e++){const n=((t-1)*a+e+1).toString();l.push({id:n,email:"123456789@qq.com",date:"2024-11-22 15:24:48",dateType:Math.random()>.5?"workingDay":"naturalDay",name:`名字${n}`,code:`code${n}`,remark:new Array(10).fill("这是备注").join("")})}n({data:l,pageNum:t,total:200})}),1200)})),oe="SampleBox_container__oAXz4",ie="SampleBox_title__en5k9",se="SampleBox_content__r3wUD",re="SampleBox_actions__H751f",de="SampleBox_codeBlockBox__b1OZI",ce="SampleBox_codeBlockContent__ZJS8D",ue="SampleBox_copyBtn__8qcBp",me="SampleBox_footer__Tpigq",pe=e=>{const{title:n,children:t,className:l,codeParams:o}=e,[s,r]=(0,a.useState)(!1),d=(0,a.useMemo)((()=>Array.isArray(o)?o.map(((e,n)=>({key:n.toString(),label:e.fileName,children:(0,i.jsxs)("div",{className:ce,children:[(0,i.jsx)(te,{code:e.code}),(0,i.jsx)("div",{className:ue,onClick:()=>{(e=>{if(e)if(navigator.clipboard)navigator.clipboard.writeText(e);else{const n=document.createElement("input");n.setAttribute("value",e),document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}})(e.code),W.Ay.success("复制成功")},children:(0,i.jsx)(b.A,{title:"复制",children:(0,i.jsx)(Z.A,{})})})]})}))):[]),[o]);return(0,i.jsxs)("div",{className:`${oe}${l?` ${l}`:""}`,children:[n&&(0,i.jsx)("div",{className:ie,children:n}),(0,i.jsx)("div",{className:se,children:t}),o&&(0,i.jsx)("div",{className:re,children:(0,i.jsx)(b.A,{title:s?"收起代码":"显示代码",children:(0,i.jsx)(Q.A,{onClick:()=>r(!s)})})}),s&&(0,i.jsxs)("div",{className:de,children:[Array.isArray(o)?(0,i.jsx)(U.A,{centered:!0,items:d}):(0,i.jsx)(te,{code:o.code}),(0,i.jsxs)("div",{className:me,onClick:()=>r(!1),children:[(0,i.jsx)(J.A,{}),"收起"]})]})]})};var he=t(9467),ge=t(7152),fe=t(6370),be=t(3888),ve=t(1196),xe=t(8119);const ye=e=>{const n=(0,a.useContext)(xe.A);return(0,a.useMemo)((()=>null!=e?!!e:!!n),[e,n])},Se="DatePickerAndCheckbox_container__KwiIN",ke="DatePickerAndCheckbox_checkbox__NinO0",we="DatePickerAndCheckbox_noLabel__UkWsT",Ce=e=>{const{value:n,checkboxLabel:t=null,disabled:l,datePickerProps:o={},checkboxProps:s={},onChange:r,"aria-invalid":d,setDatePickerStatus:c,style:u={}}=e,m=ye(l),p=(0,a.useMemo)((()=>{if(c&&"true"===d)return c(n)}),[d,n]);return(0,i.jsxs)("div",{className:Se,style:u,children:[(0,i.jsx)(be.A,{value:n&&n.length>=1?n[0]:void 0,disabled:m,status:p,...o,onChange:e=>{const t=n&&n.length>=2?[e||void 0,n[1]]:[e||void 0,void 0];r?.(t)}}),(0,i.jsx)(ve.A,{className:`${ke}${t?"":` ${we}`}`,checked:n&&n.length>=2?n[1]:void 0,disabled:m,...s,onChange:e=>{const t=e?.target?.checked||!1,a=n&&n.length>=1?[n[0],t]:[void 0,t];r?.(a)},children:t})]})},Re="DatePickerAndCheckboxSample_container__M7yhS",Ae=()=>{const[e]=he.A.useForm();return(0,i.jsx)(he.A,{form:e,labelAlign:"right",className:Re,children:(0,i.jsxs)(ge.A,{gutter:16,children:[(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(Ce,{checkboxLabel:"复选框标题"})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(Ce,{datePickerProps:{format:"YYYY/MM/DD"}})})})]})})},_e=[{fileName:"index.tsx",code:"import React from \"react\";\nimport { Form, Row, Col } from \"antd\";\nimport DatePickerAndCheckbox from \"@/components/formItems/DatePickerAndCheckbox\";\nimport styles from \"./index.module.scss\";\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  return (\n    <Form form={form} labelAlign='right' className={styles.container}>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field1'>\n            <DatePickerAndCheckbox checkboxLabel='复选框标题' />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field2'>\n            <DatePickerAndCheckbox datePickerProps={{ format: \"YYYY/MM/DD\" }} />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;"}].concat([{fileName:"DatePickerAndCheckbox.tsx",code:'/**\n * 左边日期选择框右边复选框的复合组件\n */\nimport React, { useMemo } from "react";\nimport { DatePicker, Checkbox } from "antd";\nimport { CheckboxChangeEvent } from "antd/es/checkbox";\nimport { Dayjs } from "dayjs";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\ntype Value = [Dayjs | null | undefined, boolean | undefined];\ntype Status = "warning" | "error" | "" | undefined;\n\ntype DatePickerAndCheckboxProps = {\n  value?: Value;\n  checkboxLabel?: string;\n  disabled?: boolean;\n  datePickerProps?: Record<string, any>; // 传递给日期选择框的属性值\n  checkboxProps?: Record<string, any>; // 传递给复选框的属性值\n  onChange?: (value: Value) => void;\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  setDatePickerStatus?: (value: Value | undefined) => Status; // 当form校验时，设置日期选择框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  style?: Record<string, any>;\n};\n\nconst DatePickerAndCheckbox = (props: DatePickerAndCheckboxProps) => {\n  const {\n    value,\n    checkboxLabel = null,\n    disabled: selfDisabled,\n    datePickerProps = {},\n    checkboxProps = {},\n    onChange,\n    ["aria-invalid"]: invalid,\n    setDatePickerStatus,\n    style = {},\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onDatePickerChange = (date: Dayjs | null) => {\n    const newValue: Value =\n      value && value.length >= 2\n        ? [date || undefined, value[1]]\n        : [date || undefined, undefined];\n    onChange?.(newValue);\n  };\n\n  const onCheckboxChange = (e: CheckboxChangeEvent) => {\n    const checked = e?.target?.checked || false;\n    const newValue: Value =\n      value && value.length >= 1 ? [value[0], checked] : [undefined, checked];\n    onChange?.(newValue);\n  };\n\n  const datePickerStatus = useMemo(() => {\n    if (setDatePickerStatus && invalid === "true") {\n      return setDatePickerStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  return (\n    <div className={styles.container} style={style}>\n      <DatePicker\n        value={value && value.length >= 1 ? value[0] : undefined}\n        disabled={disabled}\n        status={datePickerStatus}\n        {...datePickerProps}\n        onChange={onDatePickerChange}\n      />\n      <Checkbox\n        className={`${styles.checkbox}${\n          !checkboxLabel ? ` ${styles.noLabel}` : ""\n        }`}\n        checked={value && value.length >= 2 ? value[1] : undefined}\n        disabled={disabled}\n        {...checkboxProps}\n        onChange={onCheckboxChange}\n      >\n        {checkboxLabel}\n      </Checkbox>\n    </div>\n  );\n};\n\nexport default DatePickerAndCheckbox;'},{fileName:"DatePickerAndCheckbox.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  .checkbox {\n    display: flex;\n    align-items: center;\n    margin-left: 8px;\n    span {\n      word-break: keep-all;\n    }\n  }\n  .noLabel {\n    span:not(.ant-checkbox) {\n      padding-inline-start: 0 !important;\n      padding-inline-end: 0 !important;\n    }\n  }\n}"}]),Pe=()=>(0,i.jsx)(pe,{title:"左边日期选择框右边复选框的复合组件",codeParams:_e,children:(0,i.jsx)(Ae,{})}),je="RangePickerAndCheckbox_container__NEKOI",Ne="RangePickerAndCheckbox_checkbox__apXZT",De="RangePickerAndCheckbox_noLabel__5RO6Q",{RangePicker:Te}=be.A,Ie=e=>{const{value:n,checkboxLabel:t="",disabled:l,rangePickerProps:o={},checkboxProps:s={},onChange:r,"aria-invalid":d,setRangePickerStatus:c,style:u={}}=e,m=ye(l),p=(0,a.useMemo)((()=>{if(c&&"true"===d)return c(n)}),[d,n]);return(0,i.jsxs)("div",{className:je,style:u,children:[(0,i.jsx)(Te,{value:n&&n.length>=2?[n[0],n[1]]:[void 0,void 0],disabled:m,status:p,...o,onChange:e=>{let t=n&&n.length>=3?[void 0,void 0,n[2]]:[void 0,void 0,void 0];e&&e.length>=2&&(t=n&&n.length>=3?[e[0],e[1],n[2]]:[e[0],e[1],void 0]),r?.(t)}}),(0,i.jsx)(ve.A,{className:`${Ne}${t?"":` ${De}`}`,checked:!!(n&&n.length>=3)&&n[2],disabled:m,...s,onChange:e=>{const t=e?.target?.checked||!1,a=n&&n.length>=2?[n[0],n[1],t]:[void 0,void 0,t];r?.(a)},children:t})]})},Me=()=>{const[e]=he.A.useForm();return(0,i.jsx)(he.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(ge.A,{gutter:16,children:[(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(Ie,{checkboxLabel:"复选框标题"})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(Ie,{rangePickerProps:{format:"YYYY/MM/DD"}})})})]})})},Fe="RangePickerAndCheckboxSample_container__lJatc",Oe=[{fileName:"index.tsx",code:"import React from \"react\";\nimport { Form, Row, Col } from \"antd\";\nimport RangePickerAndCheckbox from \"@/components/formItems/RangePickerAndCheckbox\";\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  return (\n    <Form form={form} labelAlign='right'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field1'>\n            <RangePickerAndCheckbox checkboxLabel='复选框标题' />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field2'>\n            <RangePickerAndCheckbox\n              rangePickerProps={{ format: \"YYYY/MM/DD\" }}\n            />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;"}].concat([{fileName:"RangePickerAndCheckbox.tsx",code:'/**\n * 左边日期范围选择框右边复选框的复合组件\n */\nimport React, { useMemo } from "react";\nimport { DatePicker, Checkbox } from "antd";\nimport { CheckboxChangeEvent } from "antd/es/checkbox";\nimport { Dayjs } from "dayjs";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\nconst { RangePicker } = DatePicker;\n\ntype Value = [\n  Dayjs | null | undefined,\n  Dayjs | null | undefined,\n  boolean | undefined\n];\ntype Status = "warning" | "error" | "" | undefined;\n\ntype RangePickerAndCheckboxProps = {\n  value?: Value;\n  checkboxLabel?: string;\n  disabled?: boolean;\n  rangePickerProps?: Record<string, any>; // 传递给日期范围选择框的属性值\n  checkboxProps?: Record<string, any>; // 传递给复选框的属性值\n  onChange?: (value: Value) => void;\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  setRangePickerStatus?: (value: Value | undefined) => Status; // 当form校验时，设置日期范围选择框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  style?: Record<string, any>;\n};\n\nconst RangePickerAndCheckbox = (props: RangePickerAndCheckboxProps) => {\n  const {\n    value,\n    checkboxLabel = "",\n    disabled: selfDisabled,\n    rangePickerProps = {},\n    checkboxProps = {},\n    onChange,\n    ["aria-invalid"]: invalid,\n    setRangePickerStatus,\n    style = {},\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onRangePickerChange = (dates: [Dayjs, Dayjs] | null) => {\n    let newValue: Value =\n      value && value.length >= 3\n        ? [undefined, undefined, value[2]]\n        : [undefined, undefined, undefined];\n    if (dates && dates.length >= 2) {\n      newValue =\n        value && value.length >= 3\n          ? [dates[0], dates[1], value[2]]\n          : [dates[0], dates[1], undefined];\n    }\n    onChange?.(newValue);\n  };\n\n  const onCheckboxChange = (e: CheckboxChangeEvent) => {\n    const checked = e?.target?.checked || false;\n    const newValue: Value =\n      value && value.length >= 2\n        ? [value[0], value[1], checked]\n        : [undefined, undefined, checked];\n    onChange?.(newValue);\n  };\n\n  const rangePickerStatus = useMemo(() => {\n    if (setRangePickerStatus && invalid === "true") {\n      return setRangePickerStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  return (\n    <div className={styles.container} style={style}>\n      <RangePicker\n        value={\n          value && value.length >= 2\n            ? [value[0], value[1]]\n            : [undefined, undefined]\n        }\n        disabled={disabled}\n        status={rangePickerStatus}\n        {...rangePickerProps}\n        // @ts-ignore\n        onChange={onRangePickerChange}\n      />\n      <Checkbox\n        className={`${styles.checkbox}${\n          !checkboxLabel ? ` ${styles.noLabel}` : ""\n        }`}\n        checked={value && value.length >= 3 ? value[2] : false}\n        disabled={disabled}\n        {...checkboxProps}\n        onChange={onCheckboxChange}\n      >\n        {checkboxLabel}\n      </Checkbox>\n    </div>\n  );\n};\n\nexport default RangePickerAndCheckbox;'},{fileName:"RangePickerAndCheckbox.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  .checkbox {\n    display: flex;\n    align-items: center;\n    margin-left: 8px;\n    span {\n      word-break: keep-all;\n    }\n  }\n  .noLabel {\n    span:not(.ant-checkbox) {\n      padding-inline-start: 0 !important;\n      padding-inline-end: 0 !important;\n    }\n  }\n}"}]),Ve=()=>(0,i.jsx)(pe,{className:Fe,title:"左边日期范围选择框右边复选框的复合组件",codeParams:Oe,children:(0,i.jsx)(Me,{})});var Ee=t(2203);const Le="CustomRangePicker_container__ORuOy",Ke="CustomRangePicker_datePicker__8v8Zv",$e="CustomRangePicker_center__vEzdz",Be=e=>{const{value:n,placeholder:t,customCenter:l="~",disabled:o,datePickerProps:s={},onChange:r,"aria-invalid":d,setDatePickerStatus:c,style:u={}}=e,m=ye(o),p=(0,a.useMemo)((()=>c&&"true"===d?c(n):[void 0,void 0]),[d,n]),h=(0,a.useMemo)((()=>[t?.[0]?t[0]:"开始日期",t?.[1]?t[1]:"结束日期"]),[t]);return(0,i.jsxs)("div",{className:Le,style:u,children:[(0,i.jsx)(be.A,{className:Ke,value:n&&n.length>=1?n[0]:void 0,placeholder:h[0],disabledDate:e=>{if(s?.disabledDate)return s.disabledDate(e,"start");if(n&&n.length>=2&&n[1]){if(e.format("YYYY-MM-DD")===n[1].format("YYYY-MM-DD"))return!1;if(e>n[1])return!0}return!1},disabledTime:s?.showTime?e=>{if(s?.disabledTime)return s.disabledTime(e,"start");if(n&&n.length>=2&&n[1]&&g()(e.format("YYYY-MM-DD"))>=g()(n[1].format("YYYY-MM-DD"))){const[e,t,a]=n[1].format("HH:mm:ss").split(":"),l=Number(e),o=Number(t),i=Number(a);return{disabledHours:()=>{const e=[];for(let n=l+1;n<24;n++)e.push(n);return e},disabledMinutes:e=>{const n=[];if(e>=l)for(let e=o+1;e<60;e++)n.push(e);return n},disabledSeconds:(e,n)=>{const t=[];if(e>=l&&n>=o)for(let e=i+1;e<60;e++)t.push(e);return t}}}return{}}:void 0,disabled:m,status:p[0],onChange:e=>{let t=n&&n.length>=2?[void 0,n[1]]:[void 0,void 0];e&&(t=n&&n.length>=2?[e,n[1]]:[e,void 0]),r?.(t)},...s}),(0,i.jsx)("div",{className:$e,children:l}),(0,i.jsx)(be.A,{className:Ke,value:n&&n.length>=2?n[1]:void 0,placeholder:h[1],disabledDate:e=>{if(s?.disabledDate)return s.disabledDate(e,"end");if(n&&n.length>=1&&n[0]){if(e.format("YYYY-MM-DD")===n[0].format("YYYY-MM-DD"))return!1;if(e<n[0])return!0}return!1},disabledTime:s?.showTime?e=>{if(s?.disabledTime)return s.disabledTime(e,"end");if(n&&n.length>=1&&n[0]&&g()(e.format("YYYY-MM-DD"))<=g()(n[0].format("YYYY-MM-DD"))){const[e,t,a]=n[0].format("HH:mm:ss").split(":"),l=Number(e),o=Number(t),i=Number(a);return{disabledHours:()=>{const e=[];for(let n=0;n<l;n++)e.push(n);return e},disabledMinutes:e=>{const n=[];if(e<=l)for(let e=0;e<o;e++)n.push(e);return n},disabledSeconds:(e,n)=>{const t=[];if(e<=l&&n<=o)for(let e=0;e<i;e++)t.push(e);return t}}}return{}}:void 0,disabled:m,status:p[1],onChange:e=>{let t=n&&n.length>=1?[n[0],void 0]:[void 0,void 0];e&&(t=n&&n.length>=1?[n[0],e]:[void 0,e]),r?.(t)},...s})]})},He=()=>{const[e]=he.A.useForm();return(0,i.jsx)(he.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(ge.A,{gutter:16,children:[(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(Be,{})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(Be,{placeholder:["开始时间","结束时间"],datePickerProps:{format:"YYYY/MM/DD HH:mm:ss",showTime:!0},customCenter:(0,i.jsx)(Ee.A,{})})})})]})})},ze="CustomRangePickerSample_container__9+JLJ",Ye=[{fileName:"index.tsx",code:'import React from "react";\nimport { Form, Row, Col } from "antd";\nimport { SwapRightOutlined } from "@ant-design/icons";\nimport CustomRangePicker from "@/components/formItems/CustomRangePicker";\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  return (\n    <Form form={form} labelAlign=\'right\'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field1\'>\n            <CustomRangePicker />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field2\'>\n            <CustomRangePicker\n              placeholder={["开始时间", "结束时间"]}\n              datePickerProps={{\n                format: "YYYY/MM/DD HH:mm:ss",\n                showTime: true,\n              }}\n              customCenter={<SwapRightOutlined />}\n            />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;'}].concat([{fileName:"CustomRangePicker.tsx",code:'/**\n * 自定义日期范围选择复合组件\n */\nimport React, { ReactNode, useMemo } from "react";\nimport { DatePicker } from "antd";\nimport dayjs, { Dayjs } from "dayjs";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\ntype Value = [Dayjs | null | undefined, Dayjs | null | undefined];\ntype Status = "warning" | "error" | "" | undefined;\n\ntype CustomRangePickerProps = {\n  value?: Value;\n  placeholder?: [string, string];\n  customCenter?: ReactNode;\n  disabled?: boolean;\n  datePickerProps?: Record<string, any>;\n  onChange?: (value: Value) => void;\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  setDatePickerStatus?: (value: Value | undefined) => Status; // 当form校验时，设置日期选择框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  style?: Record<string, any>;\n};\n\nconst CustomRangePicker = (props: CustomRangePickerProps) => {\n  const {\n    value,\n    placeholder,\n    customCenter = "~",\n    disabled: selfDisabled,\n    datePickerProps = {},\n    onChange,\n    ["aria-invalid"]: invalid,\n    setDatePickerStatus,\n    style = {},\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onStartDateChange = (date: Dayjs | null) => {\n    let newValue: Value =\n      value && value.length >= 2\n        ? [undefined, value[1]]\n        : [undefined, undefined];\n    if (date) {\n      newValue =\n        value && value.length >= 2 ? [date, value[1]] : [date, undefined];\n    }\n    onChange?.(newValue);\n  };\n\n  const onEndDateChange = (date: Dayjs | null) => {\n    let newValue: Value =\n      value && value.length >= 1\n        ? [value[0], undefined]\n        : [undefined, undefined];\n    if (date) {\n      newValue =\n        value && value.length >= 1 ? [value[0], date] : [undefined, date];\n    }\n    onChange?.(newValue);\n  };\n\n  const startDisabledDate = (currentDate: Dayjs) => {\n    if (datePickerProps?.disabledDate) {\n      return datePickerProps.disabledDate(currentDate, "start");\n    }\n    if (value && value.length >= 2 && value[1]) {\n      if (datePickerProps?.showTime) {\n        const currentFormatDate = currentDate.format("YYYYMMDD");\n        const endFormatDate = value[1].format("YYYYMMDD");\n        if (currentFormatDate === endFormatDate) {\n          return false;\n        }\n      }\n      if (currentDate > value[1]) return true;\n    }\n    return false;\n  };\n\n  const endDisabledDate = (currentDate: Dayjs) => {\n    if (datePickerProps?.disabledDate) {\n      return datePickerProps.disabledDate(currentDate, "end");\n    }\n    if (value && value.length >= 1 && value[0]) {\n      if (datePickerProps?.showTime) {\n        const currentFormatDate = currentDate.format("YYYYMMDD");\n        const startFormatDate = value[0].format("YYYYMMDD");\n        if (currentFormatDate === startFormatDate) {\n          return false;\n        }\n      }\n      if (currentDate < value[0]) return true;\n    }\n    return false;\n  };\n\n  const startDisabledTime = (selectedDate: Dayjs) => {\n    if (datePickerProps?.disabledTime) {\n      return datePickerProps.disabledTime(selectedDate, "start");\n    }\n    if (value && value.length >= 2 && value[1]) {\n      if (\n        dayjs(selectedDate.format("YYYY-MM-DD")) >=\n        dayjs(value[1].format("YYYY-MM-DD"))\n      ) {\n        const [hourStr, minuteStr, secondStr] = value[1]\n          .format("HH:mm:ss")\n          .split(":");\n        const hour = Number(hourStr);\n        const minute = Number(minuteStr);\n        const second = Number(secondStr);\n        return {\n          disabledHours: () => {\n            const disabledHours: number[] = [];\n            for (let i = hour + 1; i < 24; i++) {\n              disabledHours.push(i);\n            }\n            return disabledHours;\n          },\n          disabledMinutes: (selectedHour: number) => {\n            const disabledMinutes: number[] = [];\n            if (selectedHour >= hour) {\n              for (let i = minute + 1; i < 60; i++) {\n                disabledMinutes.push(i);\n              }\n            }\n            return disabledMinutes;\n          },\n          disabledSeconds: (selectedHour: number, selectedMinute: number) => {\n            const disabledSeconds: number[] = [];\n            if (selectedHour >= hour && selectedMinute >= minute) {\n              for (let i = second + 1; i < 60; i++) {\n                disabledSeconds.push(i);\n              }\n            }\n            return disabledSeconds;\n          },\n        };\n      }\n    }\n    return {};\n  };\n\n  const endDisabledTime = (selectedDate: Dayjs) => {\n    if (datePickerProps?.disabledTime) {\n      return datePickerProps.disabledTime(selectedDate, "end");\n    }\n    if (value && value.length >= 1 && value[0]) {\n      if (\n        dayjs(selectedDate.format("YYYY-MM-DD")) <=\n        dayjs(value[0].format("YYYY-MM-DD"))\n      ) {\n        const [hourStr, minuteStr, secondStr] = value[0]\n          .format("HH:mm:ss")\n          .split(":");\n        const hour = Number(hourStr);\n        const minute = Number(minuteStr);\n        const second = Number(secondStr);\n        return {\n          disabledHours: () => {\n            const disabledHours: number[] = [];\n            for (let i = 0; i < hour; i++) {\n              disabledHours.push(i);\n            }\n            return disabledHours;\n          },\n          disabledMinutes: (selectedHour: number) => {\n            const disabledMinutes: number[] = [];\n            if (selectedHour <= hour) {\n              for (let i = 0; i < minute; i++) {\n                disabledMinutes.push(i);\n              }\n            }\n            return disabledMinutes;\n          },\n          disabledSeconds: (selectedHour: number, selectedMinute: number) => {\n            const disabledSeconds: number[] = [];\n            if (selectedHour <= hour && selectedMinute <= minute) {\n              for (let i = 0; i < second; i++) {\n                disabledSeconds.push(i);\n              }\n            }\n            return disabledSeconds;\n          },\n        };\n      }\n    }\n    return {};\n  };\n\n  const datePickerStatus = useMemo(() => {\n    if (setDatePickerStatus && invalid === "true") {\n      return setDatePickerStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  const finalPlaceholder = useMemo(() => {\n    const startPlaceholder = placeholder?.[0] ? placeholder[0] : "开始日期";\n    const endPlaceholder = placeholder?.[1] ? placeholder[1] : "结束日期";\n    return [startPlaceholder, endPlaceholder];\n  }, [placeholder]);\n\n  return (\n    <div className={styles.container} style={style}>\n      <DatePicker\n        className={styles.datePicker}\n        value={value && value.length >= 1 ? value[0] : undefined}\n        placeholder={finalPlaceholder[0]}\n        disabledDate={startDisabledDate}\n        disabledTime={datePickerProps?.showTime ? startDisabledTime : undefined}\n        disabled={disabled}\n        status={datePickerStatus}\n        onChange={onStartDateChange}\n        {...datePickerProps}\n      />\n      <div className={styles.center}>{customCenter}</div>\n      <DatePicker\n        className={styles.datePicker}\n        value={value && value.length >= 2 ? value[1] : undefined}\n        placeholder={finalPlaceholder[1]}\n        disabledDate={endDisabledDate}\n        disabledTime={datePickerProps?.showTime ? endDisabledTime : undefined}\n        disabled={disabled}\n        status={datePickerStatus}\n        onChange={onEndDateChange}\n        {...datePickerProps}\n      />\n    </div>\n  );\n};\n\nexport default CustomRangePicker;'},{fileName:"CustomRangePicker.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  .datePicker {\n    display: flex;\n    flex: 1;\n  }\n  .center {\n    padding: 0 8px;\n  }\n}"}]),qe=()=>(0,i.jsx)(pe,{className:ze,title:"自定义日期范围选择复合组件",codeParams:Ye,children:(0,i.jsx)(He,{})});var Ge=t(6492),We=t(7444);const Ue="InputAndCheckbox_container__yadK+",Ze="InputAndCheckbox_checkbox__50f6e",Qe="InputAndCheckbox_noLabel__-JvmU",Je=e=>{const{value:n,checkboxLabel:t=null,disabled:l,inputProps:o={},checkboxProps:s={},onChange:r,"aria-invalid":d,setInputStatus:c,style:u={}}=e,m=ye(l),p=(0,a.useMemo)((()=>{if(c&&"true"===d)return c(n)}),[d,n]);return(0,i.jsxs)("div",{className:Ue,style:u,children:[(0,i.jsx)(We.A,{value:n&&n.length>=1?n[0]:void 0,disabled:m,status:p,...o,onChange:e=>{const t=e?.target?.value,a=n&&n.length>=2?[t,n[1]]:[t,void 0];r?.(a)}}),(0,i.jsx)(ve.A,{className:`${Ze}${t?"":` ${Qe}`}`,checked:n&&n.length>=2?n[1]:void 0,disabled:m,...s,onChange:e=>{const t=e?.target?.checked||!1,a=n&&n.length>=1?[n[0],t]:[void 0,t];r?.(a)},children:t})]})},Xe=[{fileName:"InputAndCheckbox.tsx",code:'/**\n * 左边输入框右边复选框的复合组件\n */\nimport React, { useMemo } from "react";\nimport { Input, Checkbox } from "antd";\nimport { CheckboxChangeEvent } from "antd/es/checkbox";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\nexport type Value = [string | undefined, boolean | undefined];\ntype Status = "warning" | "error" | "" | undefined;\n\ntype InputAndCheckboxProps = {\n  value?: Value;\n  checkboxLabel?: string;\n  disabled?: boolean;\n  inputProps?: Record<string, any>; // 传递给输入框的属性值\n  checkboxProps?: Record<string, any>; // 传递给复选框的属性值\n  onChange?: (value: Value) => void;\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  setInputStatus?: (value: Value | undefined) => Status; // 当form校验时，设置输入框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  style?: Record<string, any>;\n};\n\nconst InputAndCheckbox = (props: InputAndCheckboxProps) => {\n  const {\n    value,\n    checkboxLabel = null,\n    disabled: selfDisabled,\n    inputProps = {},\n    checkboxProps = {},\n    onChange,\n    ["aria-invalid"]: invalid,\n    setInputStatus,\n    style = {},\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onInputChange = (e: any) => {\n    const v = e?.target?.value;\n    const newValue: Value =\n      value && value.length >= 2 ? [v, value[1]] : [v, undefined];\n    onChange?.(newValue);\n  };\n\n  const onCheckboxChange = (e: CheckboxChangeEvent) => {\n    const checked = e?.target?.checked || false;\n    const newValue: Value =\n      value && value.length >= 1 ? [value[0], checked] : [undefined, checked];\n    onChange?.(newValue);\n  };\n\n  const inputStatus = useMemo(() => {\n    if (setInputStatus && invalid === "true") {\n      return setInputStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  return (\n    <div className={styles.container} style={style}>\n      <Input\n        value={value && value.length >= 1 ? value[0] : undefined}\n        disabled={disabled}\n        status={inputStatus}\n        {...inputProps}\n        onChange={onInputChange}\n      />\n      <Checkbox\n        className={`${styles.checkbox}${\n          !checkboxLabel ? ` ${styles.noLabel}` : ""\n        }`}\n        checked={value && value.length >= 2 ? value[1] : undefined}\n        disabled={disabled}\n        {...checkboxProps}\n        onChange={onCheckboxChange}\n      >\n        {checkboxLabel}\n      </Checkbox>\n    </div>\n  );\n};\n\nexport default InputAndCheckbox;'},{fileName:"InputAndCheckbox.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  .checkbox {\n    display: flex;\n    align-items: center;\n    margin-left: 8px;\n    span {\n      word-break: keep-all;\n    }\n  }\n  .noLabel {\n    span:not(.ant-checkbox) {\n      padding-inline-start: 0 !important;\n      padding-inline-end: 0 !important;\n    }\n  }\n}"}],{Option:en}=Ge.A,nn=()=>{const[e]=he.A.useForm(),n=(0,i.jsxs)(Ge.A,{defaultValue:"http://",children:[(0,i.jsx)(en,{value:"http://",children:"http://"}),(0,i.jsx)(en,{value:"https://",children:"https://"})]}),t=(0,i.jsxs)(Ge.A,{defaultValue:".com",children:[(0,i.jsx)(en,{value:".com",children:".com"}),(0,i.jsx)(en,{value:".jp",children:".jp"}),(0,i.jsx)(en,{value:".cn",children:".cn"}),(0,i.jsx)(en,{value:".org",children:".org"})]});return(0,i.jsx)(he.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(ge.A,{gutter:16,children:[(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(Je,{inputProps:{addonBefore:n,addonAfter:t},checkboxLabel:"复选框标题"})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(Je,{})})})]})})},tn="InputAndCheckboxSample_container__W59nb",an=[{fileName:"index.tsx",code:"import React from \"react\";\nimport { Form, Row, Col, Select } from \"antd\";\nimport InputAndCheckbox from \"@/components/formItems/InputAndCheckbox\";\n\nconst { Option } = Select;\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  const selectBefore = (\n    <Select defaultValue='http://'>\n      <Option value='http://'>http://</Option>\n      <Option value='https://'>https://</Option>\n    </Select>\n  );\n  const selectAfter = (\n    <Select defaultValue='.com'>\n      <Option value='.com'>.com</Option>\n      <Option value='.jp'>.jp</Option>\n      <Option value='.cn'>.cn</Option>\n      <Option value='.org'>.org</Option>\n    </Select>\n  );\n\n  return (\n    <Form form={form} labelAlign='right'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field1'>\n            <InputAndCheckbox\n              inputProps={{\n                addonBefore: selectBefore,\n                addonAfter: selectAfter,\n              }}\n              checkboxLabel='复选框标题'\n            />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field2'>\n            <InputAndCheckbox />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;"}].concat(Xe),ln=()=>(0,i.jsx)(pe,{className:tn,title:"左边输入框右边复选框的复合组件",codeParams:an,children:(0,i.jsx)(nn,{})});var on=t(7142);const sn="InputNumberAndSelect_container__7s7iS",rn="InputNumberAndSelect_inputNumber__Xbfyv",dn="InputNumberAndSelect_select__hietx",cn=e=>{const{value:n,options:t=[],disabled:l,inputNumberProps:o={},selectProps:s={},onChange:r,"aria-invalid":d,setInputNumberStatus:c,setSelectStatus:u,style:m={}}=e,p=ye(l),h=(0,a.useMemo)((()=>{if(c&&"true"===d)return c(n)}),[d,n]),g=(0,a.useMemo)((()=>{if(u&&"true"===d)return u(n)}),[d,n]);return(0,i.jsxs)("div",{className:sn,style:m,children:[(0,i.jsx)(on.A,{className:rn,value:n&&n.length>=1?n[0]:void 0,disabled:p,status:h,...o,onChange:e=>{const t=n&&n.length>=2?[e,n[1]]:[e,void 0];r?.(t)}}),(0,i.jsx)(Ge.A,{className:dn,value:n&&n.length>=2?n[1]:void 0,options:t,disabled:p,status:g,...s,onChange:(e,t)=>{const a=n&&n.length>=1?[n[0],e]:[void 0,e];r?.(a,t)}})]})},un=()=>{const[e]=he.A.useForm();return(0,i.jsx)(he.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(ge.A,{gutter:16,children:[(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(cn,{options:[{name:"工作日",id:"workingDay"},{name:"自然日",id:"naturalDay"}],inputNumberProps:{addonAfter:"个"},selectProps:{fieldNames:{label:"name",value:"id"}}})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(cn,{options:[{label:"年",value:"year"},{label:"月",value:"month"},{label:"天",value:"day"}],inputNumberProps:{min:0,max:1e4,precision:2}})})})]})})},mn="InputNumberAndSelectSample_container__YVhxN",pn=[{fileName:"index.tsx",code:'import React from "react";\nimport { Form, Row, Col } from "antd";\nimport InputNumberAndSelect from "@/components/formItems/InputNumberAndSelect";\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  return (\n    <Form form={form} labelAlign=\'right\'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field1\'>\n            <InputNumberAndSelect\n              options={[\n                { name: "工作日", id: "workingDay" },\n                { name: "自然日", id: "naturalDay" },\n              ]}\n              inputNumberProps={{ addonAfter: "个" }}\n              selectProps={{\n                fieldNames: { label: "name", value: "id" },\n              }}\n            />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field2\'>\n            <InputNumberAndSelect\n              options={[\n                { label: "年", value: "year" },\n                { label: "月", value: "month" },\n                { label: "天", value: "day" },\n              ]}\n              inputNumberProps={{ min: 0, max: 10000, precision: 2 }}\n            />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;'}].concat([{fileName:"InputNumberAndSelect.tsx",code:'/**\n * 左边数值输入框右边下拉框的复合组件\n */\nimport React, { useMemo } from "react";\nimport { InputNumber, Select } from "antd";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\nexport type Value = [number | string | null | undefined, string | undefined];\ntype Status = "warning" | "error" | "" | undefined;\n\ntype InputNumberAndSelectProps = {\n  value?: Value;\n  options: Record<string, any>;\n  disabled?: boolean;\n  inputNumberProps?: Record<string, any>; // 传递给数值输入框的属性值\n  selectProps?: Record<string, any>; // 传递给下拉框的属性值\n  onChange?: (value: Value, option?: Record<string, any>) => void; // 如果修改下拉框则onChange的第二个参数会返回option\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  setInputNumberStatus?: (value: Value | undefined) => Status; // 当form校验时，设置数值输入框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  setSelectStatus?: (value: Value | undefined) => Status; // 当form校验时，设置下拉框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  style?: Record<string, any>;\n};\n\nconst InputNumberAndSelect = (props: InputNumberAndSelectProps) => {\n  const {\n    value,\n    options = [],\n    disabled: selfDisabled,\n    inputNumberProps = {},\n    selectProps = {},\n    onChange,\n    ["aria-invalid"]: invalid,\n    setInputNumberStatus,\n    setSelectStatus,\n    style = {},\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onInputNumberChange = (v: number | string | null) => {\n    const newValue: Value =\n      value && value.length >= 2 ? [v, value[1]] : [v, undefined];\n    onChange?.(newValue);\n  };\n\n  const onSelectChange = (v: string, option: Record<string, any>) => {\n    const newValue: Value =\n      value && value.length >= 1 ? [value[0], v] : [undefined, v];\n    onChange?.(newValue, option);\n  };\n\n  const inputNumberStatus = useMemo(() => {\n    if (setInputNumberStatus && invalid === "true") {\n      return setInputNumberStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  const selectStatus = useMemo(() => {\n    if (setSelectStatus && invalid === "true") {\n      return setSelectStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  return (\n    <div className={styles.container} style={style}>\n      <InputNumber\n        className={styles.inputNumber}\n        value={value && value.length >= 1 ? value[0] : undefined}\n        disabled={disabled}\n        status={inputNumberStatus}\n        {...inputNumberProps}\n        onChange={onInputNumberChange}\n      />\n      <Select\n        className={styles.select}\n        value={value && value.length >= 2 ? value[1] : undefined}\n        options={options as any[]}\n        disabled={disabled}\n        status={selectStatus}\n        {...selectProps}\n        onChange={onSelectChange}\n      />\n    </div>\n  );\n};\n\nexport default InputNumberAndSelect;'},{fileName:"InputNumberAndSelect.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  .inputNumber {\n    display: flex;\n    flex: 1;\n  }\n  .select {\n    display: flex;\n    flex: 1;\n    margin-left: 8px;\n  }\n}"}]),hn=()=>(0,i.jsx)(pe,{className:mn,title:"左边数值输入框右边下拉框的复合组件",codeParams:pn,children:(0,i.jsx)(un,{})});var gn=t(770);const fn="RadioGroupAndSelect_container__vkPOd",bn="RadioGroupAndSelect_radioGroup__Y54gl",vn="RadioGroupAndSelect_selectBox__84kOJ",xn="RadioGroupAndSelect_select__GlHSP",yn=[{label:"是",value:1},{label:"否",value:0}],Sn=e=>{const{value:n,selectOptions:t=[],radioGroupOptions:l=yn,disabled:o,radioGroupProps:s={},selectProps:r={},onChange:d,"aria-invalid":c,setSelectStatus:u,whenShowSelect:m=0,reserveSelectValue:p=!1,style:h={}}=e,g=ye(o),f=(0,a.useMemo)((()=>{if(u&&"true"===c)return u(n)}),[c,n]);return(0,i.jsxs)("div",{className:fn,style:h,children:[(0,i.jsx)(gn.Ay.Group,{className:bn,value:n&&n.length>=1?n[0]:void 0,options:l,disabled:g,...s,onChange:e=>{const t=e.target?.value,a=n&&n.length>=2?[t,p||t===m?n[1]:void 0]:[t,void 0];d?.(a)}}),(0,i.jsx)("div",{className:vn,children:n?.[0]===m&&(0,i.jsx)(Ge.A,{className:xn,value:n&&n.length>=2?n[1]:void 0,options:t,disabled:g,status:f,...r,onChange:(e,t)=>{const a=n&&n.length>=1?[n[0],e]:[void 0,e];d?.(a,t)}})})]})},kn=[{label:"工作日",value:"workingDay"},{label:"自然日",value:"naturalDay"}],wn=[{label:"选项1",value:"1"},{label:"选项2",value:"2"},{label:"选项3",value:"3"}],Cn=()=>{const[e]=he.A.useForm();return(0,i.jsx)(he.A,{form:e,labelAlign:"right",initialValues:{field1:[0,void 0]},children:(0,i.jsxs)(ge.A,{gutter:16,children:[(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(Sn,{selectOptions:wn})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(Sn,{radioGroupOptions:kn,whenShowSelect:"workingDay",reserveSelectValue:!0,selectOptions:wn})})})]})})},Rn="RadioGroupAndSelectSample_container__ZAWTR",An=[{fileName:"index.tsx",code:'import React from "react";\nimport { Form, Row, Col } from "antd";\nimport RadioGroupAndSelect from "@/components/formItems/RadioGroupAndSelect";\n\nconst RADIO_GROUP_OPTIONS = [\n  { label: "工作日", value: "workingDay" },\n  { label: "自然日", value: "naturalDay" },\n];\nconst SELECT_OPTIONS = [\n  { label: "选项1", value: "1" },\n  { label: "选项2", value: "2" },\n  { label: "选项3", value: "3" },\n];\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  return (\n    <Form\n      form={form}\n      labelAlign=\'right\'\n      initialValues={{ field1: [0, undefined] }}\n    >\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field1\'>\n            <RadioGroupAndSelect selectOptions={SELECT_OPTIONS} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field2\'>\n            <RadioGroupAndSelect\n              radioGroupOptions={RADIO_GROUP_OPTIONS}\n              whenShowSelect=\'workingDay\'\n              reserveSelectValue\n              selectOptions={SELECT_OPTIONS}\n            />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;'}].concat([{fileName:"RadioGroupAndSelect.tsx",code:'/**\n * 左边单选框右边下拉框的复合组件\n */\nimport React, { useMemo } from "react";\nimport { Radio, Select } from "antd";\nimport type { RadioChangeEvent } from "antd";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\nexport type Value = [number | string | undefined, string | undefined];\ntype Status = "warning" | "error" | "" | undefined;\n\ntype RadioGroupAndSelectProps = {\n  value?: Value;\n  selectOptions: Record<string, any>;\n  radioGroupOptions?: Record<string, any>;\n  disabled?: boolean;\n  radioGroupProps?: Record<string, any>; // 传递给单选框的属性值\n  selectProps?: Record<string, any>; // 传递给下拉框的属性值\n  onChange?: (value: Value, option?: Record<string, any>) => void; // 如果修改下拉框则onChange的第二个参数会返回option\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  setSelectStatus?: (value: Value | undefined) => Status; // 当form校验时，设置下拉框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  whenShowSelect?: number | string; // 何时显示右边的下拉框，默认当左边单选框的值为0时\n  reserveSelectValue?: boolean; // 当下拉框不显示时，是否要保留下拉框中的值，默认为false\n  style?: Record<string, any>;\n};\n\nconst DEFAULT_RADIO_GROUP_OPTIONS = [\n  { label: "是", value: 1 },\n  { label: "否", value: 0 },\n];\n\nconst RadioGroupAndSelect = (props: RadioGroupAndSelectProps) => {\n  const {\n    value,\n    selectOptions = [],\n    radioGroupOptions = DEFAULT_RADIO_GROUP_OPTIONS,\n    disabled: selfDisabled,\n    radioGroupProps = {},\n    selectProps = {},\n    onChange,\n    ["aria-invalid"]: invalid,\n    setSelectStatus,\n    whenShowSelect = 0,\n    reserveSelectValue = false,\n    style = {},\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onRadioGroupChange = (e: RadioChangeEvent) => {\n    const v = e.target?.value;\n    const newValue: Value =\n      value && value.length >= 2\n        ? [v, reserveSelectValue || v === whenShowSelect ? value[1] : undefined]\n        : [v, undefined];\n    onChange?.(newValue);\n  };\n\n  const onSelectChange = (v: string, option: Record<string, any>) => {\n    const newValue: Value =\n      value && value.length >= 1 ? [value[0], v] : [undefined, v];\n    onChange?.(newValue, option);\n  };\n\n  const selectStatus = useMemo(() => {\n    if (setSelectStatus && invalid === "true") {\n      return setSelectStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  return (\n    <div className={styles.container} style={style}>\n      <Radio.Group\n        className={styles.radioGroup}\n        value={value && value.length >= 1 ? value[0] : undefined}\n        options={radioGroupOptions as any[]}\n        disabled={disabled}\n        {...radioGroupProps}\n        onChange={onRadioGroupChange}\n      />\n      <div className={styles.selectBox}>\n        {value?.[0] === whenShowSelect && (\n          <Select\n            className={styles.select}\n            value={value && value.length >= 2 ? value[1] : undefined}\n            options={selectOptions as any[]}\n            disabled={disabled}\n            status={selectStatus}\n            {...selectProps}\n            onChange={onSelectChange}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RadioGroupAndSelect;'},{fileName:"RadioGroupAndSelect.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  .radioGroup {\n    display: flex;\n  }\n  .selectBox {\n    display: flex;\n    flex: 1;\n    .select {\n      display: flex;\n      flex: 1;\n    }\n  }\n}"}]),_n=()=>(0,i.jsx)(pe,{className:Rn,title:"左边单选框右边下拉框的复合组件",codeParams:An,children:(0,i.jsx)(Cn,{})});var Pn=t(9822),jn=t(5709);const Nn="CanAddMultiple_container__ZEPWF",Dn="CanAddMultiple_row__--s1X",Tn="CanAddMultiple_addBtn__tRlxQ",In="CanAddMultiple_disabled__ZEO7H",Mn="CanAddMultiple_deleteBtn__s+wlP",Fn=e=>{const{value:n,disabled:t,hideBtn:l=!1,maxRows:o=-1,children:s,onChange:r,style:d={},...c}=e,u=ye(t),m=(e,t,a)=>{if(n&&n.length>0){const l=[];n.forEach(((n,a)=>{a===e?l.push(t):l.push(n)})),r?.(l,...a)}else r?.([t],...a)},p=()=>{if(u)return;let e=[void 0,void 0];if(n&&n.length>0){if(o>0&&n.length>=o)return void W.Ay.warning(`最多可添加${o}个`);e=[...n,void 0]}r?.(e)},h=(0,a.useMemo)((()=>n&&n.length>0?n:[void 0]),[n]);return(0,i.jsx)("div",{className:Nn,style:d,children:h.map(((e,t)=>(0,i.jsxs)("div",{className:Dn,children:[s?a.cloneElement(s,{value:e,disabled:u,index:t,onChange:function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];return m(t,e,a)},...c}):null,!l&&(0,i.jsxs)(i.Fragment,{children:[0===t&&(0,i.jsx)("div",{className:`${Tn}${u?` ${In}`:""}`,onClick:p,children:(0,i.jsx)(Pn.A,{})}),t>0&&(0,i.jsx)("div",{className:`${Mn}${u?` ${In}`:""}`,onClick:()=>(e=>{if(!u&&n&&n.length>0){const t=n.filter(((n,t)=>t!==e));r?.(t)}})(t),children:(0,i.jsx)(jn.A,{})})]})]},t)))})},On=[{fileName:"CanAddMultiple.tsx",code:'/**\n * 可增加和删除多条数据的包装组件\n */\nimport React, { useMemo, ReactElement } from "react";\nimport { message } from "antd";\nimport { PlusCircleOutlined, MinusCircleOutlined } from "@ant-design/icons";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\ntype Value = any[];\n\ntype CanAddMultipleProps = {\n  value?: Value;\n  disabled?: boolean;\n  hideBtn?: boolean; // 是否隐藏新增和删除按钮\n  maxRows?: number; // 最多可显示的行个数, 默认为-1无限制\n  children?: ReactElement | null; // children必须是支持value和onChange属性的组件\n  onChange?: (value: Value, ...restProps: any[]) => void;\n  style?: Record<string, any>;\n} & { [key in string]: any };\n\nconst CanAddMultiple = (props: CanAddMultipleProps) => {\n  const {\n    value,\n    disabled: selfDisabled,\n    hideBtn = false,\n    maxRows = -1,\n    children,\n    onChange,\n    style = {},\n    ...restProrps\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onChildrenChange = (index: number, rowValue: any, restProps: any[]) => {\n    if (value && value.length > 0) {\n      const newValue: Value = [];\n      value.forEach((item: any, i: number) => {\n        if (i === index) {\n          newValue.push(rowValue);\n        } else {\n          newValue.push(item);\n        }\n      });\n      onChange?.(newValue, ...restProps);\n    } else {\n      onChange?.([rowValue], ...restProps);\n    }\n  };\n\n  const onAdd = () => {\n    if (disabled) return;\n    let newValue: Value = [undefined, undefined];\n    if (value && value.length > 0) {\n      if (maxRows > 0 && value.length >= maxRows) {\n        message.warning(`最多可添加${maxRows}个`);\n        return;\n      }\n      newValue = [...value, undefined];\n    }\n    onChange?.(newValue);\n  };\n\n  const onDelete = (index: number) => {\n    if (disabled) return;\n    if (value && value.length > 0) {\n      const newValue: Value = value.filter((_: any, i: number) => i !== index);\n      onChange?.(newValue);\n    }\n  };\n\n  const finalValue = useMemo(() => {\n    if (value && value.length > 0) {\n      return value;\n    }\n    return [undefined];\n  }, [value]);\n\n  return (\n    <div className={styles.container} style={style}>\n      {finalValue.map((itemValue: any, index: number) => {\n        return (\n          <div className={styles.row} key={index}>\n            {children\n              ? React.cloneElement(children, {\n                  value: itemValue,\n                  disabled,\n                  index,\n                  onChange: (value: any, ...restProps: any[]) =>\n                    onChildrenChange(index, value, restProps),\n                  ...restProrps,\n                })\n              : null}\n            {!hideBtn && (\n              <>\n                {index === 0 && (\n                  <div\n                    className={`${styles.addBtn}${\n                      disabled ? ` ${styles.disabled}` : ""\n                    }`}\n                    onClick={onAdd}\n                  >\n                    <PlusCircleOutlined />\n                  </div>\n                )}\n                {index > 0 && (\n                  <div\n                    className={`${styles.deleteBtn}${\n                      disabled ? ` ${styles.disabled}` : ""\n                    }`}\n                    onClick={() => onDelete(index)}\n                  >\n                    <MinusCircleOutlined />\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default CanAddMultiple;'},{fileName:"CanAddMultiple.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  .row {\n    display: flex;\n    align-items: center;\n    &:not(:first-child) {\n      margin-top: 8px;\n    }\n\n    $btnSize: 16px;\n    .addBtn:not(.disabled) {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      :global {\n        svg {\n          width: $btnSize;\n          height: $btnSize;\n          path {\n            fill: $globalPrimaryColor;\n          }\n        }\n      }\n    }\n\n    .deleteBtn:not(.disabled) {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      :global {\n        svg {\n          width: $btnSize;\n          height: $btnSize;\n          path {\n            fill: $globalRedColor;\n          }\n        }\n      }\n    }\n\n    .disabled {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: not-allowed;\n      :global {\n        svg {\n          width: $btnSize;\n          height: $btnSize;\n          path {\n            fill: $disabledColor;\n          }\n        }\n      }\n    }\n  }\n}"}],{Option:Vn}=Ge.A,En=()=>{const[e]=he.A.useForm(),n=(0,i.jsxs)(Ge.A,{defaultValue:"http://",children:[(0,i.jsx)(Vn,{value:"http://",children:"http://"}),(0,i.jsx)(Vn,{value:"https://",children:"https://"})]}),t=(0,i.jsxs)(Ge.A,{defaultValue:".com",children:[(0,i.jsx)(Vn,{value:".com",children:".com"}),(0,i.jsx)(Vn,{value:".jp",children:".jp"}),(0,i.jsx)(Vn,{value:".cn",children:".cn"}),(0,i.jsx)(Vn,{value:".org",children:".org"})]});return(0,i.jsx)(he.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(ge.A,{gutter:16,children:[(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(Fn,{maxRows:5,children:(0,i.jsx)(Je,{inputProps:{addonBefore:n,addonAfter:t},checkboxLabel:"复选框标题"})})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(Fn,{maxRows:6,children:(0,i.jsx)(cn,{style:{marginRight:"8px"},options:[{name:"工作日",id:"workingDay"},{name:"自然日",id:"naturalDay"}],inputNumberProps:{addonAfter:"个"},selectProps:{fieldNames:{label:"name",value:"id"}}})})})})]})})},Ln="CanAddMultipleSample_container__F08Q9",Kn=[{fileName:"index.tsx",code:"import React from \"react\";\nimport { Form, Row, Col, Select } from \"antd\";\nimport CanAddMultiple from \"@/components/formItems/CanAddMultiple\";\nimport InputAndCheckbox from \"@/components/formItems/InputAndCheckbox\";\nimport InputNumberAndSelect from \"@/components/formItems/InputNumberAndSelect\";\n\nconst { Option } = Select;\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  const selectBefore = (\n    <Select defaultValue='http://'>\n      <Option value='http://'>http://</Option>\n      <Option value='https://'>https://</Option>\n    </Select>\n  );\n  const selectAfter = (\n    <Select defaultValue='.com'>\n      <Option value='.com'>.com</Option>\n      <Option value='.jp'>.jp</Option>\n      <Option value='.cn'>.cn</Option>\n      <Option value='.org'>.org</Option>\n    </Select>\n  );\n\n  return (\n    <Form form={form} labelAlign='right'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field1'>\n            <CanAddMultiple maxRows={5}>\n              <InputAndCheckbox\n                inputProps={{\n                  addonBefore: selectBefore,\n                  addonAfter: selectAfter,\n                }}\n                checkboxLabel='复选框标题'\n              />\n            </CanAddMultiple>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field2'>\n            <CanAddMultiple maxRows={6}>\n              <InputNumberAndSelect\n                style={{ marginRight: \"8px\" }}\n                options={[\n                  { name: \"工作日\", id: \"workingDay\" },\n                  { name: \"自然日\", id: \"naturalDay\" },\n                ]}\n                inputNumberProps={{ addonAfter: \"个\" }}\n                selectProps={{\n                  fieldNames: { label: \"name\", value: \"id\" },\n                }}\n              />\n            </CanAddMultiple>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;"}].concat(On),$n=()=>(0,i.jsx)(pe,{className:Ln,title:"可增加和删除多条数据的包装组件",codeParams:Kn,children:(0,i.jsx)(En,{})});var Bn=t(8073),Hn=t(9029);const zn="CustomMultiSelect_customMultiSelect__N7bxY",Yn="CustomMultiSelect_customMultiSelectDropdown__oxo5j",qn="CustomMultiSelect_allCheck__8IuYv",Gn="CustomMultiSelect_allCheckbox__1e2Hc",Wn="CustomMultiSelect_clear__cqA1W",Un="CustomMultiSelect_checkCount__JOvMq",Zn="CustomMultiSelect_options__7oOO7",Qn=Symbol("labelKey"),Jn=e=>{const{value:n,options:t,customOptionLabel:l,dropdownRenderContent:o,disabled:s,onChange:r,searchKeys:d,onSearch:c,customFilter:u,maxTagCount:m=0,showSimplePlaceholder:p=!1,onDropdownVisibleChange:h,fieldNames:g,loading:f=!1,style:b={},...v}=e,[x,y]=(0,a.useState)(!1),S=(0,a.useRef)(!1),k=(0,a.useRef)(""),w=(e,n)=>{if(!e)return!0;if(u)return u(e,n);const t=Object.keys(n).some((t=>{const a=n[t]||"";return d&&d.length>0?d.includes(t)&&a.toString().toLowerCase().includes(e.toLocaleLowerCase()):("string"!=typeof t||!["id","key"].includes(t))&&(t!==Qn&&a.toString().toLowerCase().includes(e.toLocaleLowerCase()))}));return t},C=e=>{if(e){const e=g?.value||"value",a=(t?.filter((e=>!k.current||w(k.current,e)))||[]).map((n=>n[e])),l=new Set(a.concat(n||[]));r?.([...l])}else r?.([])},R=(0,a.useCallback)((e=>{e.stopPropagation(),r?.([])}),[]),{isAllSelected:A,indeterminate:_}=(0,a.useMemo)((()=>{const e=g?.value||"value",a=t&&t.length>0&&n&&n.length>0&&t.every((t=>n.includes(t[e])));return{isAllSelected:a,indeterminate:!a&&n&&n.length>0}}),[n,t]),P=(0,a.useMemo)((()=>t?.map(((e,t)=>{const a=g?.label||"label",o=g?.value||"value";return{...e,[Qn]:l?l(e,n,t):(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(ve.A,{style:{marginRight:4},checked:n?.includes(e[o])}),(0,i.jsx)("span",{children:e[a]})]},e[o])}}))||[]),[n,t]),j=(0,a.useMemo)((()=>{let e={...g||{}};return e.label=Qn,e}),[]);return(0,i.jsx)(Ge.A,{className:zn,style:b,showSearch:!0,maxTagCount:m,maxTagPlaceholder:n&&n.length>m?()=>{const e=g?.label||"label",a=g?.value||"value";let l=[];return n&&n.length>0&&t&&t.length>0&&(l=t.filter((e=>n.includes(e[a])))),p?l.map((n=>n[e])).join(", "):(0,i.jsx)(Bn.A,{placement:"bottomLeft",content:(0,i.jsx)("div",{children:l.map((n=>(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",height:24,minWidth:100,justifyContent:"space-between"},children:n[e]},n[a])))}),open:x,onOpenChange:()=>{S.current||y(!x)},children:(0,i.jsx)("div",{style:{width:"100%",marginLeft:-6,paddingLeft:6},onClick:()=>{S.current||y(!0)},children:`已选${n?n.length:0}个项目`})})}:null,value:n,onChange:r,onDropdownVisibleChange:e=>{S.current=e,h?.(e),y(!1),e||(k.current="")},filterOption:(e,n)=>w(e,n),loading:f,...v,mode:"multiple",options:P,fieldNames:j,dropdownRender:o||(e=>(0,i.jsx)("div",{className:Yn,children:(0,i.jsxs)(Hn.A,{spinning:f,children:[(0,i.jsxs)("div",{className:qn,children:[(0,i.jsx)(ve.A,{className:Gn,checked:A,indeterminate:_,onChange:()=>{C(!A)},children:(0,i.jsx)("span",{onClick:e=>{e.preventDefault(),C(!A)},children:"全选"})}),(0,i.jsx)("span",{className:Wn,onClick:R,children:"清空"}),(0,i.jsxs)("span",{className:Un,children:["已选（",n?.length||0,"/",t?.length||0,"）"]})]}),(0,i.jsx)("div",{className:Zn,children:e})]})})),onSearch:e=>{k.current=e,c?.(e)}})},Xn=[{fileName:"CustomMultiSelect.tsx",code:'/**\n * 可自定义的多选下拉框组件\n */\nimport React, {\n  ReactNode,\n  useState,\n  useRef,\n  useCallback,\n  useMemo,\n} from "react";\nimport { Select, Popover, Checkbox, Spin } from "antd";\nimport type { SelectProps } from "antd";\nimport styles from "./index.module.scss";\n\nexport type CustomMultiSelectProps = {\n  value?: string[];\n  options?: Record<string | symbol, any>[];\n  customOptionLabel?: (\n    option: Record<string | symbol, any>,\n    value?: string[],\n    index?: number\n  ) => ReactNode; // 自定义下拉选项的视图, 不传时，会显示默认视图；传值后，则直接使用该函数返回的视图进行显示\n  dropdownRenderContent?: (menu?: ReactNode) => ReactNode; // 下拉面板自定义视图\n  disabled?: boolean;\n  popupParentElement?: boolean; // 下拉面板是否渲染到父节点上，默认false，渲染到document.body上\n  onChange?: (value: any[], options?: Record<string, any>[]) => void;\n  searchKeys?: (string | symbol)[]; // 要进行模糊搜索的字段名列表\n  onSearch?: (searchValue: string, selected?: string[]) => void;\n  customFilter?: (\n    input: string,\n    record: Record<string | symbol, any>\n  ) => boolean; // 自定义模糊搜索\n  maxTagCount?: number;\n  showSimplePlaceholder?: boolean; // 已选中的是否只简单显示 label1, label2\n  onDropdownVisibleChange?: (openState?: boolean) => void; // 下拉面板显示隐藏时的回调\n  fieldNames?: Record<string, any>;\n  loading?: boolean;\n  style?: Record<string, any>;\n} & SelectProps;\n\nconst labelKeySymbol = Symbol("labelKey");\n\nconst CustomMultiSelect = (props: CustomMultiSelectProps) => {\n  const {\n    value,\n    options,\n    customOptionLabel,\n    dropdownRenderContent,\n    disabled,\n    onChange,\n    searchKeys,\n    onSearch,\n    customFilter,\n    maxTagCount = 0,\n    showSimplePlaceholder = false,\n    onDropdownVisibleChange,\n    fieldNames,\n    loading = false,\n    style = {},\n    ...restProps\n  } = props;\n  const [popoverVisible, setPopoverVisible] = useState<boolean>(false);\n  const dropdownOpenRef = useRef<boolean>(false);\n  const searchValueRef = useRef<string>("");\n\n  const onFilter = (\n    inputValue: string,\n    record: Record<string | symbol, any>\n  ) => {\n    if (!inputValue) return true;\n    if (customFilter) {\n      return customFilter(inputValue, record);\n    }\n\n    const result = Object.keys(record).some((key: string | symbol) => {\n      const value = record[key] || "";\n      if (searchKeys && searchKeys.length > 0) {\n        return (\n          searchKeys.includes(key) &&\n          value\n            .toString()\n            .toLowerCase()\n            .includes(inputValue.toLocaleLowerCase())\n        );\n      }\n\n      if (typeof key === "string" && ["id", "key"].includes(key)) return false;\n      if (key === labelKeySymbol) return false;\n\n      return value\n        .toString()\n        .toLowerCase()\n        .includes(inputValue.toLocaleLowerCase());\n    });\n\n    return result;\n  };\n\n  const filterOption = (\n    inputValue: string,\n    option: Record<string | symbol, any>\n  ) => {\n    return onFilter(inputValue, option);\n  };\n\n  const handleSearch = (searchValue: string) => {\n    searchValueRef.current = searchValue;\n    onSearch?.(searchValue);\n  };\n\n  const handleDropdownVisibleChange = (openState: boolean) => {\n    dropdownOpenRef.current = openState;\n    onDropdownVisibleChange?.(openState);\n    setPopoverVisible(false);\n    if (!openState) {\n      searchValueRef.current = "";\n    }\n  };\n\n  const onAllCheckboxChange = (checked: boolean) => {\n    if (checked) {\n      const valueKey = fieldNames?.value || "value";\n      const allValues = (\n        options?.filter(\n          (item: Record<string | symbol, any>) =>\n            !searchValueRef.current || onFilter(searchValueRef.current, item)\n        ) || []\n      ).map((item) => item[valueKey]);\n      const newValue = new Set(allValues.concat(value || []));\n      onChange?.([...newValue]);\n    } else {\n      onChange?.([]);\n    }\n  };\n\n  const onClear = useCallback((e: any) => {\n    e.stopPropagation();\n    onChange?.([]);\n  }, []);\n\n  const { isAllSelected, indeterminate } = useMemo(() => {\n    const valueKey = fieldNames?.value || "value";\n    const isAllSelected =\n      options &&\n      options.length > 0 &&\n      value &&\n      value.length > 0 &&\n      options.every((item: Record<string | symbol, any>) =>\n        value.includes(item[valueKey])\n      );\n    const indeterminate = !isAllSelected && value && value.length > 0;\n    return { isAllSelected, indeterminate };\n  }, [value, options]);\n\n  const hoverMaxTagPlaceholder = () => {\n    const labelKey = fieldNames?.label || "label";\n    const valueKey = fieldNames?.value || "value";\n    let selectedOptions: Record<string, any>[] = [];\n    if (value && value.length > 0 && options && options.length > 0) {\n      selectedOptions = options.filter((item: Record<string | symbol, any>) =>\n        value.includes(item[valueKey])\n      );\n    }\n\n    if (showSimplePlaceholder) {\n      return selectedOptions\n        .map((item: Record<string | symbol, any>) => item[labelKey])\n        .join(", ");\n    }\n\n    return (\n      <Popover\n        placement=\'bottomLeft\'\n        content={\n          <div>\n            {selectedOptions.map((record: Record<string | symbol, any>) => (\n              <div\n                style={{\n                  display: "flex",\n                  alignItems: "center",\n                  height: 24,\n                  minWidth: 100,\n                  justifyContent: "space-between",\n                }}\n                key={record[valueKey]}\n              >\n                {record[labelKey]}\n              </div>\n            ))}\n          </div>\n        }\n        open={popoverVisible}\n        onOpenChange={() => {\n          if (dropdownOpenRef.current) return;\n          setPopoverVisible(!popoverVisible);\n        }}\n      >\n        <div\n          style={{ width: "100%", marginLeft: -6, paddingLeft: 6 }}\n          onClick={() => {\n            if (!dropdownOpenRef.current) {\n              setPopoverVisible(true);\n            }\n          }}\n        >\n          {`已选${value ? value.length : 0}个项目`}\n        </div>\n      </Popover>\n    );\n  };\n\n  const dropdownRender = (menu: any) => (\n    <div className={styles.customMultiSelectDropdown}>\n      <Spin spinning={loading}>\n        <div className={styles.allCheck}>\n          <Checkbox\n            className={styles.allCheckbox}\n            checked={isAllSelected}\n            indeterminate={indeterminate}\n            onChange={() => {\n              onAllCheckboxChange(!isAllSelected);\n            }}\n          >\n            <span\n              onClick={(e) => {\n                e.preventDefault();\n                onAllCheckboxChange(!isAllSelected);\n              }}\n            >\n              全选\n            </span>\n          </Checkbox>\n          <span className={styles.clear} onClick={onClear}>\n            清空\n          </span>\n          <span className={styles.checkCount}>\n            已选（{value?.length || 0}/{options?.length || 0}）\n          </span>\n        </div>\n        <div className={styles.options}>{menu}</div>\n      </Spin>\n    </div>\n  );\n\n  const finalOptions = useMemo(() => {\n    return (\n      options?.map((option: Record<string | symbol, any>, index: number) => {\n        const labelKey = fieldNames?.label || "label";\n        const valueKey = fieldNames?.value || "value";\n        return {\n          ...option,\n          [labelKeySymbol]: customOptionLabel ? (\n            customOptionLabel(option, value, index)\n          ) : (\n            <div\n              style={{ display: "flex", alignItems: "center" }}\n              key={option[valueKey]}\n            >\n              <Checkbox\n                style={{ marginRight: 4 }}\n                checked={value?.includes(option[valueKey])}\n              />\n              <span>{option[labelKey]}</span>\n            </div>\n          ),\n        };\n      }) || []\n    );\n  }, [value, options]);\n\n  const finalFieldNames = useMemo(() => {\n    let newfieldNames: Record<string | symbol, any> = { ...(fieldNames || {}) };\n    newfieldNames.label = labelKeySymbol;\n    return newfieldNames;\n  }, []);\n\n  return (\n    <Select\n      className={styles.customMultiSelect}\n      style={style}\n      showSearch\n      maxTagCount={maxTagCount}\n      maxTagPlaceholder={\n        value && value.length > maxTagCount ? hoverMaxTagPlaceholder : null\n      }\n      value={value}\n      onChange={onChange as any}\n      onDropdownVisibleChange={handleDropdownVisibleChange}\n      filterOption={filterOption as any}\n      loading={loading}\n      {...restProps}\n      mode=\'multiple\'\n      options={finalOptions as any}\n      fieldNames={finalFieldNames}\n      dropdownRender={dropdownRenderContent || dropdownRender}\n      onSearch={handleSearch}\n    />\n  );\n};\n\nexport default CustomMultiSelect;'},{fileName:"CustomMultiSelect.module.scss",code:".customMultiSelect {\n  width: 100%;\n  :global {\n    .ant-select-selector {\n      .ant-select-selection-overflow {\n        .ant-select-selection-overflow-item {\n          height: 28px;\n        }\n      }\n    }\n  }\n}\n\n.customMultiSelectDropdown {\n  padding: 10px 4px;\n  .allCheck {\n    display: flex;\n    align-items: center;\n    height: 24px;\n    .allCheckbox {\n      padding-left: 0;\n      padding-bottom: 0;\n      display: flex;\n      align-items: center;\n    }\n    .clear {\n      cursor: pointer;\n      color: $globalPrimaryColor;\n    }\n    .checkCount {\n      margin-left: 6px;\n      color: #666;\n    }\n  }\n  .options {\n    :global {\n      .rc-virtual-list {\n        ::-webkit-scrollbar {\n          width: 8px !important;\n        }\n\n        ::-webkit-scrollbar-thumb {\n          border-radius: 4px !important;\n          background-color: #888 !important;\n        }\n      }\n    }\n  }\n}"}];var et=t(1341),nt=t(2049),tt=t(7308),at=t(6942),lt=t.n(at);const ot=(0,t(1250).Ay)(et.B)`
  &.dark {
    --bgcolor: #132331;
    --header-bgcolor: #182735;
    --hover-bgcolor: #182735;
    --header-hover-bgcolor: #182735;
    --highlight-bgcolor: #191a1b;
    --header-highlight-bgcolor: #191a1b;
    --color: rgba(255, 255, 255, 0.88);
    --header-color: rgba(255, 255, 255, 0.88);
    --lock-shadow: rgb(37 37 37 / 0.5) 0 0 6px 2px;
    --border-color: #0a131b;
  }
  td {
    word-wrap: break-word;
  }
  th {
    font-weight: 600;
    padding-top: 0;
    padding-bottom: 0;
    border-bottom-width: 2px;

    .ant-checkbox-wrapper {
      display: none;
    }
    &:hover {
      background: #e2e7ee;
      .resize-handle {
        background: #d7dbe1;
      }
    }
  }
  &,
  .art-horizontal-scroll-container {
    ::-webkit-scrollbar {
      width: 7px;
      height: 7px;
    }

    ::-webkit-scrollbar-thumb {
      background: #ababab;
      border-radius: 4px;

      &:hover {
        background: #6e6e6e;
      }
    }
  }
  ${e=>e.bordered?"":"& {\n      --cell-border-vertical: none;\n      --header-cell-border-vertical: none;\n      thead > tr.first th {\n        border-top: none;\n      }\n      td.first.last {\n        border-bottom: none;\n      }\n    }"}
`,it=(0,a.forwardRef)(((e,n)=>{let{skinColor:t,...a}=e;return(0,i.jsx)(ot,{ref:n,stickyScrollHeight:7,className:lt()({dark:"dark"===t},a.className),components:{EmptyContent:()=>(0,i.jsx)(tt.A,{})},estimatedRowHeight:26,...a})})),st="AliTable_tableContainer__E+Uj9",rt="AliTable_functionPanel__QUNgZ",dt="AliTable_ellipsisText__K+heB",ct=e=>{const n=e.getColumns().map((e=>{if(e.ellipsis&&!e.setEllipsis){const n={...e};return n.setEllipsis=!0,n._render=n.render,n.render=(n,t)=>{const a=e._render?e._render(n,t):n;return(0,i.jsx)(b.A,{title:a,children:(0,i.jsx)("div",{className:dt,children:a})})},n}return e}));return e.columns(n)};var ut=t(3236);const mt=e=>{const{_title:n,filterDropdown:t}=e;return(0,i.jsx)(Bn.A,{content:t,placement:"bottomLeft",trigger:"click",destroyTooltipOnHide:!0,children:(0,i.jsxs)("span",{children:[n,(0,i.jsx)(ut.A,{})]})})},pt=e=>{const n=e.getColumns().map((e=>{if(e.filterDropdown&&!e._title){const n={...e};return n._tittle=n.title||n.name,n.title=(0,i.jsx)(mt,{...n}),n}return e}));return e.columns(n)},ht=e=>{const{selectAll:n,selectRows:t,clearSelect:a,clearCurrentSelect:l,indeterminate:o,checked:s,selectValue:r,buttonGroup:d}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)(ve.A,{indeterminate:o,checked:s,onChange:e=>{e.target?.checked?n():l()},children:"全选本页"}),r.length>0?(0,i.jsxs)("span",{children:["已选",(0,i.jsx)("em",{children:r.length}),"项"]}):null,d?(0,i.jsx)(d,{selectRows:t,clearSelect:a}):null]})};var gt=t(4769);const ft=e=>{const n=(e=>{const{pageNum:n,pageSize:t,total:a,showTotal:l,...o}=e;return{showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],showTotal:e=>`共${e}条数据`,current:Number(n)||1,pageSize:Number(t)||10,total:Number(a)||0,...o}})(e);return(0,i.jsx)(gt.A,{...n})},bt=e=>{const{height:n,autoHeight:t,recalculateHeight:l,pagination:o,style:i={}}=e,[s,r]=(0,a.useState)(0),d=(0,a.useRef)(null),[c,u]=(0,a.useState)(document.documentElement.clientHeight);let m=n||0;t&&(m=s);const p=(0,a.useMemo)((()=>({...m&&{height:m,overflow:"auto"},...i})),[m]),h=m?o?Math.ceil(m-26-4):Math.ceil(m):void 0,g=Array.isArray(l)?l:[l];return(0,a.useEffect)((()=>{const e=()=>{u(document.documentElement.clientHeight)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,a.useLayoutEffect)((()=>{if(t&&d.current){const e=d.current.getBoundingClientRect();if(!e.width)return;const n=o?Math.ceil(e.height-26-4):Math.ceil(e.height);r(n)}}),[...g,c]),{tableStyle:p,emptyCellHeight:h,tableContainerRef:d}};var vt=t(1579),xt=t(5998),yt=t(5158),St=t(7231);const kt=e=>{const{multiSelectOptions:n,dataSource:t,rowKey:l}=e,[o,i]=(0,a.useState)(n.value||[]),s=(0,a.useRef)([]),r=(0,a.useMemo)((()=>{let e=t;return n.isDisabled&&(e=e.filter(((e,t)=>!n.isDisabled?.(e,t)))),e.map((e=>e[l]))}),[t]),d=()=>{s.current=[],i([])};(0,a.useMemo)((()=>{const e=[...s.current,...t],n=(0,yt.A)(e,(e=>e[l]));s.current=o.map((e=>n[e]))}),[o,t]);const c={...n,value:o,onChange:e=>{i(e)}},{indeterminate:u,checked:m}=(0,a.useMemo)((()=>{const e=(0,St.A)(r,o);return{indeterminate:e.length&&e.length!==r.length,checked:e.length&&e.length===r.length}}),[o,r,l]),p={clear:d,getSelectedRows:()=>s.current,setSelectedRows:e=>{i(e.map((e=>e[l])))},setPassDataSource:e=>{const n=(0,yt.A)(e,(e=>e[l])),t=s.current.filter((e=>!n[e[l]]));i(t.map((e=>e[l])))}};return(0,a.useEffect)((()=>{n.ref&&(n.ref.current=p)}),[n.ref]),(0,a.useEffect)((()=>{n.onChange?.(o,s.current)}),[o]),{selectValue:o,selectRows:s.current,selectAll:()=>{const e=(0,vt.A)(o,r);i(e)},clearSelect:d,clearCurrentSelect:()=>{const e=(0,xt.A)(o,r);i(e)},proMutiSelectOptions:c,indeterminate:u,checked:m}},wt=e=>{const{singleSelectOptions:n,rowKey:t}=e,[l,o]=(0,a.useState)(n.value||""),i={...n,value:l,onChange:e=>{o(e)}},s={clear:()=>{o("")},setSelectedRow:e=>{o(e?e[t]:"")}};return(0,a.useEffect)((()=>{n.ref&&(n.ref.current=s)}),[n.ref]),(0,a.useEffect)((()=>{n.onChange?.(l)}),[l]),{selectValue:l,proSingleSelectOptions:i}},Ct='import React, { useMemo, useRef, useEffect } from "react";\nimport { PaginationProps } from "antd/lib/pagination";\nimport type { ArtColumn } from "ali-react-table";\nimport AliTable from "./index";\nimport type { ArtColumn2, AliTableProps } from "./index";\nimport { createPagination } from "./TablePagination";\nimport { getRandomId } from "utils/util";\n\ninterface AliMainTableProps extends Omit<AliTableProps, "rowKey" | "columns"> {\n  rowKey?: string;\n  columns: ArtColumn2[] | ArtColumn[];\n  dataSource: Record<string, any>[];\n  getDataSource: (pagin?: Record<string, any>) => void;\n  selectedRows: Record<string, any>[];\n  setSelectedRows: (selectedRows: Record<string, any>[]) => void;\n  pagination?: PaginationProps;\n  setPagination?: (pagination: Record<string, any>) => void;\n}\n\nconst AliMainTable = (props: AliMainTableProps) => {\n  const {\n    rowKey = "randomId",\n    columns,\n    dataSource,\n    getDataSource,\n    isLoading,\n    selectedRows,\n    setSelectedRows,\n    pagination,\n    setPagination,\n    multiSelect,\n    multiSelectOptions,\n    singleSelect,\n    singleSelectOptions,\n    ...restProps\n  } = props;\n  const multiSelectOptionsRef = useRef<any>(null);\n  const singleSelectOptionsRef = useRef<any>(null);\n\n  const paginationWitchMemo = useMemo(() => {\n    if (pagination && setPagination) {\n      return createPagination(\n        pagination,\n        async ({ pageNum, pageSize }: any) => {\n          await setPagination?.({ pageNum, pageSize });\n          getDataSource({ pageNum, pageSize });\n        }\n      );\n    }\n    return undefined;\n  }, [pagination, setPagination]);\n\n  const proMultiSelectOptions = useMemo(() => {\n    if (multiSelect) {\n      return {\n        value: selectedRows?.map((item: Record<string, any>) => item[rowKey]),\n        onChange: (selectedRowKeys: string) => {\n          const newSelectedRows = dataSource.filter(\n            (item: Record<string, any>) =>\n              selectedRowKeys.includes(item[rowKey])\n          );\n          setSelectedRows(newSelectedRows);\n        },\n        sotpClickEventPropagation: true,\n        ref: multiSelectOptionsRef,\n        ...(multiSelectOptions || {}),\n      };\n    }\n    return {};\n  }, [multiSelect, selectedRows, multiSelectOptions, dataSource]);\n\n  const proSingleSelectOptions = useMemo(() => {\n    if (singleSelect) {\n      return {\n        value: selectedRows?.[0]?.[rowKey] || "",\n        onChange: (selectedRowKey: string) => {\n          const newSelectedRows = dataSource.filter(\n            (item: Record<string, any>) => item[rowKey] === selectedRowKey\n          );\n          setSelectedRows(newSelectedRows);\n        },\n        ref: singleSelectOptionsRef,\n        ...(singleSelectOptions || {}),\n      };\n    }\n    return {};\n  }, [singleSelect, selectedRows, singleSelectOptions, dataSource]);\n\n  useEffect(() => {\n    if (isLoading) {\n      multiSelectOptionsRef?.current?.clear();\n      singleSelectOptionsRef?.current?.clear();\n    }\n  }, [isLoading]);\n\n  const onRowClick = (record: Record<string, any>) => {\n    const clickRowKey = record[rowKey];\n    const isSelected = selectedRows?.find(\n      (item) => item[rowKey] === clickRowKey\n    );\n    if (singleSelect) {\n      // 当前行已被选中则不进行任何操作\n      if (selectedRows && selectedRows[0]?.[rowKey] === clickRowKey) return;\n      singleSelectOptionsRef.current?.setSelectedRow(record);\n    } else {\n      // 当前行已被选中且只选中了这一条，则取消选中\n      if (isSelected && selectedRows?.length === 1) {\n        setSelectedRows?.([]);\n        multiSelectOptionsRef?.current?.clear();\n        return;\n      }\n      multiSelectOptionsRef?.current?.setSelectedRows([record]);\n    }\n    setSelectedRows?.([record]);\n  };\n\n  const selectedRowKeys = useMemo(() => {\n    return selectedRows?.map((item) => item[rowKey]) || [];\n  }, [selectedRows]);\n\n  const proDataSoure = useMemo(() => {\n    if (rowKey === "randomId" && dataSource?.length > 0) {\n      return dataSource.map((item: Record<string, any>) => ({\n        ...item,\n        randomId: getRandomId(12),\n      }));\n    }\n    return dataSource;\n  }, [dataSource]);\n\n  return (\n    <AliTable\n      rowKey={rowKey}\n      resize\n      autoHeight\n      recalculateHeight\n      isLoading={isLoading}\n      columns={columns as ArtColumn[]}\n      dataSource={proDataSoure}\n      pagination={paginationWitchMemo}\n      selectedRowKeys={selectedRowKeys}\n      onRowClick={onRowClick}\n      multiSelect={multiSelect}\n      multiSelectOptions={proMultiSelectOptions}\n      singleSelect={singleSelect}\n      singleSelectOptions={proSingleSelectOptions}\n      {...restProps}\n    />\n  );\n};\n\nexport default AliMainTable;',Rt=e=>{const{dataSource:n,columns:t,rowKey:l,sort:o,sortOptions:s,resize:r,resizeOptions:d={},multiSelect:c,multiSelectOptions:u={},singleSelect:m,singleSelectOptions:p={},pagination:h,buttonGroup:g,height:f,autoHeight:b,recalculateHeight:v,showFunctionPanel:x=!0,tableKey:y="aliTable",useVirtual:S,selectedRowKeys:k=[],onRowClick:w,getRowProps:C,style:R,...A}=e,{tableContainerRef:_,tableStyle:P,emptyCellHeight:j}=bt({height:f,autoHeight:b,recalculateHeight:v,pagination:h,style:R}),{selectValue:N,selectAll:D,selectRows:T,clearSelect:I,clearCurrentSelect:M,proMutiSelectOptions:F,indeterminate:O,checked:V}=kt({rowKey:l,multiSelectOptions:u,dataSource:n}),{proSingleSelectOptions:E}=wt({rowKey:l,singleSelectOptions:p}),L=(e=>{const{dataSource:n,columns:t,rowKey:a,sort:l=!1,sortOptions:o,resize:i=!1,resizeOptions:s,multiSelect:r=!1,multiSelectOptions:d,singleSelect:c=!1,singleSelectOptions:u,getRowProps:m}=e;let p=(0,et.u)({components:{Checkbox:d?.Checkbox??ve.A,Radio:u?.Radio??gn.Ay}}).input({dataSource:n,columns:t}).primaryKey(a);return p=p.use(ct),p=p.use(pt),r&&(p=p.use(nt.qT.multiSelect({highlightRowWhenSelected:!0,clickArea:"cell",checkboxColumn:{lock:!0},stopClickEventPropagation:!0,...d}))),c&&(p=p.use(nt.qT.singleSelect({highlightRowWhenSelected:!0,clickArea:"cell",radioColumn:{lock:!0},stopClickEventPropagation:!0,...u}))),l&&(p=p.use(nt.qT.sort({mode:"single",keepDataSource:!0,...o}))),i&&(p=p.use(nt.qT.columnResize({handleHoverBackground:"var(--g-primary-color) !important",handleActiveBackground:"var(--g-primary-color)",...s}))),m&&p.appendRowPropsGetter(m),p})({dataSource:n,columns:t,rowKey:l,sort:o,sortOptions:s,resize:r,resizeOptions:d,multiSelect:c,multiSelectOptions:F,singleSelect:m,singleSelectOptions:E,getRowProps:C}),K=(0,a.useMemo)((()=>S||!!n&&{vertical:!1}),[n,S]),$={selectAll:D,clearSelect:I,clearCurrentSelect:M,indeterminate:O,checked:V,selectValue:N,selectRows:T,buttonGroup:g};return(0,i.jsxs)("div",{className:st,ref:_,children:[(0,i.jsx)(it,{style:P,emptyCellHeight:j,useVirtual:K,useOuterBorder:!0,autoHeight:!0,...A,...L.getProps(),getRowProps:e=>{const n=k?.includes(e[l]);return{style:n?{"--hover-bgcolor":"#1677FF80","--bgcolor":"#1677FF80","--odd-bgcolor":"#1677FF80","--color":"#FFFFFF"}:{},className:n?"selected":"",onClick(){w?.(e)}}}}),x&&(0,i.jsxs)("div",{className:rt,children:[c&&(0,i.jsx)(ht,{...$}),h&&(0,i.jsx)(ft,{...h})]})]})},At=[{fileName:"AliTable.tsx",code:'/**\n * 基于ali-react-table封装的表格组件\n * 功能用法请查询：https://ali-react-table.js.org/\n */\nimport React, { useMemo, Ref, ReactNode, ReactElement } from "react";\nimport {\n  useTablePipeline,\n  features,\n  BaseTableProps,\n  TablePipeline,\n} from "ali-react-table";\nimport type { ArtColumn } from "ali-react-table";\nimport { Checkbox, Radio } from "antd";\nimport { PaginationProps } from "antd/lib/pagination";\nimport AliBaseTable from "./AliBaseTable";\nimport supportEllipsis from "./supportEllipsis";\nimport tableFilter from "./tableFilter";\nimport FunctionPanel from "./FunctionPanel";\nimport TablePagination from "./TablePagination";\nimport useTableHeight from "./useTableHeight";\nimport useMultiSelect from "./useMultiSelect";\nimport useSingleSelect from "./useSingleSelect";\nimport styles from "./index.module.scss";\n\nexport interface ArtColumn2 extends Omit<ArtColumn, "lock"> {\n  ellipsis?: boolean;\n  lock?: boolean | "left" | "right";\n}\n\nexport type MultiSelectOptions = features.MultiSelectFeatureOptions & {\n  Checkbox?: ReactElement;\n  ref?: Ref<any>;\n};\n\nexport type SingleSelectOptions = features.SingleSelectFeatureOptions & {\n  Radio?: ReactElement;\n  ref?: Ref<any>;\n};\n\nexport interface AliTableProps extends BaseTableProps {\n  rowKey: string;\n  // 是否支持排序\n  sort?: boolean;\n  sortOptions?: features.SortFeatureOptions;\n  // 是否支持拖拉调整列宽度\n  resize?: boolean;\n  resizeOptions?: features.ColumnResizeFeatureOptions;\n  // 是否支持多选\n  multiSelect?: boolean;\n  multiSelectOptions?: MultiSelectOptions;\n  // 是否显示单选框\n  singleSelect?: boolean;\n  singleSelectOptions?: SingleSelectOptions;\n  // 分页\n  pagination?: PaginationProps;\n  // 操作区按钮\n  buttonGroup?: ReactNode;\n  // 表格高度\n  height?: number;\n  // 空数据时显示手动查询\n  showQuery?: boolean;\n  // 是否有边框\n  bordered?: boolean;\n  // 自动计算高度，和recalculateHeight配合\n  autoHeight?: boolean;\n  // 激活表格重新计算高度，和autoHeight配合\n  recalculateHeight?: boolean | boolean[];\n  // 是否显示底部功能区\n  showFunctionPanel?: boolean;\n  // 菜单id + tableKey 会组成唯一标识，若一个菜单下有多个表格，又需要开启持久化功能情况下，务必要设置tableKey，确保表格有唯一id\n  tableKey?: string;\n  selectedRowKeys?: string[];\n  // 点击行的回调\n  onRowClick?: (record: Record<string, any>) => void;\n}\n\n// 表格常用功能整合\nconst useProTablePipeline = (\n  props: AliTableProps & { filter?: boolean }\n): TablePipeline => {\n  const {\n    dataSource,\n    columns,\n    rowKey,\n    sort = false,\n    sortOptions,\n    resize = false,\n    resizeOptions,\n    multiSelect = false,\n    multiSelectOptions,\n    singleSelect = false,\n    singleSelectOptions,\n    getRowProps,\n  } = props;\n  let pipeline = useTablePipeline({\n    components: {\n      Checkbox: multiSelectOptions?.Checkbox ?? Checkbox,\n      Radio: singleSelectOptions?.Radio ?? Radio,\n    },\n  })\n    .input({ dataSource, columns })\n    .primaryKey(rowKey);\n\n  pipeline = pipeline.use(supportEllipsis);\n  pipeline = pipeline.use(tableFilter);\n\n  if (multiSelect) {\n    pipeline = pipeline.use(\n      features.multiSelect({\n        highlightRowWhenSelected: true,\n        clickArea: "cell",\n        checkboxColumn: { lock: true },\n        stopClickEventPropagation: true,\n        ...multiSelectOptions,\n      })\n    );\n  }\n\n  if (singleSelect) {\n    pipeline = pipeline.use(\n      features.singleSelect({\n        highlightRowWhenSelected: true,\n        clickArea: "cell",\n        radioColumn: { lock: true },\n        stopClickEventPropagation: true,\n        ...singleSelectOptions,\n      })\n    );\n  }\n\n  if (sort) {\n    pipeline = pipeline.use(\n      features.sort({\n        mode: "single",\n        keepDataSource: true,\n        ...sortOptions,\n      })\n    );\n  }\n\n  if (resize) {\n    pipeline = pipeline.use(\n      features.columnResize({\n        handleHoverBackground: "var(--g-primary-color) !important",\n        handleActiveBackground: "var(--g-primary-color)",\n        ...resizeOptions,\n      })\n    );\n  }\n\n  if (getRowProps) {\n    pipeline.appendRowPropsGetter(getRowProps);\n  }\n\n  return pipeline;\n};\n\nconst AliTable = (props: AliTableProps) => {\n  const {\n    dataSource,\n    columns,\n    rowKey,\n    sort,\n    sortOptions,\n    resize,\n    resizeOptions = {},\n    multiSelect,\n    multiSelectOptions = {},\n    singleSelect,\n    singleSelectOptions = {},\n    pagination,\n    buttonGroup,\n    height,\n    autoHeight,\n    recalculateHeight,\n    showFunctionPanel = true,\n    tableKey = "aliTable",\n    useVirtual,\n    selectedRowKeys = [],\n    onRowClick,\n    getRowProps,\n    style,\n    ...restProps\n  } = props;\n\n  const { tableContainerRef, tableStyle, emptyCellHeight } = useTableHeight({\n    height,\n    autoHeight,\n    recalculateHeight,\n    pagination,\n    style,\n  });\n\n  const {\n    selectValue,\n    selectAll,\n    selectRows,\n    clearSelect,\n    clearCurrentSelect,\n    proMutiSelectOptions,\n    indeterminate,\n    checked,\n  } = useMultiSelect({\n    rowKey,\n    multiSelectOptions,\n    dataSource,\n  });\n\n  const { proSingleSelectOptions } = useSingleSelect({\n    rowKey,\n    singleSelectOptions,\n  });\n\n  const pipeline = useProTablePipeline({\n    dataSource,\n    columns,\n    rowKey,\n    sort,\n    sortOptions,\n    resize,\n    resizeOptions,\n    multiSelect,\n    multiSelectOptions: proMutiSelectOptions,\n    singleSelect,\n    singleSelectOptions: proSingleSelectOptions,\n    getRowProps,\n  });\n\n  const activeVirtual = useMemo(() => {\n    if (useVirtual) return useVirtual;\n    if (!dataSource) return false;\n    return { vertical: false };\n  }, [dataSource, useVirtual]);\n\n  const functionPanelProps = {\n    selectAll,\n    clearSelect,\n    clearCurrentSelect,\n    indeterminate,\n    checked,\n    selectValue,\n    selectRows,\n    buttonGroup,\n  };\n\n  return (\n    <div className={styles.tableContainer} ref={tableContainerRef}>\n      <AliBaseTable\n        style={tableStyle}\n        emptyCellHeight={emptyCellHeight}\n        useVirtual={activeVirtual}\n        useOuterBorder\n        autoHeight\n        {...restProps}\n        {...pipeline.getProps()}\n        getRowProps={(record) => {\n          const selected = selectedRowKeys?.includes(record[rowKey]);\n\n          return {\n            style: selected\n              ? {\n                  "--hover-bgcolor": "#1677FF80",\n                  "--bgcolor": "#1677FF80",\n                  "--odd-bgcolor": "#1677FF80",\n                  "--color": "#FFFFFF",\n                }\n              : {},\n            className: selected ? "selected" : "",\n            onClick() {\n              onRowClick?.(record);\n            },\n          };\n        }}\n      />\n      {showFunctionPanel && (\n        <div className={styles.functionPanel}>\n          {multiSelect && <FunctionPanel {...functionPanelProps} />}\n          {pagination && <TablePagination {...pagination} />}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AliTable;'},{fileName:"AliTable.module.scss",code:".selected {\n  font-size: var(--g-base-size);\n  color: var(--g-text-color);\n  margin-right: 12px;\n  cursor: pointer;\n\n  em {\n    color: var(--g-primary-color);\n    font-style: normal;\n    padding: 0 4px;\n  }\n}\n\n.tableContainer {\n  $tableRowHeight: 26px;\n  $fontSize: 12px;\n\n  position: relative;\n  height: 100%;\n  :global {\n    .art-table-wrapper {\n      --row-height: 26px;\n\n      .art-loading-wrapper {\n        height: 100%;\n        .art-loading-content-wrapper {\n          height: 100%;\n          .art-table {\n            height: 100%;\n            .art-table-header {\n              border-right: 7px solid #e9edf2;\n              .art-table-header-row {\n                .art-table-header-cell {\n                  height: $tableRowHeight !important;\n                  padding: 3px 9px !important;\n                  font-weight: 600 !important;\n                  --header-color: #333333 !important;\n                }\n              }\n            }\n\n            .art-table-body {\n              height: calc(100% - $tableRowHeight);\n              overflow-y: scroll;\n              table {\n                .art-table-row {\n                  color: var(--color);\n\n                  td.art-table-cell {\n                    box-sizing: border-box;\n                    height: $tableRowHeight !important;\n                    max-height: $tableRowHeight !important;\n                    min-height: $fontSize !important;\n                    line-height: 16px !important;\n                    padding: 3px 9px !important;\n                    vertical-align: middle !important;\n                  }\n                  &:hover {\n                    --hover-bgcolor: #b4d5ff;\n                  }\n                }\n                .odd {\n                  color: var(--color);\n                  --odd-bgcolor: #edf2fc;\n                  td.art-table-cell {\n                    background: var(--odd-bgcolor);\n                  }\n                  &:hover {\n                    --odd-bgcolor: #b4d5ff;\n                  }\n                }\n                .selected {\n                  .art-table-cell {\n                    span {\n                      --color: #ffffff !important;\n                    }\n                    button {\n                      --color: #ffffff !important;\n                      color: #ffffff !important;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    .use-outer-border:not(.has-footer) tbody tr.last td {\n      border-bottom: var(--cell-border-horizontal) !important;\n    }\n\n    .use-outer-border:not(.has-footer)\n      tbody\n      tr.last.first.no-hover\n      td.first.last {\n      border-bottom: none !important;\n    }\n  }\n\n  .functionPanel {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 4px;\n    :global {\n      .ant-pagination-total-text,\n      .ant-pagination-prev,\n      .ant-pagination-next,\n      .ant-pagination-item {\n        height: $tableRowHeight !important;\n        line-height: $tableRowHeight !important;\n        font-size: 12px !important;\n      }\n      .ant-select {\n        height: $tableRowHeight !important;\n        font-size: 12px !important;\n        .ant-select-selector {\n          font-size: 12px !important;\n        }\n      }\n      .ant-checkbox-wrapper {\n        font-size: 12px !important;\n      }\n      span {\n        font-size: 12px !important;\n      }\n    }\n  }\n}\n\n.ellipsisText {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}"},{fileName:"AliBaseTable.tsx",code:'import React, { forwardRef } from "react";\nimport { Empty } from "antd";\nimport { BaseTable, BaseTableProps } from "ali-react-table";\nimport classnames from "classnames";\nimport styled from "styled-components";\n\nconst BasicTable = styled(BaseTable)`\n  &.dark {\n    --bgcolor: #132331;\n    --header-bgcolor: #182735;\n    --hover-bgcolor: #182735;\n    --header-hover-bgcolor: #182735;\n    --highlight-bgcolor: #191a1b;\n    --header-highlight-bgcolor: #191a1b;\n    --color: rgba(255, 255, 255, 0.88);\n    --header-color: rgba(255, 255, 255, 0.88);\n    --lock-shadow: rgb(37 37 37 / 0.5) 0 0 6px 2px;\n    --border-color: #0a131b;\n  }\n  td {\n    word-wrap: break-word;\n  }\n  th {\n    font-weight: 600;\n    padding-top: 0;\n    padding-bottom: 0;\n    border-bottom-width: 2px;\n\n    .ant-checkbox-wrapper {\n      display: none;\n    }\n    &:hover {\n      background: #e2e7ee;\n      .resize-handle {\n        background: #d7dbe1;\n      }\n    }\n  }\n  &,\n  .art-horizontal-scroll-container {\n    ::-webkit-scrollbar {\n      width: 7px;\n      height: 7px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: #ababab;\n      border-radius: 4px;\n\n      &:hover {\n        background: #6e6e6e;\n      }\n    }\n  }\n  ${(props: any) =>\n    props.bordered\n      ? ""\n      : `& {\n      --cell-border-vertical: none;\n      --header-cell-border-vertical: none;\n      thead > tr.first th {\n        border-top: none;\n      }\n      td.first.last {\n        border-bottom: none;\n      }\n    }`}\n`;\n\nexport const AliBaseTable = forwardRef<\n  BaseTable,\n  BaseTableProps & { skinColor?: "light" | "dark" }\n>(({ skinColor, ...restProps }, ref) => {\n  return (\n    <BasicTable\n      ref={ref}\n      stickyScrollHeight={7}\n      className={classnames(\n        { dark: skinColor === "dark" },\n        restProps.className\n      )}\n      components={{\n        EmptyContent: () => <Empty />,\n      }}\n      estimatedRowHeight={26}\n      {...restProps}\n    />\n  );\n});\n\nexport default AliBaseTable;'}],_t="code",Pt=[{name:"Name",code:"name",width:120},{name:"Code",code:"code",width:120},{name:"备注",code:"remark",width:150,ellipsis:!0}],jt=e=>{const{value:n,options:t,loading:l,onChange:o}=e,s=(0,a.useRef)(null),r=e=>{o?.(e)},d=e=>{const a=e[_t],l=n?.some((e=>e===a));if(l)if(1===n?.length)s.current?.clear();else{const e=[];(n?.filter((e=>e!==a))||[]).forEach((n=>{const a=t?.find((e=>e[_t]===n));a&&e.push(a)})),s.current?.setSelectedRows(e)}else if(n&&n.length>0){const l=[],o=[];n.forEach((e=>{const n=t?.find((n=>n[_t]===e));n&&(l.push(n),o.push(n[_t]))})),l.push(e),o.push(a),s.current?.setSelectedRows(l)}else s.current?.setSelectedRows([e])};return(0,i.jsx)(Jn,{fieldNames:{label:"name",value:_t},searchKeys:["name"],popupMatchSelectWidth:!1,dropdownRenderContent:()=>(0,i.jsx)("div",{style:{width:700,padding:"12px 16px"},children:(0,i.jsx)(Hn.A,{spinning:l,children:(0,i.jsx)(Rt,{rowKey:_t,resize:!0,height:280,isLoading:l,columns:Pt,dataSource:t,selectedRowKeys:n,onRowClick:d,multiSelect:!0,multiSelectOptions:{value:n,onChange:r,ref:s}})})}),onClear:()=>{s.current?.onClear()},onDeselect:e=>{if(n){const a=n.filter((n=>n!==e)),l=[];a.map((e=>{const n=t?.find((n=>n[_t]===e));n&&l.push(n)})),s.current?.setSelectedRows(l)}},...e})},Nt=()=>{const[e]=he.A.useForm(),[n,t]=(0,a.useState)([]),[l,o]=(0,a.useState)(!1),s=(0,a.useCallback)(((e,n)=>(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",width:450},children:[(0,i.jsx)(ve.A,{style:{marginRight:4},checked:n?.includes(e.code)}),(0,i.jsx)("span",{style:{display:"flex",flex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:e.name}),(0,i.jsx)("span",{style:{display:"flex",flex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:e.code})]},e.code)),[]);return(0,a.useEffect)((()=>{(async()=>{o(!0);const e=await le();o(!1),t(e?e.data:[])})()}),[]),(0,i.jsx)(he.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(ge.A,{gutter:16,children:[(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(Jn,{options:n,loading:l,fieldNames:{label:"name",value:"code"},searchKeys:["name"]})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(Jn,{options:n,loading:l,fieldNames:{label:"name",value:"code"},searchKeys:["name"],showSimplePlaceholder:!0})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field3",children:(0,i.jsx)(Jn,{options:n,customOptionLabel:s,loading:l,fieldNames:{label:"name",value:"code"},searchKeys:["name"],popupMatchSelectWidth:!1})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field4",children:(0,i.jsx)(jt,{options:n,loading:l,showSimplePlaceholder:!0})})})]})})},Dt="CustomMultiSelectSample_container__--eUq",Tt=[{fileName:"index.tsx",code:'import React, { useCallback, useEffect, useState } from "react";\nimport { Form, Row, Col, Checkbox } from "antd";\nimport CustomMultiSelect from "@/components/formItems/CustomMultiSelect";\nimport TablePanelMultiSelect from "./TablePanelMultiSelect";\nimport { requestMockData } from "utils/util";\n\nconst Content = () => {\n  const [form] = Form.useForm();\n  const [options, setOptions] = useState<Record<string, any>[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const getOptions = async () => {\n    setLoading(true);\n    const res = await requestMockData();\n    setLoading(false);\n    if (res) {\n      setOptions(res.data);\n    } else {\n      setOptions([]);\n    }\n  };\n\n  const customOptionLabel = useCallback(\n    (\n      option: Record<string | symbol, any>,\n      selectedValue: string[] | undefined\n    ) => (\n      <div\n        style={{ display: "flex", alignItems: "center", width: 450 }}\n        key={option.code}\n      >\n        <Checkbox\n          style={{ marginRight: 4 }}\n          checked={selectedValue?.includes(option.code)}\n        />\n        <span\n          style={{\n            display: "flex",\n            flex: 1,\n            overflow: "hidden",\n            whiteSpace: "nowrap",\n            textOverflow: "ellipsis",\n          }}\n        >\n          {option.name}\n        </span>\n        <span\n          style={{\n            display: "flex",\n            flex: 1,\n            overflow: "hidden",\n            whiteSpace: "nowrap",\n            textOverflow: "ellipsis",\n          }}\n        >\n          {option.code}\n        </span>\n      </div>\n    ),\n    []\n  );\n\n  useEffect(() => {\n    getOptions();\n  }, []);\n\n  return (\n    <Form form={form} labelAlign=\'right\'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field1\'>\n            <CustomMultiSelect\n              options={options}\n              loading={loading}\n              fieldNames={{ label: "name", value: "code" }}\n              searchKeys={["name"]}\n            />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field2\'>\n            <CustomMultiSelect\n              options={options}\n              loading={loading}\n              fieldNames={{ label: "name", value: "code" }}\n              searchKeys={["name"]}\n              showSimplePlaceholder\n            />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field3\'>\n            <CustomMultiSelect\n              options={options}\n              customOptionLabel={customOptionLabel}\n              loading={loading}\n              fieldNames={{ label: "name", value: "code" }}\n              searchKeys={["name"]}\n              popupMatchSelectWidth={false}\n            />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field4\'>\n            <TablePanelMultiSelect\n              options={options}\n              loading={loading}\n              showSimplePlaceholder\n            />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;'}].concat([{fileName:"TablePanelMultiSelect.tsx",code:'/**\n * 下拉面板为表格的多选下拉组件\n */\nimport React, { useRef } from "react";\nimport { Spin } from "antd";\nimport type { ArtColumn } from "ali-react-table";\nimport CustomMultiSelect from "@/components/formItems/CustomMultiSelect";\nimport type { CustomMultiSelectProps } from "@/components/formItems/CustomMultiSelect";\nimport AliTable from "@/components/AliTable";\nimport type { ArtColumn2 } from "@/components/AliTable";\n\ntype TablePanelMultiSelectProps = {\n  value?: string[];\n  options: Record<string, any>[];\n  loading?: boolean;\n  onChange?: (value: string[]) => void;\n} & CustomMultiSelectProps;\n\nconst rowKey = "code";\n\nconst columns: ArtColumn2[] = [\n  { name: "Name", code: "name", width: 120 },\n  { name: "Code", code: "code", width: 120 },\n  { name: "备注", code: "remark", width: 150, ellipsis: true },\n];\n\nconst TablePanelMultiSelect = (props: TablePanelMultiSelectProps) => {\n  const { value, options, loading, onChange } = props;\n  const multiSelectOptionsRef = useRef<any>(null);\n\n  const onSelectChange = (selectedRowKeys: string[]) => {\n    onChange?.(selectedRowKeys);\n  };\n\n  const onRowClick = (record: Record<string, any>) => {\n    const clickRowKey = record[rowKey];\n    const isSelectedBefore = value?.some((key: string) => key === clickRowKey);\n\n    // 如果当前行已被选中，则取消选中，否则反之\n    if (isSelectedBefore) {\n      if (value?.length === 1) {\n        multiSelectOptionsRef.current?.clear();\n      } else {\n        const newSelectedRows: Record<string, any>[] = [];\n        const newSelectedRowKeys =\n          value?.filter((key: string) => key !== clickRowKey) || [];\n        newSelectedRowKeys.forEach((key: string) => {\n          const selectRow = options?.find(\n            (item: Record<string, any>) => item[rowKey] === key\n          );\n          if (selectRow) {\n            newSelectedRows.push(selectRow);\n          }\n        });\n        multiSelectOptionsRef.current?.setSelectedRows(newSelectedRows);\n      }\n    } else {\n      if (value && value.length > 0) {\n        const newSelectedRows: Record<string, any>[] = [];\n        const newSelectedRowKeys: string[] = [];\n        value.forEach((key: string) => {\n          const selectRow = options?.find(\n            (item: Record<string, any>) => item[rowKey] === key\n          );\n          if (selectRow) {\n            newSelectedRows.push(selectRow);\n            newSelectedRowKeys.push(selectRow[rowKey]);\n          }\n        });\n        newSelectedRows.push(record);\n        newSelectedRowKeys.push(clickRowKey);\n        multiSelectOptionsRef.current?.setSelectedRows(newSelectedRows);\n      } else {\n        multiSelectOptionsRef.current?.setSelectedRows([record]);\n      }\n    }\n  };\n\n  const onClear = () => {\n    multiSelectOptionsRef.current?.onClear();\n  };\n\n  const onDeselect = (deselectValue: string) => {\n    if (value) {\n      const newValue = value.filter((key: string) => key !== deselectValue);\n      const newSelectedRows: Record<string, any>[] = [];\n      newValue.map((key: string) => {\n        const selectRow = options?.find(\n          (item: Record<string, any>) => item[rowKey] === key\n        );\n        if (selectRow) {\n          newSelectedRows.push(selectRow);\n        }\n      });\n      multiSelectOptionsRef.current?.setSelectedRows(newSelectedRows);\n    }\n  };\n\n  const dropdownRenderContent = () => (\n    <div style={{ width: 700, padding: "12px 16px" }}>\n      <Spin spinning={loading}>\n        <AliTable\n          rowKey={rowKey}\n          resize\n          height={280}\n          isLoading={loading}\n          columns={columns as ArtColumn[]}\n          dataSource={options}\n          selectedRowKeys={value}\n          onRowClick={onRowClick}\n          multiSelect\n          multiSelectOptions={{\n            value,\n            onChange: onSelectChange,\n            ref: multiSelectOptionsRef,\n          }}\n        />\n      </Spin>\n    </div>\n  );\n\n  return (\n    <CustomMultiSelect\n      fieldNames={{ label: "name", value: rowKey }}\n      searchKeys={["name"]}\n      popupMatchSelectWidth={false}\n      dropdownRenderContent={dropdownRenderContent}\n      onClear={onClear}\n      onDeselect={onDeselect}\n      {...props}\n    />\n  );\n};\n\nexport default TablePanelMultiSelect;'}],Xn),It=()=>(0,i.jsx)(pe,{className:Dt,title:"可自定义的多选下拉框组件",codeParams:Tt,children:(0,i.jsx)(Nt,{})});var Mt=t(811),Ft=t(8676);class Ot{notification=null;keyMap=(()=>new Map)();constructor(){this.keys=[],Ft.A.newInstance({},(e=>this.notification=e))}add(e){let{key:n,content:t,duration:a=null,dismiss:l}=e;this.keyMap.set(n,l),this.notification.notice({key:n,content:t,duration:a})}remove(e){this.notification.removeNotice(e),this.keyMap.delete(e)}clear(){this.keyMap.forEach(((e,n)=>{e?e():this.remove(n)})),this.keyMap.clear()}}Ot.getInstance=function(){let e;return function(){return e=e||new Ot,e}}();const Vt=Ot.getInstance();var Et=t(2877),Lt=t(7852),Kt=t(2543),$t=t.n(Kt);const Bt="TreeSelect_modal__RA3WD",Ht="TreeSelect_modal_title__1iJkY",zt="TreeSelect_modal_body__6ZM8L",Yt="TreeSelect_treebox__hUQAp",qt="TreeSelect_choosebox__1d2Gk",Gt="TreeSelect_box_header__npPGp",Wt="TreeSelect_box_content__D7zpo",Ut="TreeSelect_chooseList__-PDwI",Zt="TreeSelect_chooseName__EjF0Z",Qt="TreeSelect_close__dDSzc",Jt="TreeSelect_clear__rwXuO",Xt="TreeSelect_search_act__zXmnz";class ea extends a.Component{constructor(e){super(e);const{treeData:n=[]}=e;this.state={visible:!0,checkAll:!1,indeterminate:!1,autoExpandParent:!0,checkedKeys:[],checkedNodes:[],expandedKeys:[],expandedValue:n,searchValue:""},this.deepLv=1,this.treeDataMap=this._tree2map(n,[],null,1),this.treeData=n,this.leafNodes=this.treeDataMap.filter((e=>e.lv===this.deepLv)),this._onSearch=this._onSearch.bind(this),this._onChangeAll=this._onChangeAll.bind(this),this._onClearAll=this._onClearAll.bind(this),this._onCheckTree=this._onCheckTree.bind(this),this._onExpandTree=this._onExpandTree.bind(this),this._onCancel=this._onCancel.bind(this),this._onOk=this._onOk.bind(this)}componentDidMount(){this._onCheckTree(this.props.value)}isCheckAll=(e,n)=>{let t=!1,a=!1;const l=[],o=[],i=n=>{for(let t=0;t<n.length;t++){const a=n[t];if(a.children&&a.children.length>0)i(a.children);else{l.push(a.key);const n=$t().find(e,(e=>e.key===a.key));n&&o.push(n)}}};return i(n||this.state.expandedValue),o.length>=l.length&&(t=!0),o.length>0&&o.length<l.length&&(a=!0),{checkAll:t,indeterminate:a}};getAllSubset=e=>{const n=[],t=e=>{if(e&&e.length>0)for(let a=0;a<e.length;a++){const l=e[a];if(l.children&&l.children.length>0)t(l.children);else{const e={...l,key:l.key||l.value,title:l.title||l.label};n.push(e)}}};return t(e),n};searchTree=(e,n)=>{let t=[],a=new Set;return function e(l){l.forEach((l=>{l.title.indexOf(n)>-1&&(a.has(l.key)||a.has(l.parentKey)||(t.push(l),a.add(l.key))),l.children&&e(l.children)}))}(e),t};_tree2map=(()=>{var e=this;return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;l>e.deepLv&&(e.deepLv=l);for(let o=0;o<n.length;o++){const i=n[o],s=i.title||i.label,r=i.key||i.value;i.key=r,i.title=s,i.parentKey=a,i.lv=l,t.push({key:r,title:s,parentKey:a,lv:l}),i.children?.length&&e._tree2map(i.children,t,i.key,l+1)}return t}})();_isChinese=e=>{for(var n=!0,t=0;t<e.length;t++)n=n&&e.charCodeAt(t)>=1e4;return n};_onSearch=e=>{let n=[],t=[];const{value:a}=e.target;a||(t=this.treeData),a&&this._isChinese(a)&&(n=this.treeDataMap.map((e=>e.title.indexOf(a)>-1?e.parentKey:null)).filter(((e,n,t)=>e&&t.indexOf(e)===n)),t=this.searchTree(this.treeData,a));const{checkAll:l,indeterminate:o}=this.isCheckAll(this.state.checkedNodes,t),i=this.state.checkedNodes.map((e=>e.key));this.setState({checkAll:l,indeterminate:o,expandedKeys:n,expandedValue:t,searchValue:a,autoExpandParent:!0,checkedKeys:i})};_onChangeAll=e=>{const n=e.target.checked;let t=this.state.checkedNodes,a=[];const l=this.getAllSubset([...this.state.expandedValue]);n?(t=$t().uniqBy(l.concat(t),"key"),a=t.map((e=>e.value))):(l.forEach((e=>{$t().remove(t,(n=>n.key===e.key))})),a=t.map((e=>e.value))),this.setState({checkAll:n,checkedKeys:a,checkedNodes:t,indeterminate:!1})};_onClearAll=()=>{this.setState({checkAll:!1,indeterminate:!1,checkedKeys:[],checkedNodes:[],expandedKeys:[]})};_onCheckTree=(e,n)=>{if(e=[...e,...this.state.checkedKeys],e=$t().uniq(e),n&&!n.checked){const t=n.node;t.children&&t.children.length>0&&t.children.forEach((n=>{$t().remove(e,(e=>e===n.key))})),$t().remove(e,(e=>e===t.key))}const t=this.leafNodes.filter((n=>e.includes(n.key))),a=t.map((e=>e.key)),{checkAll:l,indeterminate:o}=this.isCheckAll(t);this.setState({checkedKeys:a,checkedNodes:t,checkAll:l,indeterminate:o})};_onExpandTree=e=>{this.setState({expandedKeys:e,autoExpandParent:!1})};_onRemove=e=>{let{checkedKeys:n,checkedNodes:t,indeterminate:a,checkAll:l}=this.state;t.splice(e,1),n=t.map((e=>e.key)),n.length||(a=!1,l=!1),this.setState({checkAll:l,checkedKeys:n,checkedNodes:t,indeterminate:a})};_onCancel=()=>{this.setState({visible:!1}),this.props.onPress({index:0})};_onOk=()=>{const{checkedKeys:e,checkedNodes:n}=this.state;this.setState({visible:!1}),this.props.onPress({index:1,checkedKeys:e,checkedNodes:n})};orderSort(e,n){var t=e.title,a=n.title;return a>t?-1:a<t?1:0}render(){const{title:e="示例窗口",disabled:n=!1}=this.props,{visible:t,checkAll:a,indeterminate:l,autoExpandParent:o,checkedKeys:s=[],checkedNodes:r=[],expandedKeys:d=[],searchValue:c=""}=this.state,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{const{lv:n,parentKey:t,key:a}=e,l=e.title.indexOf(c),o=e.title.substr(0,l),s=e.title.substr(l+c.length),r=l>-1?(0,i.jsxs)("span",{children:[o,(0,i.jsx)("span",{className:Xt,children:c}),s]}):(0,i.jsx)("span",{children:e.title});return e.children?{key:a,title:r,lv:n,parentKey:t,children:u(e.children)}:{key:a,title:r,lv:n,parentKey:t}}))};return(0,i.jsx)(v.A,{width:580,className:Bt,visible:t,centered:!0,maskClosable:!0,title:(0,i.jsx)("div",{className:Ht,children:e},"title"),cancelText:"取消",onCancel:this._onCancel,okText:"提交",onOk:this._onOk,children:(0,i.jsxs)("div",{className:zt,children:[(0,i.jsxs)("div",{className:Yt,children:[(0,i.jsx)("div",{className:Gt,children:(0,i.jsx)(We.A,{placeholder:"搜索",suffix:(0,i.jsx)(Et.A,{}),allowClear:!0,onChange:this._onSearch,disabled:n})}),(0,i.jsxs)("div",{className:Wt,children:[(0,i.jsx)(ve.A,{checked:a,indeterminate:l,onChange:this._onChangeAll,disabled:n,children:"全选"}),(0,i.jsx)(Mt.A,{treeData:u(this.state.expandedValue),blockNode:!0,checkable:!0,checkedKeys:s,expandedKeys:d,autoExpandParent:o,onExpand:this._onExpandTree,onCheck:this._onCheckTree,disabled:n})]})]}),(0,i.jsxs)("div",{className:qt,children:[(0,i.jsxs)("div",{className:Gt,children:[(0,i.jsx)("div",{children:`已选${r.length}项`}),!n&&(0,i.jsx)("div",{className:Jt,onClick:this._onClearAll,children:"清空"})]}),(0,i.jsx)("div",{className:Wt,children:(0,i.jsx)("ul",{className:Ut,children:r.sort(this.orderSort).map(((e,t)=>(0,i.jsxs)("li",{children:[(0,i.jsx)("div",{className:Zt,children:e.title}),!n&&(0,i.jsx)(Lt.A,{className:Qt,onClick:this._onRemove.bind(this,t)})]},e.key)))})})]})]})})}}const na=new class{__key__="";show=e=>new Promise((n=>{""===this.__key__&&(this.__key__=String(Date.now()),Vt.add({key:this.__key__,content:(0,i.jsx)(ea,{...e,onPress:e=>{Vt.remove(this.__key__),this.__key__="",n(e)}}),duration:null}))}));dismiss=()=>{this.__key__.length>0&&(Vt.remove(this.__key__),this.__key__="")}},ta=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((n=>{n?.children?.length>0?ta(n.children,e):e.push(n)})),e},aa=e=>{let{defaultValue:n=[],onChange:t=e=>{},options:a=[],title:l="示例测试",width:o=200}=e;const s=ta(a,[]),r=n.length,d=s.length;return(0,i.jsx)(Ge.A,{style:{width:o},value:a.length?`${r===d?"全部":`${r}/${d}项`}${l}`:"请联系管理员开通权限",disabled:!a.length,options:[],open:!1,showArrow:!0,onClick:async()=>{const{index:e,checkedKeys:o}=await na.show({title:l,value:n,treeData:a});1===e&&o.length&&t(o)}})},la=[{id:999,label:"四川测试公司",value:"sichuan",type:null,children:[{id:1,label:"成都市",value:"chengdu",type:null,children:[{id:1,label:"示例1",value:"1",type:null,children:[{id:1,label:"示例1-1",value:"2",type:3,children:null}]}]},{id:2,label:"眉山市",value:"meishan",type:null,children:[{id:1,label:"示例2",value:"3",type:null,children:[{id:1,label:"示例2-1",value:"4",type:3,children:null}]}]},{id:3,label:"乐山市",value:"leshan",type:null,children:[{id:1,label:"示例3",value:"5",type:null,children:[{id:1,label:"示例3-1",value:"6",type:3,children:null}]}]}]},{id:1,label:"云南测试公司",value:"yunnan",type:null,children:[{id:1,label:"昆明市",value:"kunming",type:null,children:[{id:1,label:"示例1",value:"7",type:null,children:[{id:1,label:"示例1-2",value:"8",type:3,children:null}]}]},{id:2,label:"大理市",value:"dali",type:null,children:[{id:1,label:"示例2",value:"9",type:null,children:[{id:1,label:"示例2-1",value:"10",type:3,children:null}]}]}]}],oa="SelectBoxSample_container__PTinc",ia=()=>{const[e]=he.A.useForm();return(0,i.jsx)(he.A,{form:e,labelAlign:"right",className:oa,children:(0,i.jsx)(ge.A,{gutter:16,children:(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(aa,{title:"示例测试",defaultValue:["4"],options:la||[],onChange:()=>{}})})})})})},sa=[{fileName:"index.tsx",code:'import React from "react";\nimport { Form, Row, Col } from "antd";\nimport TreeSelect from "./components/TreeSelect";\nimport { mock } from "./components/TreeSelect/mock";\nimport styles from "./index.module.scss";\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  return (\n    <Form form={form} labelAlign="right" className={styles.container}>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label="字段标题" name="field1">\n            <TreeSelect\n              title="示例测试"\n              defaultValue={["4"]}\n              options={mock || []}\n              onChange={() => {}}\n            />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;\n'},{fileName:"mock.ts",code:'export interface MockItem {\n  id: number;\n  label: string;\n  value: string;\n  type: number | null;\n  children: MockItem[] | null;\n}\n\nexport const mock: MockItem[] = [\n  {\n    id: 999,\n    label: "四川测试公司",\n    value: "sichuan",\n    type: null,\n    children: [\n      {\n        id: 1,\n        label: "成都市",\n        value: "chengdu",\n        type: null,\n        children: [\n          {\n            id: 1,\n            label: "示例1",\n            value: "1",\n            type: null,\n            children: [\n              {\n                id: 1,\n                label: "示例1-1",\n                value: "2",\n                type: 3,\n                children: null,\n              },\n            ],\n          },\n        ],\n      },\n      {\n        id: 2,\n        label: "眉山市",\n        value: "meishan",\n        type: null,\n        children: [\n          {\n            id: 1,\n            label: "示例2",\n            value: "3",\n            type: null,\n            children: [\n              {\n                id: 1,\n                label: "示例2-1",\n                value: "4",\n                type: 3,\n                children: null,\n              },\n            ],\n          },\n        ],\n      },\n      {\n        id: 3,\n        label: "乐山市",\n        value: "leshan",\n        type: null,\n        children: [\n          {\n            id: 1,\n            label: "示例3",\n            value: "5",\n            type: null,\n            children: [\n              {\n                id: 1,\n                label: "示例3-1",\n                value: "6",\n                type: 3,\n                children: null,\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  {\n    id: 1,\n    label: "云南测试公司",\n    value: "yunnan",\n    type: null,\n    children: [\n      {\n        id: 1,\n        label: "昆明市",\n        value: "kunming",\n        type: null,\n        children: [\n          {\n            id: 1,\n            label: "示例1",\n            value: "7",\n            type: null,\n            children: [\n              {\n                id: 1,\n                label: "示例1-2",\n                value: "8",\n                type: 3,\n                children: null,\n              },\n            ],\n          },\n        ],\n      },\n      {\n        id: 2,\n        label: "大理市",\n        value: "dali",\n        type: null,\n        children: [\n          {\n            id: 1,\n            label: "示例2",\n            value: "9",\n            type: null,\n            children: [\n              {\n                id: 1,\n                label: "示例2-1",\n                value: "10",\n                type: 3,\n                children: null,\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n];\n'}].concat([{fileName:"TreeSelect.tsx",code:'/**\n * 下拉选择框的复合组件\n */\nimport React from "react";\nimport { Select } from "antd";\nimport { MockItem } from "./mock";\nimport { default as CheckboxModal } from "./modal";\n\ninterface TreeSelectProps {\n  defaultValue?: string[];\n  options: MockItem[];\n  onChange: (checkedKeys: string[]) => void;\n  title: string;\n  width?: number;\n}\n\nconst flattenDeep = (arr: any = [], result: any = []) => {\n  arr.map((item: any) => {\n    item?.children?.length > 0\n      ? flattenDeep(item.children, result)\n      : result.push(item);\n  });\n  return result;\n};\n\nconst TreeSelect: React.FC<TreeSelectProps> = ({\n  defaultValue = [],\n  onChange = (checkedKeys: any) => {},\n  options = [],\n  title = "示例测试",\n  width = 200,\n}) => {\n  const stations = flattenDeep(options, []);\n  const len = defaultValue.length;\n  const allLen = stations.length;\n  const onClickSelect = async () => {\n    // 点击下拉\n    const { index, checkedKeys } = await CheckboxModal.show({\n      title,\n      value: defaultValue,\n      treeData: options,\n    });\n    index === 1 && !!checkedKeys.length && onChange(checkedKeys);\n  };\n\n  return (\n    <Select\n      style={{ width: width }}\n      value={\n        !options.length\n          ? "请联系管理员开通权限"\n          : `${len === allLen ? "全部" : `${len}/${allLen}项`}${title}`\n      }\n      disabled={!options.length}\n      options={[]}\n      open={false}\n      showArrow\n      onClick={onClickSelect}\n    />\n  );\n};\n\nexport default TreeSelect;\n'},{fileName:"TreeSelect.module.scss",code:'$space: 24px;\n$border_light: #d9d9d9;\n$border_dark: #868686;\n\n@mixin modalDefault() {\n  .ant-modal-header {\n    padding-top: 18px;\n    padding-bottom: 0;\n    border-bottom: 0;\n  }\n  .ant-modal-body {\n    padding: $space;\n  }\n  .ant-modal-footer {\n    padding: $space;\n    padding-top: 0;\n    border-top: 0;\n  }\n  .ant-btn + .ant-btn:not(.ant-dropdown-trigger) {\n    margin-left: 16px;\n  }\n}\n\n.modal {\n  @include modalDefault();\n\n  .modal_title {\n    display: flex;\n    align-items: center;\n    height: 30px;\n    padding-left: 37px;\n    font-weight: 500;\n    font-size: 18px;\n    line-height: 1;\n    background-image: url("../../../../../../../images/plan_icon.png");\n    background-repeat: no-repeat;\n    background-size: 30px 30px;\n  }\n\n  .modal_body {\n    display: flex;\n    width: 100%;\n    height: 328px;\n    overflow: hidden;\n    border: 1px solid $border_light;\n    border-radius: 4px;\n\n    .treebox,\n    .choosebox {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n      padding: 16px 0;\n      overflow: hidden;\n    }\n    .treebox {\n      border-right: 1px solid $border_light;\n    }\n    .box_header {\n      height: 32px;\n      margin-bottom: 8px;\n      padding: 0 16px;\n    }\n    .box_content {\n      flex: 1;\n      padding: 0 16px;\n      overflow-y: auto;\n    }\n    .choosebox {\n      .box_header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n      }\n    }\n    .chooseList {\n      margin: 0;\n      padding: 0;\n      color: #595959;\n      list-style: none;\n\n      > li {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-top: 8px;\n\n        .chooseName {\n          flex: 1;\n        }\n      }\n    }\n    .close {\n      width: 16px;\n      height: 16px;\n      color: #bfbfbf;\n    }\n    .clear {\n      color: #8c8c8c;\n      cursor: pointer;\n    }\n  }\n\n  .foot {\n    width: 80px;\n    font-weight: 500;\n    font-size: 12px;\n    border-radius: 5px;\n  }\n\n  .search_act {\n    color: #18a0fb;\n  }\n}\n\nhtml[data-type-color="dark"] {\n  .modal {\n    .ant-btn-primary {\n      background: #18a0fb !important;\n    }\n\n    @include modalDefault();\n\n    .modal_title {\n      background-image: url("../../../../../../../images/plan_icon_dark.png");\n    }\n\n    .modal_body {\n      border-color: $border_dark;\n\n      .treebox {\n        border-color: $border_dark;\n      }\n\n      .chooseList {\n        color: #fff;\n      }\n      .close {\n        color: #d8d8d8;\n      }\n      .clear {\n        color: #fff;\n      }\n    }\n  }\n}\n'},{fileName:"TreeSelect.modal.jsx",code:'\n/**\n * title: 顶部名称\n * value: 选中值\n * treeData: 树形结构\n */\n\nimport React from "react";\nimport { Modal, Checkbox, Tree, Input } from "antd";\nimport TRNotification from "./noctification";\nimport { CloseOutlined, SearchOutlined } from "@ant-design/icons";\nimport _ from "lodash";\nimport styles from "./index.module.scss";\n\nclass ModalComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    const { treeData = [] } = props;\n\n    this.state = {\n      visible: true,\n      checkAll: false,\n      indeterminate: false,\n      autoExpandParent: true,\n      checkedKeys: [],\n      checkedNodes: [],\n      expandedKeys: [],\n      expandedValue: treeData,\n      searchValue: "",\n    };\n    this.deepLv = 1; // 最深叶子等级\n    this.treeDataMap = this._tree2map(treeData, [], null, 1);\n    this.treeData = treeData;\n    this.leafNodes = this.treeDataMap.filter((x) => x.lv === this.deepLv);\n\n    this._onSearch = this._onSearch.bind(this); // 搜索\n    this._onChangeAll = this._onChangeAll.bind(this); // 全选\n    this._onClearAll = this._onClearAll.bind(this); // 清空\n    this._onCheckTree = this._onCheckTree.bind(this); // 树选择\n    this._onExpandTree = this._onExpandTree.bind(this); // 树展开\n    this._onCancel = this._onCancel.bind(this); // 取消\n    this._onOk = this._onOk.bind(this); // 提交\n  }\n\n  componentDidMount() {\n    this._onCheckTree(this.props.value);\n  }\n\n  isCheckAll = (checkedNodes, expandedValue) => {\n    let checkAll = false;\n    let indeterminate = false;\n    const currentLeafArr = [];\n    const currentCheck = [];\n\n    const recursion = (treeData) => {\n      for (let i = 0; i < treeData.length; i++) {\n        const node = treeData[i];\n        if (node.children && node.children.length > 0) {\n          recursion(node.children);\n        } else {\n          currentLeafArr.push(node.key);\n          const item = _.find(checkedNodes, (n) => n.key === node.key);\n          if (item) {\n            currentCheck.push(item);\n          }\n        }\n      }\n    };\n    recursion(expandedValue ? expandedValue : this.state.expandedValue);\n\n    if (currentCheck.length >= currentLeafArr.length) {\n      checkAll = true;\n    }\n\n    if (\n      currentCheck.length > 0 &&\n      currentCheck.length < currentLeafArr.length\n    ) {\n      indeterminate = true;\n    }\n    return { checkAll, indeterminate };\n  };\n\n  getAllSubset = (arr) => {\n    const allSubset = [];\n    const recursion = (treeData) => {\n      if (treeData && treeData.length > 0) {\n        for (let i = 0; i < treeData.length; i++) {\n          const node = treeData[i];\n          if (node.children && node.children.length > 0) {\n            recursion(node.children);\n          } else {\n            // 与下面保持一致\n            const newNode = {\n              ...node,\n              key: node.key || node.value,\n              title: node.title || node.label,\n            };\n            allSubset.push(newNode);\n          }\n        }\n      }\n    };\n    recursion(arr);\n    return allSubset;\n  };\n\n  searchTree = (tree, value) => {\n    let result = [];\n    let addedKeys = new Set(); // 用于跟踪已经添加的节点key\n\n    function recursiveSearch(nodes) {\n      nodes.forEach((node) => {\n        if (node.title.indexOf(value) > -1) {\n          // 检查父节点是否已在结果集中\n          if (!addedKeys.has(node.key) && !addedKeys.has(node.parentKey)) {\n            result.push(node);\n            addedKeys.add(node.key);\n          }\n        }\n        if (node.children) {\n          recursiveSearch(node.children);\n        }\n      });\n    }\n\n    recursiveSearch(tree);\n    return result;\n  };\n\n  _tree2map = (tree = [], list = [], parentKey = null, lv = 1) => {\n    // 降维,key要唯一\n    if (lv > this.deepLv) this.deepLv = lv;\n    for (let i = 0; i < tree.length; i++) {\n      const node = tree[i];\n      // 取值处理，可以继续添加\n      const title = node.title || node.label;\n      const key = node.key || node.value;\n      node.key = key;\n      node.title = title;\n      node.parentKey = parentKey;\n      node.lv = lv;\n      list.push({\n        key,\n        title,\n        parentKey,\n        lv,\n      });\n      if (node.children?.length) {\n        this._tree2map(node.children, list, node.key, lv + 1);\n      }\n    }\n\n    return list;\n  };\n\n  _isChinese = (s) => {\n    // 中文全匹配\n    var ret = true;\n    for (var i = 0; i < s.length; i++) ret = ret && s.charCodeAt(i) >= 10000;\n    return ret;\n  };\n\n  _onSearch = (e) => {\n    let expandedKeys = [];\n    let expandedValue = [];\n    const { value } = e.target;\n    if (!value) {\n      expandedValue = this.treeData;\n    }\n    if (value && this._isChinese(value)) {\n      expandedKeys = this.treeDataMap\n        .map((x) => (x.title.indexOf(value) > -1 ? x.parentKey : null))\n        .filter((item, i, self) => item && self.indexOf(item) === i);\n\n      expandedValue = this.searchTree(this.treeData, value);\n    }\n    const { checkAll, indeterminate } = this.isCheckAll(\n      this.state.checkedNodes,\n      expandedValue\n    );\n    const checkedKeys = this.state.checkedNodes.map((x) => x.key);\n\n    this.setState({\n      checkAll,\n      indeterminate,\n      expandedKeys,\n      expandedValue,\n      searchValue: value,\n      autoExpandParent: true,\n      checkedKeys,\n    });\n  };\n\n  _onChangeAll = (e) => {\n    const checkAll = e.target.checked;\n    let checkedNodes = this.state.checkedNodes;\n    let checkedKeys = [];\n    const allSubset = this.getAllSubset([...this.state.expandedValue]);\n    let indeterminate = false;\n    if (checkAll) {\n      checkedNodes = _.uniqBy(allSubset.concat(checkedNodes), "key");\n      checkedKeys = checkedNodes.map((x) => x.value);\n    } else {\n      allSubset.forEach((v) => {\n        _.remove(checkedNodes, (n) => n.key === v.key);\n      });\n      checkedKeys = checkedNodes.map((x) => x.value);\n    }\n\n    this.setState({\n      checkAll,\n      checkedKeys,\n      checkedNodes,\n      indeterminate,\n    });\n  };\n\n  _onClearAll = () => {\n    this.setState({\n      checkAll: false,\n      indeterminate: false,\n      checkedKeys: [],\n      checkedNodes: [],\n      expandedKeys: [],\n    });\n  };\n\n  _onCheckTree = (val, e) => {\n    val = [...val, ...this.state.checkedKeys];\n    val = _.uniq(val);\n    if (e && !e.checked) {\n      const currentClick = e.node;\n      if (currentClick.children && currentClick.children.length > 0) {\n        currentClick.children.forEach((chil) => {\n          _.remove(val, (v) => v === chil.key);\n        });\n      }\n      _.remove(val, (v) => v === currentClick.key);\n    }\n\n    const checkedNodes = this.leafNodes.filter((x) => val.includes(x.key)),\n      checkedKeys = checkedNodes.map((x) => x.key);\n    const { checkAll, indeterminate } = this.isCheckAll(checkedNodes);\n\n    this.setState({\n      checkedKeys,\n      checkedNodes,\n      checkAll,\n      indeterminate,\n    });\n  };\n\n  _onExpandTree = (expandedKeys) => {\n    this.setState({\n      expandedKeys,\n      autoExpandParent: false,\n    });\n  };\n\n  _onRemove = (idx) => {\n    let { checkedKeys, checkedNodes, indeterminate, checkAll } = this.state;\n    checkedNodes.splice(idx, 1);\n    checkedKeys = checkedNodes.map((x) => x.key);\n    if (!checkedKeys.length) {\n      indeterminate = false;\n      checkAll = false;\n    }\n    this.setState({\n      checkAll,\n      checkedKeys,\n      checkedNodes,\n      indeterminate,\n    });\n  };\n\n  _onCancel = () => {\n    this.setState({\n      visible: false,\n    });\n    this.props.onPress({ index: 0 });\n  };\n\n  _onOk = () => {\n    const { checkedKeys, checkedNodes } = this.state;\n    this.setState({\n      visible: false,\n    });\n    this.props.onPress({\n      index: 1,\n      checkedKeys,\n      checkedNodes,\n    });\n  };\n  orderSort(obj1, obj2) {\n    var a = obj1.title;\n    var b = obj2.title;\n    if (b > a) {\n      return -1;\n    } else if (b < a) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n  render() {\n    const { title = "示例窗口", disabled = false } = this.props;\n    const {\n      visible,\n      checkAll,\n      indeterminate,\n      autoExpandParent,\n      checkedKeys = [],\n      checkedNodes = [],\n      expandedKeys = [],\n      searchValue = "",\n    } = this.state;\n\n    const loop = (data = []) =>\n      data.map((item) => {\n        const { lv, parentKey, key } = item;\n        const index = item.title.indexOf(searchValue);\n        const beforeStr = item.title.substr(0, index);\n        const afterStr = item.title.substr(index + searchValue.length);\n        const _title =\n          index > -1 ? (\n            <span>\n              {beforeStr}\n              <span className={styles.search_act}>{searchValue}</span>\n              {afterStr}\n            </span>\n          ) : (\n            <span>{item.title}</span>\n          );\n        if (item.children) {\n          return {\n            key,\n            title: _title,\n            lv,\n            parentKey,\n            children: loop(item.children),\n          };\n        }\n\n        return { key, title: _title, lv, parentKey };\n      });\n    return (\n      <Modal\n        width={580}\n        className={styles.modal}\n        visible={visible}\n        centered={true}\n        maskClosable={true}\n        title={\n          <div key=\'title\' className={styles.modal_title}>\n            {title}\n          </div>\n        }\n        cancelText={"取消"}\n        onCancel={this._onCancel}\n        okText={"提交"}\n        onOk={this._onOk}\n      >\n        <div className={styles.modal_body}>\n          <div className={styles.treebox}>\n            <div className={styles.box_header}>\n              <Input\n                placeholder=\'搜索\'\n                suffix={<SearchOutlined />}\n                allowClear={true}\n                onChange={this._onSearch}\n                disabled={disabled}\n              />\n            </div>\n            <div className={styles.box_content}>\n              <Checkbox\n                checked={checkAll}\n                indeterminate={indeterminate}\n                onChange={this._onChangeAll}\n                disabled={disabled}\n              >\n                全选\n              </Checkbox>\n              <Tree\n                treeData={loop(this.state.expandedValue)}\n                blockNode={true}\n                checkable={true}\n                checkedKeys={checkedKeys}\n                expandedKeys={expandedKeys}\n                autoExpandParent={autoExpandParent}\n                onExpand={this._onExpandTree}\n                onCheck={this._onCheckTree}\n                disabled={disabled}\n              />\n            </div>\n          </div>\n\n          <div className={styles.choosebox}>\n            <div className={styles.box_header}>\n              <div>{`已选${checkedNodes.length}项`}</div>\n              {!disabled && (\n                <div className={styles.clear} onClick={this._onClearAll}>\n                  清空\n                </div>\n              )}\n            </div>\n            <div className={styles.box_content}>\n              <ul className={styles.chooseList}>\n                {checkedNodes.sort(this.orderSort).map((item, idx) => {\n                  return (\n                    <li key={item.key}>\n                      <div className={styles.chooseName}>{item.title}</div>\n                      {!disabled && (\n                        <CloseOutlined\n                          className={styles.close}\n                          onClick={this._onRemove.bind(this, idx)}\n                        />\n                      )}\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nclass TRCheckboxModal {\n  __key__ = "";\n\n  show = (props) => {\n    return new Promise((resolve) => {\n      if (this.__key__ !== "") return;\n      this.__key__ = String(Date.now());\n      TRNotification.add({\n        key: this.__key__,\n        content: (\n          <ModalComponent\n            {...props}\n            onPress={(result) => {\n              TRNotification.remove(this.__key__);\n              this.__key__ = "";\n              resolve(result);\n            }}\n          />\n        ),\n        duration: null,\n      });\n    });\n  };\n\n  dismiss = () => {\n    if (this.__key__.length > 0) {\n      TRNotification.remove(this.__key__);\n      this.__key__ = "";\n    }\n  };\n}\n\nexport default new TRCheckboxModal();\n'},{fileName:"TreeSelect.notification.tsx",code:'\n/* （版本---"rc-notification": "4.4.0"） */\n\n// @ts-nocheck\nimport Notification from "rc-notification";\n\nclass TRNotificationSinge {\n  notification = null;\n  keyMap = new Map();\n  constructor() {\n    this.keys = [];\n    Notification.newInstance({}, (n) => (this.notification = n));\n  }\n\n  /**\n   * 添加方法\n   * @param key  唯一值\n   * @param content\n   * @param duration\n   * @param {function} dismiss 销毁方法\n   */\n  add({ key, content, duration = null, dismiss }) {\n    this.keyMap.set(key, dismiss);\n    this.notification.notice({\n      key,\n      content,\n      duration,\n    });\n  }\n  remove(key) {\n    this.notification.removeNotice(key);\n    this.keyMap.delete(key);\n  }\n\n  clear() {\n    this.keyMap.forEach((fuc, key) => {\n      fuc ? fuc() : this.remove(key);\n    });\n    this.keyMap.clear();\n  }\n}\n\nTRNotificationSinge.getInstance = (function () {\n  let instance;\n  return function () {\n    instance = instance ? instance : new TRNotificationSinge();\n    return instance;\n  };\n})();\n\nconst TRNotification = TRNotificationSinge.getInstance();\n\nexport default TRNotification;\n'}]),ra=()=>(0,i.jsx)(pe,{title:"下拉选择框的复合组件",codeParams:sa,children:(0,i.jsx)(ia,{})});var da=t(2629);const ca="WithValidateMessage_container__w-KWx",ua="WithValidateMessage_componentBox__FXDFV",ma="WithValidateMessage_messageBox__Mc3qF",pa=e=>{const{form:n,nevervalidate:t=!1,id:l="","aria-invalid":o,children:s,className:r,style:d={},...c}=e,u=(0,a.useMemo)((()=>{let e="";if(!t&&n&&l&&"true"===o){const t=l.split("_");let a=[];a=t.length>=3?n.getFieldError([t[0],Number(t[1]),t[2]]):n.getFieldError(t[0]),e=a[0]}return e}),[n,t,l,o]);return(0,i.jsxs)("div",{className:`${ca}${r?` ${r}`:""}`,style:d,children:[(0,i.jsx)("div",{className:ua,style:{width:t?"100%":"calc(100% - 28px)"},children:s?a.cloneElement(s,{...c,"aria-invalid":o,id:l}):null}),!t&&!!u&&(0,i.jsx)("div",{className:ma,children:(0,i.jsx)(b.A,{title:u,children:(0,i.jsx)(da.A,{})})})]})},ha=[{fileName:"WithValidateMessage.tsx",code:'/**\n * 用于显示自定义校验信息的FormItem组件的包装组件(注意：如果子组件需要传onChange属性，则必须由该包装组件进行传递，不能写在子组件里；要在外层组件中将.ant-form-item-explain类样式的display属性覆盖为none)\n */\nimport React, { useMemo, ReactElement } from "react";\nimport { Tooltip, type FormInstance } from "antd";\nimport { ExclamationCircleOutlined } from "@ant-design/icons";\nimport styles from "./index.module.scss";\n\ntype WithValidateMessageProps = {\n  form?: FormInstance | null; // form对象，nevervalidate为true时可以不传\n  nevervalidate?: boolean; // 是否绝对不会进行校验，该值为true时，组件后面不会有校验信息的图标，也不会占用空间\n  id?: string; // Form.Item组件自动传入\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  children?: ReactElement | null; // children必须是支持value和onChange属性的组件\n  className?: string;\n  style?: Record<string, any>;\n} & { [key in string]: any };\n\nconst WithValidateMessage = (props: WithValidateMessageProps) => {\n  const {\n    form,\n    nevervalidate = false,\n    id = "",\n    ["aria-invalid"]: invalid,\n    children,\n    className,\n    style = {},\n    ...restProps\n  } = props;\n\n  // 获取校验信息\n  const errorMessage = useMemo(() => {\n    let str = "";\n    if (!nevervalidate && form && id && invalid === "true") {\n      const namePath = id.split("_");\n      let errorList = [];\n      // 兼容Form.List\n      if (namePath.length >= 3) {\n        errorList = form.getFieldError([\n          namePath[0],\n          Number(namePath[1]),\n          namePath[2],\n        ]);\n      } else {\n        errorList = form.getFieldError(namePath[0]);\n      }\n      str = errorList[0];\n    }\n    return str;\n  }, [form, nevervalidate, id, invalid]);\n\n  return (\n    <div\n      className={`${styles.container}${className ? ` ${className}` : ""}`}\n      style={style}\n    >\n      <div\n        className={styles.componentBox}\n        style={{ width: nevervalidate ? "100%" : "calc(100% - 28px)" }}\n      >\n        {children\n          ? React.cloneElement(children, {\n              ...restProps,\n              "aria-invalid": invalid,\n              id,\n            })\n          : null}\n      </div>\n      {!nevervalidate && !!errorMessage && (\n        <div className={styles.messageBox}>\n          <Tooltip title={errorMessage}>\n            <ExclamationCircleOutlined />\n          </Tooltip>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WithValidateMessage;'},{fileName:"WithValidateMessage.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  $messageWidth: 26px;\n  .componentBox {\n    display: flex;\n    align-items: center;\n  }\n  .messageBox {\n    width: $messageWidth;\n    height: $messageWidth;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 3px;\n    margin-left: 2px;\n    svg {\n      width: 18px;\n      height: 18px;\n      path {\n        fill: $globalRedColor;\n      }\n    }\n  }\n}"}],ga=/^([\w+-.%]+@[\w-.]+\.[A-Za-z]{2,4})(;[\w+-.]+@[\w-.]+\.[A-Za-z]{2,4})*$/,fa=[{required:!0,message:"必填项"}],ba=[{required:!0,message:"请选择"}],va=[{validator:(e,n)=>n&&n.length>0&&(n[0]||0===n[0]||n[1])?(n[0]||0===n[0])&&n[1]?Promise.resolve():Promise.reject("两个都必填"):Promise.reject("必填项")}],xa=[{validator:(e,n)=>{if(!(n&&n.length>0))return Promise.reject("邮箱必填");{let e=!1;for(let t=0,a=n.length;t<a;t++){const a=n[t];if(!(a&&a[0]&&a[0].trim()))return Promise.reject("邮箱必填");ga.test(a[0].trim())||(e=!0)}if(e)return Promise.reject("邮箱格式不正确")}return Promise.resolve()}}],ya=()=>{const[e]=he.A.useForm();return(0,i.jsx)(he.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(ge.A,{gutter:16,children:[(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field1",rules:fa,children:(0,i.jsx)(pa,{form:e,children:(0,i.jsx)(We.A,{})})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field2",rules:ba,children:(0,i.jsx)(pa,{form:e,children:(0,i.jsx)(Ge.A,{options:[{label:"A",value:"a"},{label:"B",value:"b"}]})})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field3",rules:va,required:!0,validateStatus:"",children:(0,i.jsx)(pa,{form:e,children:(0,i.jsx)(cn,{options:[{name:"工作日",id:"workingDay"},{name:"自然日",id:"naturalDay"}],inputNumberProps:{addonAfter:"个"},selectProps:{fieldNames:{label:"name",value:"id"},allowClear:!0},setInputNumberStatus:e=>!e||!e[0]&&0!==e[0]?"error":"",setSelectStatus:e=>e&&e[1]?"":"error"})})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"字段标题",name:"field4",rules:fa,children:(0,i.jsx)(pa,{form:e,children:(0,i.jsx)(Je,{checkboxLabel:"复选框标题"})})})}),(0,i.jsx)(fe.A,{span:12,children:(0,i.jsx)(he.A.Item,{label:"邮箱",name:"field5",rules:xa,required:!0,validateStatus:"",children:(0,i.jsx)(pa,{form:e,children:(0,i.jsx)(Fn,{maxRows:5,children:(0,i.jsx)(Je,{checkboxLabel:"是否同步到平台",setInputStatus:e=>e&&e[0]&&e[0].trim()&&ga.test(e[0].trim())?"":"error"})})})})}),(0,i.jsx)(fe.A,{span:24,style:{display:"flex",justifyContent:"flex-end",paddingRight:"30px"},children:(0,i.jsx)(F.Ay,{type:"primary",onClick:async()=>{try{const n=await(e?.validateFields());console.log("values:",n)}catch(e){}},children:"提交"})})]})})},Sa="WithValidateMessageSample_container__z3ia8",ka=[{fileName:"index.tsx",code:'import React from "react";\nimport { Form, Row, Col, Input, Select, Button } from "antd";\nimport WithValidateMessage from "@/components/formItems/WithValidateMessage";\nimport CanAddMultiple from "@/components/formItems/CanAddMultiple";\nimport InputAndCheckbox from "@/components/formItems/InputAndCheckbox";\nimport type { Value as InputAndCheckboxValue } from "@/components/formItems/InputAndCheckbox";\nimport InputNumberAndSelect from "@/components/formItems/InputNumberAndSelect";\nimport type { Value as InputNumberAndSelectValue } from "@/components/formItems/InputNumberAndSelect";\n\nconst EMAIL_PATTERN =\n  /^([w+-.%]+@[w-.]+.[A-Za-z]{2,4})(;[w+-.]+@[w-.]+.[A-Za-z]{2,4})*$/;\n\nconst REQUIRED_FORM_ITEM_RULES = [{ required: true, message: "必填项" }];\nconst CUSTOM_SELECT_RULES = [{ required: true, message: "请选择" }];\nconst INPUTNUMBER_SELECT_RULES = [\n  {\n    validator: (_: Record<string, any>, value: InputNumberAndSelectValue) => {\n      if (value && value.length > 0) {\n        if (!value[0] && value[0] !== 0 && !value[1]) {\n          return Promise.reject("必填项");\n        } else {\n          if (!value[0] && value[0] !== 0) {\n            return Promise.reject("两个都必填");\n          }\n          if (!value[1]) {\n            return Promise.reject("两个都必填");\n          }\n        }\n      } else {\n        return Promise.reject("必填项");\n      }\n      return Promise.resolve();\n    },\n  },\n];\nconst MULTIPLE_EMAIL_RULES = [\n  {\n    validator: (\n      _: Record<string, any>,\n      value: ([string | undefined, boolean | undefined] | undefined)[]\n    ) => {\n      if (value && value.length > 0) {\n        let hasBadValue = false;\n        for (let i = 0, l = value.length; i < l; i++) {\n          const item = value[i];\n          if (!item || !item[0] || !item[0].trim()) {\n            return Promise.reject("邮箱必填");\n          } else if (!EMAIL_PATTERN.test(item[0].trim())) {\n            hasBadValue = true;\n          }\n        }\n        if (hasBadValue) {\n          return Promise.reject("邮箱格式不正确");\n        }\n      } else {\n        return Promise.reject("邮箱必填");\n      }\n      return Promise.resolve();\n    },\n  },\n];\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  // 点击提交\n  const onSubmit = async () => {\n    try {\n      const values = await form?.validateFields();\n      console.log("values:", values);\n    } catch (err) {}\n  };\n\n  return (\n    <Form form={form} labelAlign=\'right\'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item\n            label=\'字段标题\'\n            name=\'field1\'\n            rules={REQUIRED_FORM_ITEM_RULES}\n          >\n            <WithValidateMessage form={form}>\n              <Input />\n            </WithValidateMessage>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field2\' rules={CUSTOM_SELECT_RULES}>\n            <WithValidateMessage form={form}>\n              <Select\n                options={[\n                  { label: "A", value: "a" },\n                  { label: "B", value: "b" },\n                ]}\n              />\n            </WithValidateMessage>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item\n            label=\'字段标题\'\n            name=\'field3\'\n            rules={INPUTNUMBER_SELECT_RULES}\n            required\n            validateStatus=\'\'\n          >\n            <WithValidateMessage form={form}>\n              <InputNumberAndSelect\n                options={[\n                  { name: "工作日", id: "workingDay" },\n                  { name: "自然日", id: "naturalDay" },\n                ]}\n                inputNumberProps={{ addonAfter: "个" }}\n                selectProps={{\n                  fieldNames: { label: "name", value: "id" },\n                  allowClear: true,\n                }}\n                setInputNumberStatus={(\n                  value: InputNumberAndSelectValue | undefined\n                ) => {\n                  if (!value || (!value[0] && value[0] !== 0)) {\n                    return "error";\n                  }\n                  return "";\n                }}\n                setSelectStatus={(\n                  value: InputNumberAndSelectValue | undefined\n                ) => {\n                  if (!value || !value[1]) {\n                    return "error";\n                  }\n                  return "";\n                }}\n              />\n            </WithValidateMessage>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item\n            label=\'字段标题\'\n            name=\'field4\'\n            rules={REQUIRED_FORM_ITEM_RULES}\n          >\n            <WithValidateMessage form={form}>\n              <InputAndCheckbox checkboxLabel=\'复选框标题\' />\n            </WithValidateMessage>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item\n            label=\'邮箱\'\n            name=\'field5\'\n            rules={MULTIPLE_EMAIL_RULES}\n            required\n            validateStatus=\'\'\n          >\n            <WithValidateMessage form={form}>\n              <CanAddMultiple maxRows={5}>\n                <InputAndCheckbox\n                  checkboxLabel=\'是否同步到平台\'\n                  setInputStatus={(\n                    value: InputAndCheckboxValue | undefined\n                  ) => {\n                    if (\n                      !value ||\n                      !value[0] ||\n                      !value[0].trim() ||\n                      !EMAIL_PATTERN.test(value[0].trim())\n                    ) {\n                      return "error";\n                    }\n                    return "";\n                  }}\n                />\n              </CanAddMultiple>\n            </WithValidateMessage>\n          </Form.Item>\n        </Col>\n        <Col\n          span={24}\n          style={{\n            display: "flex",\n            justifyContent: "flex-end",\n            paddingRight: "30px",\n          }}\n        >\n          <Button type=\'primary\' onClick={onSubmit}>\n            提交\n          </Button>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;'}].concat(ha),wa=()=>(0,i.jsx)(pe,{className:Sa,title:"用于显示自定义校验信息的FormItem组件的包装组件",codeParams:ka,children:(0,i.jsx)(ya,{})}),Ca="FormItemSection_container__aQMvM",Ra="FormItemSection_sample__7pqvq",Aa=[(0,i.jsx)(Pe,{}),(0,i.jsx)(Ve,{}),(0,i.jsx)(qe,{}),(0,i.jsx)(ln,{}),(0,i.jsx)(hn,{}),(0,i.jsx)(_n,{}),(0,i.jsx)($n,{}),(0,i.jsx)(It,{}),(0,i.jsx)(ra,{}),(0,i.jsx)(wa,{})],_a=()=>(0,i.jsx)("div",{className:Ca,children:Aa.map(((e,n)=>(0,i.jsx)("div",{className:Ra,children:e},n)))});var Pa=t(9237),ja=t(401),Na=t(5059),Da=t(1475);const Ta="DraggableFormListContext_draggableRow__nIx6b",Ia="DraggableFormListContext_defaultBtn__JLXQk",Ma="DraggableFormListContext_disabled__tQWcQ",Fa="DraggableFormListContext_removeBtn__+PPAc",Oa=e=>{const{quote:n,index:t,children:a,remove:l,onToTop:o,disabled:s=!1}=e;return(0,i.jsx)(ja.sx,{draggableId:n.key.toString(),index:t,children:e=>(0,i.jsx)("div",{ref:e.innerRef,...e.draggableProps,children:(0,i.jsxs)("div",{className:Ta,children:[(0,i.jsx)("div",{...s?{}:e.dragHandleProps,className:`${Ia}${s?` ${Ma}`:""}`,style:{marginRight:"8px"},children:(0,i.jsx)(Na.A,{})}),a,l&&(0,i.jsx)("div",{className:`${Fa}${s?` ${Ma}`:""}`,style:{marginLeft:"10px"},onClick:()=>{s||l(t)},children:(0,i.jsx)(jn.A,{})}),o&&(0,i.jsx)("div",{className:`${Ia}${s?` ${Ma}`:""}`,style:{marginLeft:"10px"},onClick:()=>{0!==t&&(s||o(t))},children:(0,i.jsx)(Da.A,{})})]})})})},Va=e=>{const{droppableId:n="",fields:t,move:l,children:o,remove:s,showToTop:r=!1,disabled:d}=e,c=ye(d),u=(0,a.useCallback)((e=>{l(e,0)}),[]);return(0,i.jsx)(ja.JY,{onDragEnd:e=>{const{source:n,destination:t}=e;if(n&&t&&n.droppableId==t.droppableId&&n.index!==t.index){const e=n.index,a=t.index;l(e,a)}},children:(0,i.jsx)(ja.gL,{droppableId:n,children:e=>(0,i.jsx)("div",{ref:e.innerRef,...e.droppableProps,children:t.map(((e,n)=>{const{key:t,...a}=e;return(0,i.jsx)(Oa,{quote:e,index:n,remove:s,onToTop:r?u:null,disabled:c,children:o(a,n)},t)}))})})})},Ea=[{fileName:"DraggableFormListContext.tsx",code:'/**\n * 可上下拖拽排序的Form.List的包装组件\n */\nimport React, { useCallback, ReactNode } from "react";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport { DragDropContext, Droppable, DropResult } from "react-beautiful-dnd";\nimport type { DroppableProvided } from "react-beautiful-dnd";\nimport DraggableFormListRow from "./DraggableFormListRow";\n\ntype DraggableFormListContextProps = {\n  droppableId: string;\n  fields: Record<string, any>[];\n  move: (from: number, to: number) => void;\n  children: (quote: Record<string, any>, index?: number) => ReactNode;\n  remove?: (index: number | number[]) => void;\n  showToTop?: boolean; // 是否显示置顶按钮\n  disabled?: boolean;\n};\n\nconst DraggableFormListContext = (props: DraggableFormListContextProps) => {\n  const {\n    droppableId = "",\n    fields,\n    move,\n    children,\n    remove,\n    showToTop = false,\n    disabled: selfDisabled,\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const handleDragEnd = (result: DropResult) => {\n    const { source, destination } = result;\n    if (\n      source &&\n      destination &&\n      source.droppableId == destination.droppableId &&\n      source.index !== destination.index\n    ) {\n      const from = source.index;\n      const to = destination.index;\n      move(from, to);\n    }\n  };\n\n  const handleToTop = useCallback((index: number) => {\n    move(index, 0);\n  }, []);\n\n  return (\n    <DragDropContext onDragEnd={handleDragEnd}>\n      <Droppable droppableId={droppableId}>\n        {(provided: DroppableProvided) => (\n          <div ref={provided.innerRef} {...provided.droppableProps}>\n            {fields.map((quote: any, index: number) => {\n              const { key, ...restQuoteProps } = quote;\n              return (\n                <DraggableFormListRow\n                  quote={quote}\n                  index={index}\n                  remove={remove}\n                  onToTop={showToTop ? handleToTop : null}\n                  disabled={disabled}\n                  key={key}\n                >\n                  {children(restQuoteProps, index)}\n                </DraggableFormListRow>\n              );\n            })}\n          </div>\n        )}\n      </Droppable>\n    </DragDropContext>\n  );\n};\n\nexport default DraggableFormListContext;'},{fileName:"DraggableFormListRow.tsx",code:'/**\n * 可增加和删除多条数据的包装组件\n */\nimport React, { ReactNode } from "react";\nimport { Draggable } from "react-beautiful-dnd";\nimport type { DraggableProvided } from "react-beautiful-dnd";\nimport {\n  HolderOutlined,\n  VerticalAlignTopOutlined,\n  MinusCircleOutlined,\n} from "@ant-design/icons";\nimport styles from "./index.module.scss";\n\ntype DraggableFormListRowProps = {\n  quote: Record<string, any>;\n  index: number;\n  children: ReactNode;\n  remove?: ((index: number) => void) | null;\n  onToTop?: ((index: number) => void) | null;\n  disabled?: boolean;\n};\n\nconst DraggableFormListRow = (props: DraggableFormListRowProps) => {\n  const { quote, index, children, remove, onToTop, disabled = false } = props;\n\n  return (\n    <Draggable draggableId={quote.key.toString()} index={index}>\n      {(provided: DraggableProvided) => (\n        <div ref={provided.innerRef} {...provided.draggableProps}>\n          <div className={styles.draggableRow}>\n            <div\n              {...(!disabled ? provided.dragHandleProps : {})}\n              className={`${styles.defaultBtn}${\n                disabled ? ` ${styles.disabled}` : ""\n              }`}\n              style={{ marginRight: "8px" }}\n            >\n              <HolderOutlined />\n            </div>\n            {children}\n            {remove && (\n              <div\n                className={`${styles.removeBtn}${\n                  disabled ? ` ${styles.disabled}` : ""\n                }`}\n                style={{ marginLeft: "10px" }}\n                onClick={() => {\n                  if (disabled) return;\n                  remove(index);\n                }}\n              >\n                <MinusCircleOutlined />\n              </div>\n            )}\n            {onToTop && (\n              <div\n                className={`${styles.defaultBtn}${\n                  disabled ? ` ${styles.disabled}` : ""\n                }`}\n                style={{ marginLeft: "10px" }}\n                onClick={() => {\n                  if (index === 0) return;\n                  if (disabled) return;\n                  onToTop(index);\n                }}\n              >\n                <VerticalAlignTopOutlined />\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </Draggable>\n  );\n};\n\nexport default DraggableFormListRow;'},{fileName:"DraggableFormListContext.module.scss",code:".draggableRow {\n  display: flex;\n  align-items: center;\n  padding: 8px 0;\n\n  $btnSize: 16px;\n  .defaultBtn:not(.disabled) {\n    cursor: pointer;\n    :global {\n      svg {\n        width: $btnSize;\n        height: $btnSize;\n        path {\n          fill: $globalPrimaryColor;\n        }\n      }\n    }\n  }\n\n  .removeBtn:not(.disabled) {\n    cursor: pointer;\n    :global {\n      svg {\n        width: $btnSize;\n        height: $btnSize;\n        path {\n          fill: $globalRedColor;\n        }\n      }\n    }\n  }\n\n  .disabled {\n    cursor: not-allowed !important;\n    :global {\n      svg {\n        width: $btnSize;\n        height: $btnSize;\n        path {\n          fill: $disabledColor;\n        }\n      }\n    }\n  }\n}"}],La=(e,n)=>{const[t,l]=(0,a.useState)(0);return(0,a.useEffect)((()=>{if(e.current){const{clientHeight:n}=e.current;l(n)}}),[]),{droppableHeight:t,setDroppableHeight:l,onAdd:e=>{l((e=>e+n)),e?.()},onRemove:(e,t)=>{l((e=>Math.max(e-n,0))),e?.(t)}}},Ka="DraggableFormListSample_container__x0PmK",$a="DraggableFormListSample_itemTitleRow__W0a+q",Ba="DraggableFormListSample_formListRow__v94NW",Ha=()=>{const[e]=he.A.useForm(),n=(0,a.useRef)(null),{droppableHeight:t,onAdd:l,onRemove:o}=La(n,48),s=(0,a.useRef)(1);return(0,i.jsx)(he.A,{form:e,labelAlign:"right",initialValues:{fieldList:[{id:"1",field1:"默认值",field2:"workingDay",field3:["默认值",!0],field4:[g()(),g()(),!1]}]},children:(0,i.jsx)(he.A.List,{name:"fieldList",children:(e,a)=>{let{add:r,move:d,remove:c}=a;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:$a,children:(0,i.jsx)(F.Ay,{type:"primary",icon:(0,i.jsx)(Pa.A,{}),ghost:!0,onClick:()=>(e=>{s.current>=5?W.Ay.warning("最多可增加5条数据"):(l(e),s.current=s.current+1)})(r),children:"新增"})}),(0,i.jsx)("div",{style:{width:"100%",height:t>0?`${t}px`:"auto"},ref:n,children:(0,i.jsx)(Va,{droppableId:"fieldList",fields:e,showToTop:!0,move:d,remove:e=>((e,n)=>{s.current<=1?W.Ay.warning("最少要有1条数据"):(o(e,n),s.current=s.current-1)})(c,e),children:e=>(0,i.jsxs)("div",{className:Ba,children:[(0,i.jsx)(he.A.Item,{...e,name:[e.name,"id"],hidden:!0}),(0,i.jsx)(he.A.Item,{...e,label:"字段1",name:[e.name,"field1"],children:(0,i.jsx)(We.A,{})}),(0,i.jsx)(he.A.Item,{...e,label:"字段2",name:[e.name,"field2"],children:(0,i.jsx)(Ge.A,{options:[{label:"工作日",value:"workingDay"},{label:"自然日",value:"naturalDay"}],style:{width:"200px"}})}),(0,i.jsx)(he.A.Item,{...e,label:"字段3",name:[e.name,"field3"],children:(0,i.jsx)(Je,{})}),(0,i.jsx)(he.A.Item,{...e,label:"字段4",name:[e.name,"field4"],children:(0,i.jsx)(Ie,{})})]})})})]})}})})},za=[{fileName:"index.tsx",code:'import React, { useRef } from "react";\nimport { Button, Form, Input, message, Select } from "antd";\nimport { PlusOutlined } from "@ant-design/icons";\nimport dayjs from "dayjs";\nimport DraggableFormListContext from "@/components/formLists/DraggableFormListContext";\nimport useFixHeight from "@/components/formLists/DraggableFormListContext/hooks/useFixHeight";\nimport InputAndCheckbox from "@/components/formItems/InputAndCheckbox";\nimport RangePickerAndCheckbox from "@/components/formItems/RangePickerAndCheckbox";\nimport styles from "./index.module.scss";\n\nconst DRAGGABLE_HEIGHT = 48;\n\nconst Content = () => {\n  const [form] = Form.useForm();\n  const containerRef = useRef<HTMLDivElement>(null);\n  const { droppableHeight, onAdd, onRemove } = useFixHeight(\n    containerRef,\n    DRAGGABLE_HEIGHT\n  );\n  const rows = useRef<number>(1);\n\n  const onAddClick = (add: any) => {\n    if (rows.current >= 5) {\n      message.warning("最多可增加5条数据");\n      return;\n    }\n    onAdd(add);\n    rows.current = rows.current + 1;\n  };\n\n  const onRemoveClick = (remove: any, index: number) => {\n    if (rows.current <= 1) {\n      message.warning("最少要有1条数据");\n      return;\n    }\n    onRemove(remove, index);\n    rows.current = rows.current - 1;\n  };\n\n  return (\n      <Form\n        form={form}\n        labelAlign=\'right\'\n        initialValues={{\n          fieldList: [\n            {\n              id: "1",\n              field1: "默认值",\n              field2: "workingDay",\n              field3: ["默认值", true],\n              field4: [dayjs(), dayjs(), false],\n            },\n          ],\n        }}\n      >\n        <Form.List name=\'fieldList\'>\n          {(fields, { add, move, remove }) => (\n            <>\n              <div className={styles.itemTitleRow}>\n                <Button\n                  type=\'primary\'\n                  icon={<PlusOutlined />}\n                  ghost\n                  onClick={() => onAddClick(add)}\n                >\n                  新增\n                </Button>\n              </div>\n              <div\n                style={{\n                  width: "100%",\n                  height: droppableHeight > 0 ? `${droppableHeight}px` : "auto",\n                }}\n                ref={containerRef}\n              >\n                <DraggableFormListContext\n                  droppableId=\'fieldList\'\n                  fields={fields}\n                  showToTop\n                  move={move}\n                  remove={(index) => onRemoveClick(remove, index as number)}\n                >\n                  {(quote) => (\n                    <div className={styles.formListRow}>\n                      <Form.Item\n                        {...quote}\n                        name={[quote.name, "id"]}\n                        hidden\n                      ></Form.Item>\n                      <Form.Item\n                        {...quote}\n                        label=\'字段1\'\n                        name={[quote.name, "field1"]}\n                      >\n                        <Input />\n                      </Form.Item>\n                      <Form.Item\n                        {...quote}\n                        label=\'字段2\'\n                        name={[quote.name, "field2"]}\n                      >\n                        <Select\n                          options={[\n                            { label: "工作日", value: "workingDay" },\n                            { label: "自然日", value: "naturalDay" },\n                          ]}\n                          style={{ width: "200px" }}\n                        />\n                      </Form.Item>\n                      <Form.Item\n                        {...quote}\n                        label=\'字段3\'\n                        name={[quote.name, "field3"]}\n                      >\n                        <InputAndCheckbox />\n                      </Form.Item>\n                      <Form.Item\n                        {...quote}\n                        label=\'字段4\'\n                        name={[quote.name, "field4"]}\n                      >\n                        <RangePickerAndCheckbox />\n                      </Form.Item>\n                    </div>\n                  )}\n                </DraggableFormListContext>\n              </div>\n            </>\n          )}\n        </Form.List>\n      </Form>\n  );\n};\n\nexport default Content;\n'}].concat(Ea),Ya=()=>(0,i.jsx)(pe,{className:Ka,title:"可上下拖拽排序的Form.List的包装组件",codeParams:za,children:(0,i.jsx)(Ha,{})}),qa="DraggableWithValidateFormListSample_container__6VHhw",Ga="DraggableWithValidateFormListSample_itemTitleRow__KkWRb",Wa="DraggableWithValidateFormListSample_formListRow__1BmxV",Ua=[{required:!0,message:"必填项"}],Za=()=>{const[e]=he.A.useForm(),n=(0,a.useRef)(null),{droppableHeight:t,onAdd:l,onRemove:o}=La(n,48),s=(0,a.useRef)(1);return(0,i.jsxs)(he.A,{form:e,labelAlign:"right",initialValues:{fieldList:[{}]},children:[(0,i.jsx)(he.A.List,{name:"fieldList",children:(a,r)=>{let{add:d,move:c,remove:u}=r;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:Ga,children:(0,i.jsx)(F.Ay,{type:"primary",icon:(0,i.jsx)(Pa.A,{}),ghost:!0,onClick:()=>(e=>{s.current>=5?W.Ay.warning("最多可增加5条数据"):(l(e),s.current=s.current+1)})(d),children:"新增"})}),(0,i.jsx)("div",{style:{width:"100%",height:t>0?`${t}px`:"auto"},ref:n,children:(0,i.jsx)(Va,{droppableId:"fieldList",fields:a,showToTop:!0,move:c,remove:e=>((e,n)=>{s.current<=1?W.Ay.warning("最少要有1条数据"):(o(e,n),s.current=s.current-1)})(u,e),children:n=>(0,i.jsxs)("div",{className:Wa,children:[(0,i.jsx)(he.A.Item,{...n,name:[n.name,"id"],hidden:!0}),(0,i.jsx)(he.A.Item,{...n,label:"字段1",name:[n.name,"field1"],rules:Ua,children:(0,i.jsx)(pa,{form:e,style:{width:"214px"},children:(0,i.jsx)(We.A,{})})}),(0,i.jsx)(he.A.Item,{...n,label:"字段2",name:[n.name,"field2"],rules:Ua,children:(0,i.jsx)(pa,{form:e,style:{width:"214px"},children:(0,i.jsx)(Ge.A,{options:[{label:"工作日",value:"workingDay"},{label:"自然日",value:"naturalDay"}],style:{width:"200px"}})})}),(0,i.jsx)(he.A.Item,{...n,label:"字段3",name:[n.name,"field3"],rules:Ua,children:(0,i.jsx)(pa,{form:e,style:{width:"214px"},children:(0,i.jsx)(Je,{})})}),(0,i.jsx)(he.A.Item,{...n,label:"字段4",name:[n.name,"field4"],rules:Ua,children:(0,i.jsx)(pa,{form:e,style:{width:"294px"},children:(0,i.jsx)(Ie,{})})})]})})})]})}}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,i.jsx)(F.Ay,{type:"primary",onClick:async()=>{try{const n=await(e?.validateFields());console.log("values:",n)}catch(e){}},children:"提交"})})]})},Qa=[{fileName:"index.tsx",code:'import React, { useRef } from "react";\nimport { Button, Form, Input, message, Select } from "antd";\nimport { PlusOutlined } from "@ant-design/icons";\nimport DraggableFormListContext from "@/components/formLists/DraggableFormListContext";\nimport useFixHeight from "@/components/formLists/DraggableFormListContext/hooks/useFixHeight";\nimport WithValidateMessage from "@/components/formItems/WithValidateMessage";\nimport InputAndCheckbox from "@/components/formItems/InputAndCheckbox";\nimport RangePickerAndCheckbox from "@/components/formItems/RangePickerAndCheckbox";\nimport styles from "./index.module.scss";\n\nconst DRAGGABLE_HEIGHT = 48;\nconst REQUIRED_FORM_ITEM_RULES = [{ required: true, message: "必填项" }];\n\nconst Content = () => {\n  const [form] = Form.useForm();\n  const containerRef = useRef<HTMLDivElement>(null);\n  const { droppableHeight, onAdd, onRemove } = useFixHeight(\n    containerRef,\n    DRAGGABLE_HEIGHT\n  );\n  const rows = useRef<number>(1);\n\n  const onAddClick = (add: any) => {\n    if (rows.current >= 5) {\n      message.warning("最多可增加5条数据");\n      return;\n    }\n    onAdd(add);\n    rows.current = rows.current + 1;\n  };\n\n  const onRemoveClick = (remove: any, index: number) => {\n    if (rows.current <= 1) {\n      message.warning("最少要有1条数据");\n      return;\n    }\n    onRemove(remove, index);\n    rows.current = rows.current - 1;\n  };\n\n  // 点击提交\n  const onSubmit = async () => {\n    try {\n      const values = await form?.validateFields();\n      console.log("values:", values);\n    } catch (err) {}\n  };\n\n  return (\n    <Form\n      form={form}\n      labelAlign=\'right\'\n      initialValues={{\n        fieldList: [{}],\n      }}\n    >\n      <Form.List name=\'fieldList\'>\n        {(fields, { add, move, remove }) => (\n          <>\n            <div className={styles.itemTitleRow}>\n              <Button\n                type=\'primary\'\n                icon={<PlusOutlined />}\n                ghost\n                onClick={() => onAddClick(add)}\n              >\n                新增\n              </Button>\n            </div>\n            <div\n              style={{\n                width: "100%",\n                height: droppableHeight > 0 ? `${droppableHeight}px` : "auto",\n              }}\n              ref={containerRef}\n            >\n              <DraggableFormListContext\n                droppableId=\'fieldList\'\n                fields={fields}\n                showToTop\n                move={move}\n                remove={(index) => onRemoveClick(remove, index as number)}\n              >\n                {(quote) => (\n                  <div className={styles.formListRow}>\n                    <Form.Item\n                      {...quote}\n                      name={[quote.name, "id"]}\n                      hidden\n                    ></Form.Item>\n                    <Form.Item\n                      {...quote}\n                      label=\'字段1\'\n                      name={[quote.name, "field1"]}\n                      rules={REQUIRED_FORM_ITEM_RULES}\n                    >\n                      <WithValidateMessage\n                        form={form}\n                        style={{ width: "214px" }}\n                      >\n                        <Input />\n                      </WithValidateMessage>\n                    </Form.Item>\n                    <Form.Item\n                      {...quote}\n                      label=\'字段2\'\n                      name={[quote.name, "field2"]}\n                      rules={REQUIRED_FORM_ITEM_RULES}\n                    >\n                      <WithValidateMessage\n                        form={form}\n                        style={{ width: "214px" }}\n                      >\n                        <Select\n                          options={[\n                            { label: "工作日", value: "workingDay" },\n                            { label: "自然日", value: "naturalDay" },\n                          ]}\n                          style={{ width: "200px" }}\n                        />\n                      </WithValidateMessage>\n                    </Form.Item>\n                    <Form.Item\n                      {...quote}\n                      label=\'字段3\'\n                      name={[quote.name, "field3"]}\n                      rules={REQUIRED_FORM_ITEM_RULES}\n                    >\n                      <WithValidateMessage\n                        form={form}\n                        style={{ width: "214px" }}\n                      >\n                        <InputAndCheckbox />\n                      </WithValidateMessage>\n                    </Form.Item>\n                    <Form.Item\n                      {...quote}\n                      label=\'字段4\'\n                      name={[quote.name, "field4"]}\n                      rules={REQUIRED_FORM_ITEM_RULES}\n                    >\n                      <WithValidateMessage\n                        form={form}\n                        style={{ width: "294px" }}\n                      >\n                        <RangePickerAndCheckbox />\n                      </WithValidateMessage>\n                    </Form.Item>\n                  </div>\n                )}\n              </DraggableFormListContext>\n            </div>\n          </>\n        )}\n      </Form.List>\n      <div\n        style={{\n          display: "flex",\n          justifyContent: "flex-end",\n        }}\n      >\n        <Button type=\'primary\' onClick={onSubmit}>\n          提交\n        </Button>\n      </div>\n    </Form>\n  );\n};\n\nexport default Content;\n'}].concat(Ea,ha),Ja=()=>(0,i.jsx)(pe,{className:qa,title:"可上下拖拽排序且显示自定义校验信息的Form.List",codeParams:Qa,children:(0,i.jsx)(Za,{})}),Xa="FormListSection_container__9--VJ",el="FormListSection_sample__M7-lo",nl=[(0,i.jsx)(Ya,{}),(0,i.jsx)(Ja,{})],tl=()=>(0,i.jsx)("div",{className:Xa,children:nl.map(((e,n)=>(0,i.jsx)("div",{className:el,children:e},n)))});var al=t(3438),ll=t(6044),ol=t(9039),il=t(5413);const sl="EditableTable_editableTable__8yjKc",{RangePicker:rl}=be.A,dl=/^([\w+-.%]+@[\w-.]+\.[A-Za-z]{2,4})(;[\w+-.]+@[\w-.]+\.[A-Za-z]{2,4})*$/,cl=a.createContext(null),ul=e=>{let{form:n,editType:t,editProps:l,component:o,disabled:s,dataIndex:r,record:d,save:c}=e;const u={...l,disabled:l.disabled||s};delete u.validateStatus;const m=()=>c(r);let p=(0,i.jsx)(We.A,{style:{width:"100%"},onBlur:m,...u});switch(t){case"inputNumber":p=(0,i.jsx)(on.A,{style:{width:"100%"},onBlur:m,...u});break;case"select":p=(0,i.jsx)(Ge.A,{style:{width:"100%"},...u});break;case"datePicker":p=(0,i.jsx)(be.A,{style:{width:"100%"},...u});break;case"rangePicker":p=(0,i.jsx)(rl,{style:{width:"100%"},...u});break;case"radioGroup":p=(0,i.jsx)(gn.Ay.Group,{...u});break;case"checkboxGroup":p=(0,i.jsx)(ve.A.Group,{...u});break;case"cascader":p=(0,i.jsx)(al.A,{style:{width:"100%"},...u})}return o&&(p=a.cloneElement(o,{record:d,...u})),(0,i.jsx)(pa,{onChange:(e,n)=>{if(!t&&!o||["input","inputNumber"].includes(t))return;if("radioGroup"===t)return void c?.(r,e?.target?.value||void 0);const a=e?.target?"":e;c?.(r,a),l.onChange?.(a,n,d)},form:n,nevervalidate:!!l.nevervalidate,children:p})},ml=a.memo((e=>{const{rowKey:n="id",editable:t=!1,editType:l="input",editProps:o,component:s,disabled:r,dataIndex:d,record:c,children:u,ruleOptions:m,rules:p,handleSave:h,...g}=e,f=(0,a.useContext)(cl);let b=o||{};"function"==typeof o&&(b=o(c)||{});const v=(0,a.useMemo)((()=>{let e=[];return p&&p.length>0?e=p:(m?.isRequired&&e.push({required:!0,message:"必填项"}),m?.isEmail&&e.push({pattern:dl,message:"请输入正确邮箱格式"})),e}),[m,p]),x=async(e,n)=>{const t=n||await(f?.getFieldValue(e)),a={...c,[e]:t};h?.(a);try{await(f?.validateFields([e]))}catch(e){}};(0,a.useEffect)((()=>{f?.setFieldsValue({[d]:c?.[d]})}),[]);let y=u;return t?y=(0,i.jsx)(he.A.Item,{style:{margin:0},name:d,rules:v,required:!!m?.isRequired,validateStatus:b.validateStatus,children:ul({editType:l,editProps:b,component:s,disabled:r,dataIndex:d,record:c,form:f,save:x})}):d===n&&(y=(0,i.jsx)(he.A.Item,{style:{margin:0},name:d,hidden:!0})),(0,i.jsx)("td",{title:r?c?.[d]:"",...g,children:y})}));class pl extends a.PureComponent{render(){return(0,i.jsx)(ml,{...(0,il.A)(this.props,["onMouseEnter","onMouseLeave"])})}}const hl=e=>{let{rowKey:n,onFromaValuesChange:t,...a}=e;const[l]=he.A.useForm();return(0,i.jsx)(he.A,{form:l,onValuesChange:(e,o)=>{t?.(e,l,{...o,[n]:a["data-row-key"]})},component:!1,children:(0,i.jsx)(cl.Provider,{value:l,children:(0,i.jsx)("tr",{...a})})})},gl=e=>{let{rowKey:n="id",dataSource:t,columns:l,setDataSource:o,disabled:s=!1,onFormValuesChange:r,deleteRowCallback:d,...c}=e;const u=(0,a.useMemo)((()=>({body:{row:e=>(0,i.jsx)(hl,{...e,rowKey:n,onFromaValuesChange:r}),cell:pl}})),[]),m=e=>{const a=t.map((t=>t[n]===e[n]?{...t,...e}:t));setTimeout((()=>{o(a)}))},p=(0,a.useMemo)((()=>l.map((e=>({...e,onCell:n=>({editable:e.editable,editType:e.editType,editProps:e.editProps,component:e.component,disabled:s,dataIndex:e.dataIndex,record:n,ruleOptions:e.ruleOptions,rules:e.rules,handleSave:m})})))),[l,s,m]),h=[...p,{title:"操作",key:"action",dataIndex:"action",align:"center",width:80,fixed:"right",render:(e,a)=>(0,i.jsx)("div",{style:{padding:0},children:s?(0,i.jsx)(F.Ay,{type:"link",danger:!0,disabled:!0,children:"删除"}):(0,i.jsxs)(ll.A,{title:"是否确定删除此行？",onConfirm:()=>{(e=>{const a=t.filter((t=>t[n]!==e[n]));o(a),d?.(e)})(a)},children:[(0,i.jsx)(F.Ay,{style:{padding:0},type:"link",danger:!0,children:"删除"})," "]})})}];return(0,i.jsx)("div",{className:sl,children:(0,i.jsx)(ol.A,{rowKey:n,columns:h,components:u,dataSource:t,pagination:!1,tableLayout:"fixed",bordered:!0,...c})})},fl="EditableTableSample_container__zJ0lF",bl="EditableTableSample_itemTitleRow__-4Ff7",vl="EditableTableSample_columnTitle__tXGhM",xl="EditableTableSample_requiredIcon__mXEG2",yl=[{validator:(e,n)=>n&&n.length>0&&(n[0]||0===n[0]||n[1])?(n[0]||0===n[0])&&n[1]?Promise.resolve():Promise.reject("两个都必填"):Promise.reject("必填项")}],Sl=()=>{const[e,n]=(0,a.useState)([]),t=[{title:(0,i.jsxs)("div",{className:vl,children:[(0,i.jsx)("span",{className:xl,children:"*"}),(0,i.jsx)("span",{children:"邮箱"})]}),dataIndex:"email",width:160,editable:!0,ruleOptions:{isRequired:!0,isEmail:!0}},{title:(0,i.jsxs)("div",{className:vl,children:[(0,i.jsx)("span",{className:xl,children:"*"}),(0,i.jsx)("span",{children:"日期"})]}),dataIndex:"date",width:140,editable:!0,editType:"datePicker",ruleOptions:{isRequired:!0}},{title:"日期类型",dataIndex:"dateType",width:120,editable:!0,editType:"select",editProps:{options:[{label:"年",value:"year"},{label:"月",value:"month"},{label:"天",value:"day"}],allowClear:!0,nevervalidate:!0}},{title:"是否提交",dataIndex:"isSubmit",width:120,editable:!0,editType:"radioGroup",editProps:{options:[{label:"是",value:"1"},{label:"否",value:"0"}],nevervalidate:!0}},{title:(0,i.jsxs)("div",{className:vl,children:[(0,i.jsx)("span",{className:xl,children:"*"}),(0,i.jsx)("span",{children:"交易日"})]}),dataIndex:"field",width:240,editable:!0,component:(0,i.jsx)(cn,{options:[{label:"工作日",value:"workingDay"},{label:"自然日",value:"naturalDay"}],inputNumberProps:{addonAfter:"个"},setInputNumberStatus:e=>!e||!e[0]&&0!==e[0]?"error":"",setSelectStatus:e=>e&&e[1]?"":"error"}),editProps:{validateStatus:""},ruleOptions:{isRequired:!0},rules:yl}];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:bl,children:(0,i.jsx)(F.Ay,{type:"primary",icon:(0,i.jsx)(Pa.A,{}),ghost:!0,onClick:()=>{if(e.length>=5)return void W.Ay.warning("最多可增加5条数据");const t=[...e,{id:`ROW_ID_${ae()}`}];n(t)},children:"新增"})}),(0,i.jsx)(gl,{columns:t,dataSource:e,setDataSource:n})]})},kl=[{fileName:"index.tsx",code:'import React, { useState } from "react";\nimport { Button, message } from "antd";\nimport { PlusOutlined } from "@ant-design/icons";\nimport EditableTable from "@/components/EditableTable";\nimport type { EditableTableColumnProps } from "@/components/EditableTable";\nimport InputNumberAndSelect from "@/components/formItems/InputNumberAndSelect";\nimport type { Value as InputNumberAndSelectValue } from "@/components/formItems/InputNumberAndSelect";\nimport { getRandomId } from "utils/util";\nimport styles from "./index.module.scss";\n\nconst INPUTNUMBER_SELECT_RULES = [\n  {\n    validator: (_: Record<string, any>, value: InputNumberAndSelectValue) => {\n      if (value && value.length > 0) {\n        if (!value[0] && value[0] !== 0 && !value[1]) {\n          return Promise.reject("必填项");\n        } else {\n          if (!value[0] && value[0] !== 0) {\n            return Promise.reject("两个都必填");\n          }\n          if (!value[1]) {\n            return Promise.reject("两个都必填");\n          }\n        }\n      } else {\n        return Promise.reject("必填项");\n      }\n      return Promise.resolve();\n    },\n  },\n];\n\nconst Content = () => {\n  const [tableData, setTableData] = useState<Record<string, any>[]>([]);\n\n  const onAddClick = () => {\n    if (tableData.length >= 5) {\n      message.warning("最多可增加5条数据");\n      return;\n    }\n    const newDataSource = [...tableData, { id: `ROW_ID_${getRandomId()}` }];\n    setTableData(newDataSource);\n  };\n\n  const columns: EditableTableColumnProps[] = [\n    {\n      title: (\n        <div className={styles.columnTitle}>\n          <span className={styles.requiredIcon}>*</span>\n          <span>邮箱</span>\n        </div>\n      ),\n      dataIndex: "email",\n      width: 160,\n      editable: true,\n      ruleOptions: {\n        isRequired: true,\n        isEmail: true,\n      },\n    },\n    {\n      title: (\n        <div className={styles.columnTitle}>\n          <span className={styles.requiredIcon}>*</span>\n          <span>日期</span>\n        </div>\n      ),\n      dataIndex: "date",\n      width: 140,\n      editable: true,\n      editType: "datePicker",\n      ruleOptions: {\n        isRequired: true,\n      },\n    },\n    {\n      title: "日期类型",\n      dataIndex: "dateType",\n      width: 120,\n      editable: true,\n      editType: "select",\n      editProps: {\n        options: [\n          { label: "年", value: "year" },\n          { label: "月", value: "month" },\n          { label: "天", value: "day" },\n        ],\n        allowClear: true,\n        nevervalidate: true,\n      },\n    },\n    {\n      title: "是否提交",\n      dataIndex: "isSubmit",\n      width: 120,\n      editable: true,\n      editType: "radioGroup",\n      editProps: {\n        options: [\n          { label: "是", value: "1" },\n          { label: "否", value: "0" },\n        ],\n        nevervalidate: true,\n      },\n    },\n    {\n      title: (\n        <div className={styles.columnTitle}>\n          <span className={styles.requiredIcon}>*</span>\n          <span>交易日</span>\n        </div>\n      ),\n      dataIndex: "field",\n      width: 240,\n      editable: true,\n      component: (\n        <InputNumberAndSelect\n          options={[\n            { label: "工作日", value: "workingDay" },\n            { label: "自然日", value: "naturalDay" },\n          ]}\n          inputNumberProps={{\n            addonAfter: "个",\n          }}\n          setInputNumberStatus={(\n            value: InputNumberAndSelectValue | undefined\n          ) => {\n            if (!value || (!value[0] && value[0] !== 0)) {\n              return "error";\n            }\n            return "";\n          }}\n          setSelectStatus={(value: InputNumberAndSelectValue | undefined) => {\n            if (!value || !value[1]) {\n              return "error";\n            }\n            return "";\n          }}\n        />\n      ),\n      editProps: {\n        validateStatus: "",\n      },\n      ruleOptions: {\n        isRequired: true,\n      },\n      rules: INPUTNUMBER_SELECT_RULES,\n    },\n  ];\n\n  return (\n    <>\n      <div className={styles.itemTitleRow}>\n        <Button\n          type=\'primary\'\n          icon={<PlusOutlined />}\n          ghost\n          onClick={onAddClick}\n        >\n          新增\n        </Button>\n      </div>\n      <EditableTable\n        columns={columns}\n        dataSource={tableData}\n        setDataSource={setTableData}\n      />\n    </>\n  );\n};\n\nexport default Content;\n'}].concat([{fileName:"EditableTable.tsx",code:'/**\n * 可进行编辑的表格组件\n */\nimport React, { ReactNode, useEffect, useContext, useMemo } from "react";\nimport {\n  Form,\n  Table,\n  Input,\n  InputNumber,\n  Select,\n  DatePicker,\n  Radio,\n  Checkbox,\n  Cascader,\n  Button,\n  Popconfirm,\n} from "antd";\nimport type { TableProps, TableColumnProps, GetRef, FormRule } from "antd";\nimport { omit } from "lodash-es";\nimport WithValidateMessage from "@/components/formItems/WithValidateMessage";\nimport styles from "./index.module.scss";\n\nconst { RangePicker } = DatePicker;\nconst EMAIL_PATTERN =\n  /^([w+-.%]+@[w-.]+.[A-Za-z]{2,4})(;[w+-.]+@[w-.]+.[A-Za-z]{2,4})*$/;\n\nexport type EditType =\n  | "input"\n  | "inputNumber"\n  | "select"\n  | "datePicker"\n  | "rangePicker"\n  | "radioGroup"\n  | "checkboxGroup"\n  | "cascader";\n\ntype EditProps =\n  | ({\n      nevervalidate?: boolean;\n      validateStatus?: "warning" | "error" | "";\n    } & Record<string, any>)\n  | ((record: Record<string, any>) => Record<string, any>);\n\ntype FormInstance<T> = GetRef<typeof Form<T>>;\n\ntype EditableTableColumnRuleOptions = {\n  isRequired?: boolean;\n  isEmail?: boolean;\n  isPositiveInt?: boolean;\n};\n\nexport type EditableTableColumnProps = {\n  editable?: boolean;\n  editType?: EditType;\n  editProps?: EditProps;\n  component?: ReactNode | null;\n  ruleOptions?: EditableTableColumnRuleOptions;\n  rules?: FormRule[];\n} & TableColumnProps;\n\ntype RenderItemProps = {\n  editType: EditType;\n  editProps: EditProps;\n  disabled?: boolean;\n  dataIndex: string;\n  component?: ReactNode | null;\n  record?: Record<string, any>;\n  save: (dataIndex: string, cellValue?: any) => void;\n};\n\ntype EditableTableCellProps = {\n  rowKey?: string;\n  disabled?: boolean;\n  dataIndex: string;\n  record: Record<string, any>;\n  editProps?: EditProps;\n  component?: ReactNode | null;\n  handleSave: (event: any) => void;\n} & Omit<EditableTableColumnProps, "dataIndex">;\n\ntype EditableTableProps = {\n  dataSource: Record<string, any>[];\n  columns: EditableTableColumnProps[];\n  setDataSource: (dataSource: Record<string, any>[]) => void;\n  rowKey?: string;\n  disabled?: boolean;\n  onFormValuesChange?: (\n    changedValues: Record<string, any>,\n    form?: FormInstance<any> | null,\n    allValues?: Record<string, any>\n  ) => void;\n  deleteRowCallback?: (record: Record<string, any>) => void; // 删除一行后的回调\n} & TableProps;\n\nconst EditableContext = React.createContext<FormInstance<any> | null>(null);\n\nconst renderItem = ({\n  form,\n  editType,\n  editProps,\n  component,\n  disabled,\n  dataIndex,\n  record,\n  save,\n}: RenderItemProps & { form: FormInstance<any> | null }) => {\n  const restProps: Record<string, any> = {\n    ...editProps,\n    disabled: (editProps as Record<string, any>).disabled || disabled,\n  };\n  delete restProps.validateStatus;\n\n  const onBlur = () => save(dataIndex);\n\n  const onChange = (cellValue?: any, option?: Record<string, any>) => {\n    if (\n      (!editType && !component) ||\n      ["input", "inputNumber"].includes(editType)\n    )\n      return;\n    if (editType === "radioGroup") {\n      save?.(dataIndex, cellValue?.target?.value || undefined);\n      return;\n    }\n    const newValue = cellValue?.target ? "" : cellValue;\n    save?.(dataIndex, newValue);\n    (editProps as Record<string, any>).onChange?.(newValue, option, record);\n  };\n\n  let itemComponent: any = (\n    <Input style={{ width: "100%" }} onBlur={onBlur} {...restProps} />\n  );\n\n  switch (editType) {\n    case "inputNumber":\n      itemComponent = (\n        <InputNumber style={{ width: "100%" }} onBlur={onBlur} {...restProps} />\n      );\n      break;\n    case "select":\n      itemComponent = <Select style={{ width: "100%" }} {...restProps} />;\n      break;\n    case "datePicker":\n      itemComponent = <DatePicker style={{ width: "100%" }} {...restProps} />;\n      break;\n    case "rangePicker":\n      itemComponent = <RangePicker style={{ width: "100%" }} {...restProps} />;\n      break;\n    case "radioGroup":\n      itemComponent = <Radio.Group {...restProps} />;\n      break;\n    case "checkboxGroup":\n      itemComponent = <Checkbox.Group {...restProps} />;\n      break;\n    case "cascader":\n      itemComponent = <Cascader style={{ width: "100%" }} {...restProps} />;\n      break;\n  }\n\n  if (component) {\n    itemComponent = React.cloneElement(component, { record, ...restProps });\n  }\n\n  return (\n    <WithValidateMessage\n      onChange={onChange}\n      form={form}\n      nevervalidate={!!(editProps as Record<string, any>).nevervalidate}\n    >\n      {itemComponent}\n    </WithValidateMessage>\n  );\n};\n\nconst EditableTableCell = React.memo((props: EditableTableCellProps) => {\n  const {\n    rowKey = "id",\n    editable = false,\n    editType = "input",\n    editProps,\n    component,\n    disabled,\n    dataIndex,\n    record,\n    children,\n    ruleOptions,\n    rules,\n    handleSave,\n    ...restProps\n  } = props;\n  const form = useContext(EditableContext);\n\n  let finalComponentProps: Record<string, any> = editProps || {};\n  if (typeof editProps === "function") {\n    finalComponentProps = editProps(record) || {};\n  }\n\n  const finalRules = useMemo(() => {\n    let finalRulesArr: FormRule[] = [];\n    if (rules && rules.length > 0) {\n      finalRulesArr = rules;\n    } else {\n      if (ruleOptions?.isRequired) {\n        finalRulesArr.push({ required: true, message: "必填项" });\n      }\n      if (ruleOptions?.isEmail) {\n        finalRulesArr.push({\n          pattern: EMAIL_PATTERN,\n          message: "请输入正确邮箱格式",\n        });\n      }\n    }\n    return finalRulesArr;\n  }, [ruleOptions, rules]);\n\n  const save = async (currentDataIndex: string, cellValue?: any) => {\n    const value = cellValue || (await form?.getFieldValue(currentDataIndex));\n    const newRecord = { ...record, [currentDataIndex]: value };\n    handleSave?.(newRecord);\n    try {\n      await form?.validateFields([currentDataIndex]);\n    } catch (err) {\n      //   console.log(\'EditableTable保存数据失败\', err);\n    }\n  };\n\n  useEffect(() => {\n    form?.setFieldsValue({\n      [dataIndex]: record?.[dataIndex],\n    });\n  }, []);\n\n  let childNode: ReactNode = children;\n\n  if (editable) {\n    childNode = (\n      <Form.Item\n        style={{ margin: 0 }}\n        name={dataIndex}\n        rules={finalRules}\n        required={!!ruleOptions?.isRequired}\n        validateStatus={finalComponentProps.validateStatus}\n      >\n        {renderItem({\n          editType,\n          editProps: finalComponentProps,\n          component,\n          disabled,\n          dataIndex,\n          record,\n          form,\n          save,\n        })}\n      </Form.Item>\n    );\n  } else if (dataIndex === rowKey) {\n    childNode = (\n      <Form.Item style={{ margin: 0 }} name={dataIndex} hidden></Form.Item>\n    );\n  }\n\n  return (\n    <td title={disabled ? record?.[dataIndex] : ""} {...restProps}>\n      {childNode}\n    </td>\n  );\n});\n\nclass TableCellWrapper extends React.PureComponent {\n  render() {\n    return (\n      <EditableTableCell\n        {...omit(this.props, ["onMouseEnter", "onMouseLeave"])}\n      />\n    );\n  }\n}\n\nconst EditableTableRow = ({\n  rowKey,\n  onFromaValuesChange,\n  ...restProps\n}: any) => {\n  const [form] = Form.useForm();\n\n  const onValuesChange = (\n    changedValues: Record<string, any>,\n    allValues: Record<string, any>\n  ) => {\n    onFromaValuesChange?.(changedValues, form, {\n      ...allValues,\n      [rowKey]: restProps["data-row-key"],\n    });\n  };\n\n  return (\n    <Form form={form} onValuesChange={onValuesChange} component={false}>\n      <EditableContext.Provider value={form}>\n        <tr {...restProps} />\n      </EditableContext.Provider>\n    </Form>\n  );\n};\n\nconst EditableTable = ({\n  rowKey = "id",\n  dataSource,\n  columns,\n  setDataSource,\n  disabled = false,\n  onFormValuesChange,\n  deleteRowCallback,\n  ...restProps\n}: EditableTableProps) => {\n  const components = useMemo(\n    () => ({\n      body: {\n        row: (props: any) => (\n          <EditableTableRow\n            {...props}\n            rowKey={rowKey}\n            onFromaValuesChange={onFormValuesChange}\n          />\n        ),\n        cell: TableCellWrapper,\n      },\n    }),\n    []\n  );\n\n  const handleSave = (row: Record<string, any>) => {\n    const newDataSource = dataSource.map((item) => {\n      if (item[rowKey] === row[rowKey]) {\n        return {\n          ...item,\n          ...row,\n        };\n      }\n      return item;\n    });\n\n    setTimeout(() => {\n      setDataSource(newDataSource);\n    });\n  };\n\n  const handleDeleteRow = (record: Record<string, any>) => {\n    const newDataSource = dataSource.filter(\n      (item) => item[rowKey] !== record[rowKey]\n    );\n    setDataSource(newDataSource);\n    deleteRowCallback?.(record);\n  };\n\n  const newColumns = useMemo(() => {\n    return columns.map((col) => ({\n      ...col,\n      onCell: (record: Record<string, any>) => ({\n        editable: col.editable,\n        editType: col.editType,\n        editProps: col.editProps,\n        component: col.component,\n        disabled,\n        dataIndex: col.dataIndex,\n        record,\n        ruleOptions: col.ruleOptions,\n        rules: col.rules,\n        handleSave,\n      }),\n    }));\n  }, [columns, disabled, handleSave]);\n\n  const finalColumns = [\n    ...newColumns,\n    {\n      title: "操作",\n      key: "action",\n      dataIndex: "action",\n      align: "center",\n      width: 80,\n      fixed: "right",\n      render: (_: any, record: Record<string, any>) => {\n        return (\n          <div style={{ padding: 0 }}>\n            {disabled ? (\n              <Button type=\'link\' danger disabled>\n                删除\n              </Button>\n            ) : (\n              <Popconfirm\n                title=\'是否确定删除此行？\'\n                onConfirm={() => {\n                  handleDeleteRow(record);\n                }}\n              >\n                <Button style={{ padding: 0 }} type=\'link\' danger>\n                  删除\n                </Button>{" "}\n              </Popconfirm>\n            )}\n          </div>\n        );\n      },\n    },\n  ];\n\n  return (\n    <div className={styles.editableTable}>\n      <Table\n        rowKey={rowKey}\n        columns={finalColumns as any}\n        components={components}\n        dataSource={dataSource}\n        pagination={false}\n        tableLayout=\'fixed\'\n        bordered\n        {...restProps}\n      />\n    </div>\n  );\n};\n\nexport default EditableTable;\n'},{fileName:"EditableTable.module.scss",code:".editableTable {\n  :global {\n    .ant-form-item {\n      .ant-form-item-control {\n        .ant-form-item-explain {\n          display: none !important;\n        }\n      }\n    }\n  }\n}"}]),wl=()=>(0,i.jsx)(pe,{className:fl,title:"可进行编辑的表格组件",codeParams:kl,children:(0,i.jsx)(Sl,{})}),Cl="AntdTableSection_container__6ZQmu",Rl="AntdTableSection_sample__TBaGM",Al=[(0,i.jsx)(wl,{})],_l=()=>(0,i.jsx)("div",{className:Cl,children:Al.map(((e,n)=>(0,i.jsx)("div",{className:Rl,children:e},n)))}),Pl=e=>{const{rowKey:n="randomId",columns:t,dataSource:l,getDataSource:o,isLoading:s,selectedRows:r,setSelectedRows:d,pagination:c,setPagination:u,multiSelect:m,multiSelectOptions:p,singleSelect:h,singleSelectOptions:g,...f}=e,b=(0,a.useRef)(null),v=(0,a.useRef)(null),x=(0,a.useMemo)((()=>{if(c&&u)return((e,n)=>{const{pageNum:t,pageSize:a,total:l,pageSizeOptions:o=["10","20","50","100"]}=e;return{current:Number(t),hideOnSinglePage:!1,pageSize:Number(a),showQuickJumper:!0,total:Number(l),size:"small",pageSizeOptions:o,showTotal:e=>`共${e}条数据`,onChange:async(e,t)=>{n?.({pageNum:e,pageSize:t})}}})(c,(async e=>{let{pageNum:n,pageSize:t}=e;await(u?.({pageNum:n,pageSize:t})),o({pageNum:n,pageSize:t})}))}),[c,u]),y=(0,a.useMemo)((()=>m?{value:r?.map((e=>e[n])),onChange:e=>{const t=l.filter((t=>e.includes(t[n])));d(t)},sotpClickEventPropagation:!0,ref:b,...p||{}}:{}),[m,r,p,l]),S=(0,a.useMemo)((()=>h?{value:r?.[0]?.[n]||"",onChange:e=>{const t=l.filter((t=>t[n]===e));d(t)},ref:v,...g||{}}:{}),[h,r,g,l]);(0,a.useEffect)((()=>{s&&(b?.current?.clear(),v?.current?.clear())}),[s]);const k=(0,a.useMemo)((()=>r?.map((e=>e[n]))||[]),[r]),w=(0,a.useMemo)((()=>"randomId"===n&&l?.length>0?l.map((e=>({...e,randomId:ae(12)}))):l),[l]);return(0,i.jsx)(Rt,{rowKey:n,resize:!0,autoHeight:!0,recalculateHeight:!0,isLoading:s,columns:t,dataSource:w,pagination:x,selectedRowKeys:k,onRowClick:e=>{const t=e[n],a=r?.find((e=>e[n]===t));if(h){if(r&&r[0]?.[n]===t)return;v.current?.setSelectedRow(e)}else{if(a&&1===r?.length)return d?.([]),void b?.current?.clear();b?.current?.setSelectedRows([e])}d?.([e])},multiSelect:m,multiSelectOptions:y,singleSelect:h,singleSelectOptions:S,...f})},jl=[{fileName:"AliMainTable.tsx",code:Ct}].concat(At),Nl="AliMainTableSample_container__4p9q8",Dl="AliMainTableSample_itemTitleRow__TPFna",Tl="AliMainTableSample_content__pN7r-",Il={pageNum:1,pageSize:10,total:0},Ml=()=>{const[e,n]=(0,a.useState)(!1),[t,l]=(0,a.useState)([]),[o,s]=(0,a.useState)([]),[r,d]=(0,a.useState)(Il),c=e=>{d({...r,...e})},u=async e=>{n(!0),e=e||r;const t=await le({pageNum:e.pageNum,pageSize:e.pageSize});n(!1),s([]),t?(c({...e,total:t.total}),l(t.data)):(c({...e,total:0}),l([]))};return(0,a.useEffect)((()=>{u()}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:Dl,children:(0,i.jsx)(F.Ay,{type:"primary",ghost:!0,onClick:()=>{o&&0!==o.length?W.Ay.success(`当前选择的数据序号为: ${o[0].id}`):W.Ay.warning("请先选择一条数据")},children:"编辑"})}),(0,i.jsx)("div",{className:Tl,children:(0,i.jsx)(Pl,{isLoading:e,columns:[{name:"序号",code:"id",width:80,lock:"left"},{name:"邮箱",code:"email",width:180},{name:"日期",code:"date",width:180},{name:"日期类型",code:"dateType",width:150,render:e=>"workingDay"===e?"工作日":"naturalDay"===e?"自然日":""},{name:"备注",code:"remark",width:300,ellipsis:!0},{name:"字段1",code:"email",width:150},{name:"字段2",code:"email",width:150},{name:"字段3",code:"email",width:150},{name:"字段4",code:"email",width:150},{name:"字段5",code:"email",width:150},{name:"字段6",code:"email",width:150}],dataSource:t,getDataSource:u,selectedRows:o,setSelectedRows:s,pagination:r,setPagination:c})})]})},Fl=[{fileName:"index.tsx",code:'import React, { useEffect, useState } from "react";\nimport { Button, message } from "antd";\nimport AliMainTable from "@/components/AliTable/AliMainTable";\nimport type { ArtColumn2 } from "@/components/AliTable";\nimport { requestMockData } from "utils/util";\nimport styles from "./index.module.scss";\n\nconst INIT_PAGINATION = {\n  pageNum: 1,\n  pageSize: 10,\n  total: 0,\n};\n\nconst Content = () => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [tableData, setTableData] = useState<Record<string, any>[]>([]);\n  const [selectedRows, setSelectedRows] = useState<Record<string, any>[]>([]);\n  const [pagination, setPagin] = useState<Record<string, any>>(INIT_PAGINATION);\n\n  const setPagination = (pagin: Record<string, any>) => {\n    setPagin({ ...pagination, ...pagin });\n  };\n\n  const getTableData = async (pain?: Record<string, any>) => {\n    setLoading(true);\n    pain = pain || pagination;\n    const res = await requestMockData({\n      pageNum: pain.pageNum,\n      pageSize: pain.pageSize,\n    });\n    setLoading(false);\n    setSelectedRows([]);\n    if (res) {\n      setPagination({\n        ...pain,\n        total: res.total,\n      });\n      setTableData(res.data);\n    } else {\n      setPagination({ ...pain, total: 0 });\n      setTableData([]);\n    }\n  };\n\n  const onEditClick = () => {\n    if (!selectedRows || selectedRows.length === 0) {\n      message.warning("请先选择一条数据");\n      return;\n    }\n    message.success(`当前选择的数据序号为: ${selectedRows[0].id}`);\n  };\n\n  const columns: ArtColumn2[] = [\n    {\n      name: "序号",\n      code: "id",\n      width: 80,\n      lock: "left",\n    },\n    {\n      name: "邮箱",\n      code: "email",\n      width: 180,\n    },\n    {\n      name: "日期",\n      code: "date",\n      width: 180,\n    },\n    {\n      name: "日期类型",\n      code: "dateType",\n      width: 150,\n      render: (value: string) => {\n        if (value === "workingDay") {\n          return "工作日";\n        } else if (value === "naturalDay") {\n          return "自然日";\n        }\n        return "";\n      },\n    },\n    {\n      name: "备注",\n      code: "remark",\n      width: 300,\n      ellipsis: true,\n    },\n    {\n      name: "字段1",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段2",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段3",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段4",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段5",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段6",\n      code: "email",\n      width: 150,\n    },\n  ];\n\n  useEffect(() => {\n    getTableData();\n  }, []);\n\n  return (\n    <>\n      <div className={styles.itemTitleRow}>\n        <Button type=\'primary\' ghost onClick={onEditClick}>\n          编辑\n        </Button>\n      </div>\n      <div className={styles.content}>\n        <AliMainTable\n          isLoading={loading}\n          columns={columns}\n          dataSource={tableData}\n          getDataSource={getTableData}\n          selectedRows={selectedRows}\n          setSelectedRows={setSelectedRows}\n          pagination={pagination}\n          setPagination={setPagination}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Content;'}].concat(jl),Ol=()=>(0,i.jsx)(pe,{className:Nl,title:"基于ali-react-table封装的表格组件",codeParams:Fl,children:(0,i.jsx)(Ml,{})}),Vl="SingleSelectTableSample_container__HsUoc",El="SingleSelectTableSample_itemTitleRow__M50Z3",Ll="SingleSelectTableSample_content__76hZG",Kl={pageNum:1,pageSize:10,total:0},$l=()=>{const[e,n]=(0,a.useState)(!1),[t,l]=(0,a.useState)([]),[o,s]=(0,a.useState)([]),[r,d]=(0,a.useState)(Kl),c=e=>{d({...r,...e})},u=async e=>{n(!0),e=e||r;const t=await le({pageNum:e.pageNum,pageSize:e.pageSize});n(!1),s([]),t?(c({...e,total:t.total}),l(t.data)):(c({...e,total:0}),l([]))};return(0,a.useEffect)((()=>{u()}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:El,children:(0,i.jsx)(F.Ay,{type:"primary",ghost:!0,onClick:()=>{o&&0!==o.length?W.Ay.success(`当前选择的数据序号为: ${o[0].id}`):W.Ay.warning("请先选择一条数据")},children:"编辑"})}),(0,i.jsx)("div",{className:Ll,children:(0,i.jsx)(Pl,{rowKey:"id",autoHeight:!0,isLoading:e,columns:[{name:"序号",code:"id",width:80,lock:"left"},{name:"邮箱",code:"email",width:180},{name:"日期",code:"date",width:180},{name:"日期类型",code:"dateType",width:150,render:e=>"workingDay"===e?"工作日":"naturalDay"===e?"自然日":""},{name:"备注",code:"remark",width:300,ellipsis:!0},{name:"字段1",code:"email",width:150},{name:"字段2",code:"email",width:150},{name:"字段3",code:"email",width:150},{name:"字段4",code:"email",width:150},{name:"字段5",code:"email",width:150},{name:"字段6",code:"email",width:150}],dataSource:t,getDataSource:u,selectedRows:o,setSelectedRows:s,pagination:r,setPagination:c,singleSelect:!0})})]})},Bl=[{fileName:"index.tsx",code:'import React, { useEffect, useState, useMemo } from "react";\nimport { Button, message } from "antd";\nimport AliMainTable from "@/components/AliTable/AliMainTable";\nimport { ArtColumn2 } from "@/components/AliTable";\nimport { requestMockData } from "utils/util";\nimport styles from "./index.module.scss";\n\nconst INIT_PAGINATION = {\n  pageNum: 1,\n  pageSize: 10,\n  total: 0,\n};\n\nconst Content = () => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [tableData, setTableData] = useState<Record<string, any>[]>([]);\n  const [selectedRows, setSelectedRows] = useState<Record<string, any>[]>([]);\n  const [pagination, setPagin] = useState<Record<string, any>>(INIT_PAGINATION);\n\n  const setPagination = (pagin: Record<string, any>) => {\n    setPagin({ ...pagination, ...pagin });\n  };\n\n  const getTableData = async (pain?: Record<string, any>) => {\n    setLoading(true);\n    pain = pain || pagination;\n    const res = await requestMockData({\n      pageNum: pain.pageNum,\n      pageSize: pain.pageSize,\n    });\n    setLoading(false);\n    setSelectedRows([]);\n    if (res) {\n      setPagination({\n        ...pain,\n        total: res.total,\n      });\n      setTableData(res.data);\n    } else {\n      setPagination({ ...pain, total: 0 });\n      setTableData([]);\n    }\n  };\n\n  const onEditClick = () => {\n    if (!selectedRows || selectedRows.length === 0) {\n      message.warning("请先选择一条数据");\n      return;\n    }\n    message.success(`当前选择的数据序号为: ${selectedRows[0].id}`);\n  };\n\n  const columns: ArtColumn2[] = [\n    {\n      name: "序号",\n      code: "id",\n      width: 80,\n      lock: "left",\n    },\n    {\n      name: "邮箱",\n      code: "email",\n      width: 180,\n    },\n    {\n      name: "日期",\n      code: "date",\n      width: 180,\n    },\n    {\n      name: "日期类型",\n      code: "dateType",\n      width: 150,\n      render: (value: string) => {\n        if (value === "workingDay") {\n          return "工作日";\n        } else if (value === "naturalDay") {\n          return "自然日";\n        }\n        return "";\n      },\n    },\n    {\n      name: "备注",\n      code: "remark",\n      width: 300,\n      ellipsis: true,\n    },\n    {\n      name: "字段1",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段2",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段3",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段4",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段5",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段6",\n      code: "email",\n      width: 150,\n    },\n  ];\n\n  useEffect(() => {\n    getTableData();\n  }, []);\n\n  return (\n    <>\n      <div className={styles.itemTitleRow}>\n        <Button type=\'primary\' ghost onClick={onEditClick}>\n          编辑\n        </Button>\n      </div>\n      <div className={styles.content}>\n        <AliMainTable\n          rowKey=\'id\'\n          autoHeight\n          isLoading={loading}\n          columns={columns}\n          dataSource={tableData}\n          getDataSource={getTableData}\n          selectedRows={selectedRows}\n          setSelectedRows={setSelectedRows}\n          pagination={pagination}\n          setPagination={setPagination}\n          singleSelect\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Content;'}],Hl=()=>(0,i.jsx)(pe,{className:Vl,title:"单选表格",codeParams:Bl,children:(0,i.jsx)($l,{})}),zl="MultiSelectTableSample_container__ddVFn",Yl="MultiSelectTableSample_itemTitleRow__Qy+Bu",ql="MultiSelectTableSample_content__ro4IV",Gl={pageNum:1,pageSize:10,total:0},Wl=()=>{const[e,n]=(0,a.useState)(!1),[t,l]=(0,a.useState)([]),[o,s]=(0,a.useState)([]),[r,d]=(0,a.useState)(Gl),c=e=>{d({...r,...e})},u=async e=>{n(!0),e=e||r;const t=await le({pageNum:e.pageNum,pageSize:e.pageSize});n(!1),s([]),t?(c({...e,total:t.total}),l(t.data)):(c({...e,total:0}),l([]))};return(0,a.useEffect)((()=>{u()}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:Yl,children:(0,i.jsx)(F.Ay,{type:"primary",ghost:!0,onClick:()=>{o&&0!==o.length?W.Ay.success(`当前选择的数据序号为: ${o.map((e=>e.id)).join(",")}`):W.Ay.warning("请先选择一条数据")},children:"编辑"})}),(0,i.jsx)("div",{className:ql,children:(0,i.jsx)(Pl,{rowKey:"id",isLoading:e,columns:[{name:"序号",code:"id",width:80,lock:"left"},{name:"邮箱",code:"email",width:180},{name:"日期",code:"date",width:180},{name:"日期类型",code:"dateType",width:150,render:e=>"workingDay"===e?"工作日":"naturalDay"===e?"自然日":""},{name:"备注",code:"remark",width:300,ellipsis:!0},{name:"字段1",code:"email",width:150},{name:"字段2",code:"email",width:150},{name:"字段3",code:"email",width:150},{name:"字段4",code:"email",width:150},{name:"字段5",code:"email",width:150},{name:"字段6",code:"email",width:150}],dataSource:t,getDataSource:u,selectedRows:o,setSelectedRows:s,pagination:r,setPagination:c,multiSelect:!0})})]})},Ul=[{fileName:"index.tsx",code:'import React, { useEffect, useState } from "react";\nimport { Button, message } from "antd";\nimport AliMainTable from "@/components/AliTable/AliMainTable";\nimport type { ArtColumn2 } from "@/components/AliTable";\nimport { requestMockData } from "utils/util";\nimport styles from "./index.module.scss";\n\nconst INIT_PAGINATION = {\n  pageNum: 1,\n  pageSize: 10,\n  total: 0,\n};\n\nconst Content = () => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [tableData, setTableData] = useState<Record<string, any>[]>([]);\n  const [selectedRows, setSelectedRows] = useState<Record<string, any>[]>([]);\n  const [pagination, setPagin] = useState<Record<string, any>>(INIT_PAGINATION);\n\n  const setPagination = (pagin: Record<string, any>) => {\n    setPagin({ ...pagination, ...pagin });\n  };\n\n  const getTableData = async (pain?: Record<string, any>) => {\n    setLoading(true);\n    pain = pain || pagination;\n    const res = await requestMockData({\n      pageNum: pain.pageNum,\n      pageSize: pain.pageSize,\n    });\n    setLoading(false);\n    setSelectedRows([]);\n    if (res) {\n      setPagination({\n        ...pain,\n        total: res.total,\n      });\n      setTableData(res.data);\n    } else {\n      setPagination({ ...pain, total: 0 });\n      setTableData([]);\n    }\n  };\n\n  const onEditClick = () => {\n    if (!selectedRows || selectedRows.length === 0) {\n      message.warning("请先选择一条数据");\n      return;\n    }\n    message.success(\n      `当前选择的数据序号为: ${selectedRows.map((item) => item.id).join(",")}`\n    );\n  };\n\n  const columns: ArtColumn2[] = [\n    {\n      name: "序号",\n      code: "id",\n      width: 80,\n      lock: "left",\n    },\n    {\n      name: "邮箱",\n      code: "email",\n      width: 180,\n    },\n    {\n      name: "日期",\n      code: "date",\n      width: 180,\n    },\n    {\n      name: "日期类型",\n      code: "dateType",\n      width: 150,\n      render: (value: string) => {\n        if (value === "workingDay") {\n          return "工作日";\n        } else if (value === "naturalDay") {\n          return "自然日";\n        }\n        return "";\n      },\n    },\n    {\n      name: "备注",\n      code: "remark",\n      width: 300,\n      ellipsis: true,\n    },\n    {\n      name: "字段1",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段2",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段3",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段4",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段5",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段6",\n      code: "email",\n      width: 150,\n    },\n  ];\n\n  useEffect(() => {\n    getTableData();\n  }, []);\n\n  return (\n    <>\n      <div className={styles.itemTitleRow}>\n        <Button type=\'primary\' ghost onClick={onEditClick}>\n          编辑\n        </Button>\n      </div>\n      <div className={styles.content}>\n        <AliMainTable\n          rowKey=\'id\'\n          isLoading={loading}\n          columns={columns}\n          dataSource={tableData}\n          getDataSource={getTableData}\n          selectedRows={selectedRows}\n          setSelectedRows={setSelectedRows}\n          pagination={pagination}\n          setPagination={setPagination}\n          multiSelect\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Content;'}],Zl=()=>(0,i.jsx)(pe,{className:zl,title:"多选表格",codeParams:Ul,children:(0,i.jsx)(Wl,{})}),Ql="AliTableSection_container__4Pe0F",Jl="AliTableSection_sample__7IwRx",Xl=[(0,i.jsx)(Ol,{}),(0,i.jsx)(Hl,{}),(0,i.jsx)(Zl,{})],eo=()=>(0,i.jsx)("div",{className:Ql,children:Xl.map(((e,n)=>(0,i.jsx)("div",{className:Jl,children:e},n)))}),no=[{path:"/form",children:[{path:"/form/formItemSection",element:(0,i.jsx)(_a,{})},{path:"/form/formListSection",element:(0,i.jsx)(tl,{})}]},{path:"/table",children:[{path:"/table/antdTableSection",element:(0,i.jsx)(_l,{})},{path:"/table/aliTableSection",element:(0,i.jsx)(eo,{})}]}],to=[{path:"/*",element:(0,i.jsx)(G,{})}];g().locale("zh-cn");const ao=()=>{const e=(0,u.Ye)(to);return(0,i.jsx)("div",{className:"app_container",translate:"no",children:(0,i.jsx)(m.Ay,{locale:p.A,children:e})})},lo=document.getElementById("root");lo&&(0,l.H)(lo).render((0,i.jsx)(d,{children:(0,i.jsx)(o.I9,{children:(0,i.jsx)(ao,{})})}))}},l={};function o(e){var n=l[e];if(void 0!==n)return n.exports;var t=l[e]={id:e,loaded:!1,exports:{}};return a[e].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}o.m=a,e=[],o.O=(n,t,a,l)=>{if(!t){var i=1/0;for(c=0;c<e.length;c++){t=e[c][0],a=e[c][1],l=e[c][2];for(var s=!0,r=0;r<t.length;r++)(!1&l||i>=l)&&Object.keys(o.O).every((e=>o.O[e](t[r])))?t.splice(r--,1):(s=!1,l<i&&(i=l));if(s){e.splice(c--,1);var d=a();void 0!==d&&(n=d)}}return n}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[t,a,l]},o.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return o.d(n,{a:n}),n},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var l=Object.create(null);o.r(l);var i={};n=n||[null,t({}),t([]),t(t)];for(var s=2&a&&e;"object"==typeof s&&!~n.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((n=>i[n]=()=>e[n]));return i.default=()=>e,o.d(l,i),l},o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var n=o.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");if(t.length)for(var a=t.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=t[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={792:0};o.O.j=n=>0===e[n];var n=(n,t)=>{var a,l,i=t[0],s=t[1],r=t[2],d=0;if(i.some((n=>0!==e[n]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(r)var c=r(o)}for(n&&n(t);d<i.length;d++)l=i[d],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},t=self.webpackChunkcomposite_component_library=self.webpackChunkcomposite_component_library||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),o.nc=void 0;var i=o.O(void 0,[874,320],(()=>o(4788)));i=o.O(i)})();