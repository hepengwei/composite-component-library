(()=>{"use strict";var e,n,t,l={7208:(e,n,t)=>{var l=t(6540),a=t(5338),s=t(4976),i=t(4848);const r=l.createContext({headHeight:0,setHeadHeight:()=>{},menuWidth:0,setMenuWidth:()=>{},scrollTop:0,setScrollTop:()=>{},scrollContentRef:l.createRef(),setScrollContentRef:()=>{}});let o=l.createRef();const d=e=>{const[n,t]=(0,l.useState)(0),[a,s]=(0,l.useState)(0),[d,c]=(0,l.useState)(0),u=(0,l.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;c(e),o.current&&o.current.scrollTop!==e&&(o.current.scrollTop=e)}),[]);return(0,i.jsx)(r.Provider,{value:{headHeight:n,menuWidth:a,scrollTop:d,setHeadHeight:t,setMenuWidth:s,setScrollTop:u,scrollContentRef:o,setScrollContentRef:e=>{e&&(o=e)}},children:e.children})},c=()=>(0,l.useContext)(r);var u=t(7767),m=t(1587),h=t(4568),p=t(4353),x=t.n(p),b=t(7197),f=t(1878),v=t(145),g=t(227),y=t(9552);const k=t.p+"images/235f02ed.jpeg",j="Header_container__lcnp0",_="Header_title__XumRj",A="Header_right__Tm89M",C="Header_btn__n+9vE",S="Header_rewardModal__JCltU",P="Header_closeBtn__Le6iI",N=()=>{const{setHeadHeight:e}=c(),n=(0,l.useRef)(null),[t,a]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{if(n.current){const{height:t}=n.current.getBoundingClientRect();e(t)}}),[]),(0,i.jsxs)("div",{className:j,ref:n,children:[(0,i.jsx)("div",{className:_,children:"复合组件示例库"}),(0,i.jsx)(b.A,{message:"本示例库并非组件库，封装的组件并没有考虑在所有场景下的适配",type:"warning",showIcon:!0,closable:!0}),(0,i.jsx)("div",{className:A,children:(0,i.jsx)(f.A,{placement:"bottomRight",title:"打赏",children:(0,i.jsx)("div",{className:C,onClick:()=>{a(!0)},children:(0,i.jsx)(g.A,{})})})}),(0,i.jsxs)(v.A,{wrapClassName:S,title:"打赏",open:t,footer:null,maskClosable:!1,width:320,children:[(0,i.jsx)("div",{className:P,onClick:()=>{a(!1)},children:(0,i.jsx)(y.A,{})}),(0,i.jsx)("img",{src:k,alt:""}),(0,i.jsx)("p",{children:"如果觉得网站不错，内容对你有所帮助，再打赏也不迟"})]})]})};var I=t(961),w=t(9277),R=t(3341),F=t(6157),M=t(1201),V=t(8467),D=t(5202),L=t(5226);const E="Menus_container__TGD0s",T="Menus_topBox__M+bkd",O="Menus_top__evyIx",$="Menus_menuLabel__VW605",B="Menus_bottom__9th6m";function W(e,n,t,l,a){return{key:n,icon:t,children:l,label:(0,i.jsx)("p",{className:$,children:e}),type:a}}const K=()=>{const e=(0,u.Zp)(),n=(0,u.zy)(),[t,a]=(0,l.useState)(!1),{setMenuWidth:s}=c(),r=(0,l.useRef)(null),o=[W("表单","form",(0,i.jsx)(w.A,{}),[W("FormItem 部分","formItemSection"),W("FormList 部分","formListSection")]),W("表格","table",(0,i.jsx)(R.A,{}))],d=(0,l.useCallback)((0,V.A)((()=>{const e=I.findDOMNode(r.current);e&&s(e.clientWidth)}),{wait:360}).run,[]),m=(0,l.useMemo)((()=>{const{pathname:e}=n,t=[];if(e){const n=e.split("/"),l=n[n.length-1];l&&t.push(l)}return t}),[n]),h=(0,l.useMemo)((()=>{const{pathname:e}=n;if(e){const n=e.split("/");if(n.length>=2&&n[1])return[n[1]]}return["form"]}),[n]);return(0,l.useEffect)((()=>{d()}),[t]),(0,l.useEffect)((()=>(window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)})),[]),(0,i.jsxs)("div",{className:E,ref:r,children:[(0,i.jsxs)("div",{className:T,children:[(0,i.jsx)("div",{className:O,children:(0,i.jsx)(D.Ay,{type:"primary",onClick:()=>{a(!t)},style:{marginBottom:16},children:t?(0,i.jsx)(F.A,{}):(0,i.jsx)(M.A,{})})}),(0,i.jsx)(L.A,{defaultOpenKeys:h,selectedKeys:m,mode:"inline",inlineCollapsed:t,items:o,onClick:n=>{const{keyPath:t}=n,l=t.reduce(((e,n)=>e=`/${n}${e}`),"");e(l)}})]}),(0,i.jsx)("div",{className:B,children:!t&&(0,i.jsx)("span",{children:"持续更新, 敬请期待"})})]})},H="Home_container__BIX4n",q="Home_container_body__xDwsE",z="Home_container_content__kzcpF",U=()=>{const{setScrollTop:e,setScrollContentRef:n}=c(),t=(0,u.Ye)(sl),a=(0,u.zy)(),s=(0,u.Zp)(),r=(0,l.useRef)(null);return(0,l.useEffect)((()=>{const{pathname:e}=a;e&&"/"!==e||s("/form/formItemSection")}),[a]),(0,l.useEffect)((()=>{n(r)}),[]),(0,i.jsxs)("div",{className:H,children:[(0,i.jsx)(N,{}),(0,i.jsxs)("div",{className:q,children:[(0,i.jsx)(K,{}),(0,i.jsx)("div",{className:z,onScroll:()=>{e(r.current?.scrollTop)},ref:r,children:t})]})]})};var Y=t(1935),Z=t(2395),Q=t(7046),X=t(6008),G=t(3853),J=t(7450);const ee="CodeBlock_codeBlock__bzneC",ne="CodeBlock_line__pJCvl",te=e=>{const{code:n,language:t="tsx",theme:l=J.Zj.oneLight}=e;return(0,i.jsx)(J.f4,{theme:l,code:n,language:t,children:e=>{let{style:n,tokens:t,getLineProps:l,getTokenProps:a}=e;return(0,i.jsx)("pre",{className:ee,style:n,children:t.map(((e,n)=>(0,i.jsx)("div",{...l({line:e}),className:ne,children:e.map(((e,n)=>(0,i.jsx)("span",{...a({token:e})},n)))},n)))})}})},le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return`${Math.random()}`.slice(2,e+2)},ae="SampleBox_container__oAXz4",se="SampleBox_title__en5k9",ie="SampleBox_content__r3wUD",re="SampleBox_actions__H751f",oe="SampleBox_codeBlockBox__b1OZI",de="SampleBox_codeBlockContent__ZJS8D",ce="SampleBox_copyBtn__8qcBp",ue="SampleBox_footer__Tpigq",me=e=>{const{title:n,children:t,className:a,codeParams:s}=e,[r,o]=(0,l.useState)(!1),d=(0,l.useMemo)((()=>Array.isArray(s)?s.map(((e,n)=>({key:n.toString(),label:e.fileName,children:(0,i.jsxs)("div",{className:de,children:[(0,i.jsx)(te,{code:e.code}),(0,i.jsx)("div",{className:ce,onClick:()=>{(e=>{if(e)if(navigator.clipboard)navigator.clipboard.writeText(e);else{const n=document.createElement("input");n.setAttribute("value",e),document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}})(e.code),Y.Ay.success("复制成功")},children:(0,i.jsx)(f.A,{title:"复制",children:(0,i.jsx)(Q.A,{})})})]})}))):[]),[s]);return(0,i.jsxs)("div",{className:`${ae}${a?` ${a}`:""}`,children:[n&&(0,i.jsx)("div",{className:se,children:n}),(0,i.jsx)("div",{className:ie,children:t}),s&&(0,i.jsx)("div",{className:re,children:(0,i.jsx)(f.A,{title:r?"收起代码":"显示代码",children:(0,i.jsx)(X.A,{onClick:()=>o(!r)})})}),r&&(0,i.jsxs)("div",{className:oe,children:[Array.isArray(s)?(0,i.jsx)(Z.A,{centered:!0,items:d}):(0,i.jsx)(te,{code:s.code}),(0,i.jsxs)("div",{className:ue,onClick:()=>o(!1),children:[(0,i.jsx)(G.A,{}),"收起"]})]})]})};var he=t(3888),pe=t(1196),xe=t(8119);const be=e=>{const n=(0,l.useContext)(xe.A);return(0,l.useMemo)((()=>!!e||!!n),[e,n])},fe="DatePickerAndCheckbox_container__KwiIN",ve="DatePickerAndCheckbox_checkbox__NinO0",ge="DatePickerAndCheckbox_noLabel__UkWsT",ye=e=>{const{value:n,checkboxLabel:t=null,disabled:a,datePickerProps:s={},checkboxProps:r={},onChange:o,"aria-invalid":d,setDatePickerStatus:c,style:u={}}=e,m=be(a),h=(0,l.useMemo)((()=>{if(c&&"true"===d)return c(n)}),[d,n]);return(0,i.jsxs)("div",{className:fe,style:u,children:[(0,i.jsx)(he.A,{value:n&&n.length>=1?n[0]:void 0,disabled:m,status:h,...s,onChange:e=>{const t=n&&n.length>=2?[e||void 0,n[1]]:[e||void 0,void 0];o?.(t)}}),(0,i.jsx)(pe.A,{className:`${ve}${t?"":` ${ge}`}`,checked:n&&n.length>=2?n[1]:void 0,disabled:m,...r,onChange:e=>{const t=e?.target?.checked||!1,l=n&&n.length>=1?[n[0],t]:[void 0,t];o?.(l)},children:t})]})},ke=[{fileName:"DatePickerAndCheckbox.tsx",code:'/**\n * 左边日期选择框右边复选框的复合组件\n */\nimport React, { useMemo } from "react";\nimport { DatePicker, Checkbox } from "antd";\nimport { CheckboxChangeEvent } from "antd/es/checkbox";\nimport { Dayjs } from "dayjs";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\ntype Value = [Dayjs | null | undefined, boolean | undefined];\ntype Status = "warning" | "error" | "" | undefined;\n\ntype DatePickerAndCheckboxProps = {\n  value?: Value;\n  checkboxLabel?: string;\n  disabled?: boolean;\n  datePickerProps?: Record<string, any>; // 传递给日期选择框的属性值\n  checkboxProps?: Record<string, any>; // 传递给复选框的属性值\n  onChange?: (value: Value) => void;\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  setDatePickerStatus?: (value: Value | undefined) => Status; // 当form校验时，设置日期选择框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  style?: Record<string, any>;\n};\n\nconst DatePickerAndCheckbox = (props: DatePickerAndCheckboxProps) => {\n  const {\n    value,\n    checkboxLabel = null,\n    disabled: selfDisabled,\n    datePickerProps = {},\n    checkboxProps = {},\n    onChange,\n    ["aria-invalid"]: invalid,\n    setDatePickerStatus,\n    style = {},\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onDatePickerChange = (date: Dayjs | null) => {\n    const newValue: Value =\n      value && value.length >= 2\n        ? [date || undefined, value[1]]\n        : [date || undefined, undefined];\n    onChange?.(newValue);\n  };\n\n  const onCheckboxChange = (e: CheckboxChangeEvent) => {\n    const checked = e?.target?.checked || false;\n    const newValue: Value =\n      value && value.length >= 1 ? [value[0], checked] : [undefined, checked];\n    onChange?.(newValue);\n  };\n\n  const datePickerStatus = useMemo(() => {\n    if (setDatePickerStatus && invalid === "true") {\n      return setDatePickerStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  return (\n    <div className={styles.container} style={style}>\n      <DatePicker\n        value={value && value.length >= 1 ? value[0] : undefined}\n        disabled={disabled}\n        status={datePickerStatus}\n        {...datePickerProps}\n        onChange={onDatePickerChange}\n      />\n      <Checkbox\n        className={`${styles.checkbox}${\n          !checkboxLabel ? ` ${styles.noLabel}` : ""\n        }`}\n        checked={value && value.length >= 2 ? value[1] : undefined}\n        disabled={disabled}\n        {...checkboxProps}\n        onChange={onCheckboxChange}\n      >\n        {checkboxLabel}\n      </Checkbox>\n    </div>\n  );\n};\n\nexport default DatePickerAndCheckbox;'},{fileName:"DatePickerAndCheckbox.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  .checkbox {\n    display: flex;\n    align-items: center;\n    margin-left: 8px;\n    span {\n      word-break: keep-all;\n    }\n  }\n  .noLabel {\n    span:not(.ant-checkbox) {\n      padding-inline-start: 0 !important;\n      padding-inline-end: 0 !important;\n    }\n  }\n}"}];var je=t(9467),_e=t(7152),Ae=t(6370);const Ce="DatePickerAndCheckboxSample_container__M7yhS",Se=()=>{const[e]=je.A.useForm();return(0,i.jsx)(je.A,{form:e,labelAlign:"right",className:Ce,children:(0,i.jsxs)(_e.A,{gutter:16,children:[(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(ye,{checkboxLabel:"复选框标题"})})}),(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(ye,{datePickerProps:{format:"YYYY/MM/DD"}})})})]})})},Pe=[{fileName:"index.tsx",code:"import React from \"react\";\nimport { Form, Row, Col } from \"antd\";\nimport DatePickerAndCheckbox from \"@/components/formItems/DatePickerAndCheckbox\";\nimport styles from \"./index.module.scss\";\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  return (\n    <Form form={form} labelAlign='right' className={styles.container}>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field1'>\n            <DatePickerAndCheckbox checkboxLabel='复选框标题' />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field2'>\n            <DatePickerAndCheckbox datePickerProps={{ format: \"YYYY/MM/DD\" }} />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;"}].concat(ke),Ne=()=>(0,i.jsx)(me,{title:"左边日期选择框右边复选框的复合组件",codeParams:Pe,children:(0,i.jsx)(Se,{})}),Ie="RangePickerAndCheckbox_container__NEKOI",we="RangePickerAndCheckbox_checkbox__apXZT",Re="RangePickerAndCheckbox_noLabel__5RO6Q",{RangePicker:Fe}=he.A,Me=e=>{const{value:n,checkboxLabel:t="",disabled:a,rangePickerProps:s={},checkboxProps:r={},onChange:o,"aria-invalid":d,setRangePickerStatus:c,style:u={}}=e,m=be(a),h=(0,l.useMemo)((()=>{if(c&&"true"===d)return c(n)}),[d,n]);return(0,i.jsxs)("div",{className:Ie,style:u,children:[(0,i.jsx)(Fe,{value:n&&n.length>=2?[n[0],n[1]]:[void 0,void 0],disabled:m,status:h,...s,onChange:e=>{let t=n&&n.length>=3?[void 0,void 0,n[2]]:[void 0,void 0,void 0];e&&e.length>=2&&(t=n&&n.length>=3?[e[0],e[1],n[2]]:[e[0],e[1],void 0]),o?.(t)}}),(0,i.jsx)(pe.A,{className:`${we}${t?"":` ${Re}`}`,checked:!!(n&&n.length>=3)&&n[2],disabled:m,...r,onChange:e=>{const t=e?.target?.checked||!1,l=n&&n.length>=2?[n[0],n[1],t]:[void 0,void 0,t];o?.(l)},children:t})]})},Ve=()=>{const[e]=je.A.useForm();return(0,i.jsx)(je.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(_e.A,{gutter:16,children:[(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(Me,{checkboxLabel:"复选框标题"})})}),(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(Me,{rangePickerProps:{format:"YYYY/MM/DD"}})})})]})})},De="RangePickerAndCheckboxSample_container__lJatc",Le=[{fileName:"index.tsx",code:"import React from \"react\";\nimport { Form, Row, Col } from \"antd\";\nimport RangePickerAndCheckbox from \"@/components/formItems/RangePickerAndCheckbox\";\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  return (\n    <Form form={form} labelAlign='right'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field1'>\n            <RangePickerAndCheckbox checkboxLabel='复选框标题' />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field2'>\n            <RangePickerAndCheckbox\n              rangePickerProps={{ format: \"YYYY/MM/DD\" }}\n            />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;"}].concat([{fileName:"RangePickerAndCheckbox.tsx",code:'/**\n * 左边日期范围选择框右边复选框的复合组件\n */\nimport React, { useMemo } from "react";\nimport { DatePicker, Checkbox } from "antd";\nimport { CheckboxChangeEvent } from "antd/es/checkbox";\nimport { Dayjs } from "dayjs";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\nconst { RangePicker } = DatePicker;\n\ntype Value = [\n  Dayjs | null | undefined,\n  Dayjs | null | undefined,\n  boolean | undefined\n];\ntype Status = "warning" | "error" | "" | undefined;\n\ntype RangePickerAndCheckboxProps = {\n  value?: Value;\n  checkboxLabel?: string;\n  disabled?: boolean;\n  rangePickerProps?: Record<string, any>; // 传递给日期范围选择框的属性值\n  checkboxProps?: Record<string, any>; // 传递给复选框的属性值\n  onChange?: (value: Value) => void;\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  setRangePickerStatus?: (value: Value | undefined) => Status; // 当form校验时，设置日期范围选择框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  style?: Record<string, any>;\n};\n\nconst RangePickerAndCheckbox = (props: RangePickerAndCheckboxProps) => {\n  const {\n    value,\n    checkboxLabel = "",\n    disabled: selfDisabled,\n    rangePickerProps = {},\n    checkboxProps = {},\n    onChange,\n    ["aria-invalid"]: invalid,\n    setRangePickerStatus,\n    style = {},\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onRangePickerChange = (dates: [Dayjs, Dayjs] | null) => {\n    let newValue: Value =\n      value && value.length >= 3\n        ? [undefined, undefined, value[2]]\n        : [undefined, undefined, undefined];\n    if (dates && dates.length >= 2) {\n      newValue =\n        value && value.length >= 3\n          ? [dates[0], dates[1], value[2]]\n          : [dates[0], dates[1], undefined];\n    }\n    onChange?.(newValue);\n  };\n\n  const onCheckboxChange = (e: CheckboxChangeEvent) => {\n    const checked = e?.target?.checked || false;\n    const newValue: Value =\n      value && value.length >= 2\n        ? [value[0], value[1], checked]\n        : [undefined, undefined, checked];\n    onChange?.(newValue);\n  };\n\n  const rangePickerStatus = useMemo(() => {\n    if (setRangePickerStatus && invalid === "true") {\n      return setRangePickerStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  return (\n    <div className={styles.container} style={style}>\n      <RangePicker\n        value={\n          value && value.length >= 2\n            ? [value[0], value[1]]\n            : [undefined, undefined]\n        }\n        disabled={disabled}\n        status={rangePickerStatus}\n        {...rangePickerProps}\n        // @ts-ignore\n        onChange={onRangePickerChange}\n      />\n      <Checkbox\n        className={`${styles.checkbox}${\n          !checkboxLabel ? ` ${styles.noLabel}` : ""\n        }`}\n        checked={value && value.length >= 3 ? value[2] : false}\n        disabled={disabled}\n        {...checkboxProps}\n        onChange={onCheckboxChange}\n      >\n        {checkboxLabel}\n      </Checkbox>\n    </div>\n  );\n};\n\nexport default RangePickerAndCheckbox;'},{fileName:"RangePickerAndCheckbox.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  .checkbox {\n    display: flex;\n    align-items: center;\n    margin-left: 8px;\n    span {\n      word-break: keep-all;\n    }\n  }\n  .noLabel {\n    span:not(.ant-checkbox) {\n      padding-inline-start: 0 !important;\n      padding-inline-end: 0 !important;\n    }\n  }\n}"}]),Ee=()=>(0,i.jsx)(me,{className:De,title:"左边日期范围选择框右边复选框的复合组件",codeParams:Le,children:(0,i.jsx)(Ve,{})});var Te=t(7444);const Oe="InputAndCheckbox_container__yadK+",$e="InputAndCheckbox_checkbox__50f6e",Be="InputAndCheckbox_noLabel__-JvmU",We=e=>{const{value:n,checkboxLabel:t=null,disabled:a,inputProps:s={},checkboxProps:r={},onChange:o,"aria-invalid":d,setInputStatus:c,style:u={}}=e,m=be(a),h=(0,l.useMemo)((()=>{if(c&&"true"===d)return c(n)}),[d,n]);return(0,i.jsxs)("div",{className:Oe,style:u,children:[(0,i.jsx)(Te.A,{value:n&&n.length>=1?n[0]:void 0,disabled:m,status:h,...s,onChange:e=>{const t=e?.target?.value,l=n&&n.length>=2?[t,n[1]]:[t,void 0];o?.(l)}}),(0,i.jsx)(pe.A,{className:`${$e}${t?"":` ${Be}`}`,checked:n&&n.length>=2?n[1]:void 0,disabled:m,...r,onChange:e=>{const t=e?.target?.checked||!1,l=n&&n.length>=1?[n[0],t]:[void 0,t];o?.(l)},children:t})]})},Ke=[{fileName:"InputAndCheckbox.tsx",code:'/**\n * 左边输入框右边复选框的复合组件\n */\nimport React, { useMemo } from "react";\nimport { Input, Checkbox } from "antd";\nimport { CheckboxChangeEvent } from "antd/es/checkbox";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\nexport type Value = [string | undefined, boolean | undefined];\ntype Status = "warning" | "error" | "" | undefined;\n\ntype InputAndCheckboxProps = {\n  value?: Value;\n  checkboxLabel?: string;\n  disabled?: boolean;\n  inputProps?: Record<string, any>; // 传递给输入框的属性值\n  checkboxProps?: Record<string, any>; // 传递给复选框的属性值\n  onChange?: (value: Value) => void;\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  setInputStatus?: (value: Value | undefined) => Status; // 当form校验时，设置输入框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  style?: Record<string, any>;\n};\n\nconst InputAndCheckbox = (props: InputAndCheckboxProps) => {\n  const {\n    value,\n    checkboxLabel = null,\n    disabled: selfDisabled,\n    inputProps = {},\n    checkboxProps = {},\n    onChange,\n    ["aria-invalid"]: invalid,\n    setInputStatus,\n    style = {},\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onInputChange = (e: any) => {\n    const v = e?.target?.value;\n    const newValue: Value =\n      value && value.length >= 2 ? [v, value[1]] : [v, undefined];\n    onChange?.(newValue);\n  };\n\n  const onCheckboxChange = (e: CheckboxChangeEvent) => {\n    const checked = e?.target?.checked || false;\n    const newValue: Value =\n      value && value.length >= 1 ? [value[0], checked] : [undefined, checked];\n    onChange?.(newValue);\n  };\n\n  const inputStatus = useMemo(() => {\n    if (setInputStatus && invalid === "true") {\n      return setInputStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  return (\n    <div className={styles.container} style={style}>\n      <Input\n        value={value && value.length >= 1 ? value[0] : undefined}\n        disabled={disabled}\n        status={inputStatus}\n        {...inputProps}\n        onChange={onInputChange}\n      />\n      <Checkbox\n        className={`${styles.checkbox}${\n          !checkboxLabel ? ` ${styles.noLabel}` : ""\n        }`}\n        checked={value && value.length >= 2 ? value[1] : undefined}\n        disabled={disabled}\n        {...checkboxProps}\n        onChange={onCheckboxChange}\n      >\n        {checkboxLabel}\n      </Checkbox>\n    </div>\n  );\n};\n\nexport default InputAndCheckbox;'},{fileName:"InputAndCheckbox.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  .checkbox {\n    display: flex;\n    align-items: center;\n    margin-left: 8px;\n    span {\n      word-break: keep-all;\n    }\n  }\n  .noLabel {\n    span:not(.ant-checkbox) {\n      padding-inline-start: 0 !important;\n      padding-inline-end: 0 !important;\n    }\n  }\n}"}];var He=t(6492);const{Option:qe}=He.A,ze=()=>{const[e]=je.A.useForm(),n=(0,i.jsxs)(He.A,{defaultValue:"http://",children:[(0,i.jsx)(qe,{value:"http://",children:"http://"}),(0,i.jsx)(qe,{value:"https://",children:"https://"})]}),t=(0,i.jsxs)(He.A,{defaultValue:".com",children:[(0,i.jsx)(qe,{value:".com",children:".com"}),(0,i.jsx)(qe,{value:".jp",children:".jp"}),(0,i.jsx)(qe,{value:".cn",children:".cn"}),(0,i.jsx)(qe,{value:".org",children:".org"})]});return(0,i.jsx)(je.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(_e.A,{gutter:16,children:[(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(We,{inputProps:{addonBefore:n,addonAfter:t},checkboxLabel:"复选框标题"})})}),(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(We,{})})})]})})},Ue="InputAndCheckboxSample_container__W59nb",Ye=[{fileName:"index.tsx",code:"import React from \"react\";\nimport { Form, Row, Col, Select } from \"antd\";\nimport InputAndCheckbox from \"@/components/formItems/InputAndCheckbox\";\n\nconst { Option } = Select;\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  const selectBefore = (\n    <Select defaultValue='http://'>\n      <Option value='http://'>http://</Option>\n      <Option value='https://'>https://</Option>\n    </Select>\n  );\n  const selectAfter = (\n    <Select defaultValue='.com'>\n      <Option value='.com'>.com</Option>\n      <Option value='.jp'>.jp</Option>\n      <Option value='.cn'>.cn</Option>\n      <Option value='.org'>.org</Option>\n    </Select>\n  );\n\n  return (\n    <Form form={form} labelAlign='right'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field1'>\n            <InputAndCheckbox\n              inputProps={{\n                addonBefore: selectBefore,\n                addonAfter: selectAfter,\n              }}\n              checkboxLabel='复选框标题'\n            />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field2'>\n            <InputAndCheckbox />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;"}].concat(Ke),Ze=()=>(0,i.jsx)(me,{className:Ue,title:"左边输入框右边复选框的复合组件",codeParams:Ye,children:(0,i.jsx)(ze,{})});var Qe=t(7142);const Xe="InputNumberAndSelect_container__7s7iS",Ge="InputNumberAndSelect_inputNumber__Xbfyv",Je="InputNumberAndSelect_select__hietx",en=e=>{const{value:n,options:t=[],disabled:a,inputNumberProps:s={},selectProps:r={},onChange:o,"aria-invalid":d,setInputNumberStatus:c,setSelectStatus:u,style:m={}}=e,h=be(a),p=(0,l.useMemo)((()=>{if(c&&"true"===d)return c(n)}),[d,n]),x=(0,l.useMemo)((()=>{if(u&&"true"===d)return u(n)}),[d,n]);return(0,i.jsxs)("div",{className:Xe,style:m,children:[(0,i.jsx)(Qe.A,{className:Ge,value:n&&n.length>=1?n[0]:void 0,disabled:h,status:p,...s,onChange:e=>{const t=n&&n.length>=2?[e,n[1]]:[e,void 0];o?.(t)}}),(0,i.jsx)(He.A,{className:Je,value:n&&n.length>=2?n[1]:void 0,options:t,disabled:h,status:x,...r,onChange:(e,t)=>{const l=n&&n.length>=1?[n[0],e]:[void 0,e];o?.(l,t)}})]})},nn=()=>{const[e]=je.A.useForm();return(0,i.jsx)(je.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(_e.A,{gutter:16,children:[(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(en,{options:[{name:"工作日",id:"workingDay"},{name:"自然日",id:"naturalDay"}],inputNumberProps:{addonAfter:"个"},selectProps:{fieldNames:{label:"name",value:"id"}}})})}),(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(en,{options:[{label:"年",value:"year"},{label:"月",value:"month"},{label:"天",value:"day"}],inputNumberProps:{min:0,max:1e4,precision:2}})})})]})})},tn="InputNumberAndSelectSample_container__YVhxN",ln=[{fileName:"index.tsx",code:'import React from "react";\nimport { Form, Row, Col } from "antd";\nimport InputNumberAndSelect from "@/components/formItems/InputNumberAndSelect";\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  return (\n    <Form form={form} labelAlign=\'right\'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field1\'>\n            <InputNumberAndSelect\n              options={[\n                { name: "工作日", id: "workingDay" },\n                { name: "自然日", id: "naturalDay" },\n              ]}\n              inputNumberProps={{ addonAfter: "个" }}\n              selectProps={{\n                fieldNames: { label: "name", value: "id" },\n              }}\n            />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field2\'>\n            <InputNumberAndSelect\n              options={[\n                { label: "年", value: "year" },\n                { label: "月", value: "month" },\n                { label: "天", value: "day" },\n              ]}\n              inputNumberProps={{ min: 0, max: 10000, precision: 2 }}\n            />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;'}].concat([{fileName:"InputNumberAndSelect.tsx",code:'/**\n * 左边数值输入框右边下拉框的复合组件\n */\nimport React, { useMemo } from "react";\nimport { InputNumber, Select } from "antd";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\nexport type Value = [number | string | null | undefined, string | undefined];\ntype Status = "warning" | "error" | "" | undefined;\n\ntype InputNumberAndSelectProps = {\n  value?: Value;\n  options: Record<string, any>;\n  disabled?: boolean;\n  inputNumberProps?: Record<string, any>; // 传递给数值输入框的属性值\n  selectProps?: Record<string, any>; // 传递给下拉框的属性值\n  onChange?: (value: Value, option?: Record<string, any>) => void; // 如果修改下拉框则onChange的第二个参数会返回option\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  setInputNumberStatus?: (value: Value | undefined) => Status; // 当form校验时，设置数值输入框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  setSelectStatus?: (value: Value | undefined) => Status; // 当form校验时，设置日期选择框的status属性值。当使用该属性时，要给外层的Form.Item设置validateStatus为\'\'\n  style?: Record<string, any>;\n};\n\nconst InputNumberAndSelect = (props: InputNumberAndSelectProps) => {\n  const {\n    value,\n    options = [],\n    disabled: selfDisabled,\n    inputNumberProps = {},\n    selectProps = {},\n    onChange,\n    ["aria-invalid"]: invalid,\n    setInputNumberStatus,\n    setSelectStatus,\n    style = {},\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onInputNumberChange = (v: number | string | null) => {\n    const newValue: Value =\n      value && value.length >= 2 ? [v, value[1]] : [v, undefined];\n    onChange?.(newValue);\n  };\n\n  const onSelectChange = (v: string, option: Record<string, any>) => {\n    const newValue: Value =\n      value && value.length >= 1 ? [value[0], v] : [undefined, v];\n    onChange?.(newValue, option);\n  };\n\n  const inputNumberStatus = useMemo(() => {\n    if (setInputNumberStatus && invalid === "true") {\n      return setInputNumberStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  const selectStatus = useMemo(() => {\n    if (setSelectStatus && invalid === "true") {\n      return setSelectStatus(value);\n    }\n    return undefined;\n  }, [invalid, value]);\n\n  return (\n    <div className={styles.container} style={style}>\n      <InputNumber\n        className={styles.inputNumber}\n        value={value && value.length >= 1 ? value[0] : undefined}\n        disabled={disabled}\n        status={inputNumberStatus}\n        {...inputNumberProps}\n        onChange={onInputNumberChange}\n      />\n      <Select\n        className={styles.select}\n        value={value && value.length >= 2 ? value[1] : undefined}\n        options={options as any[]}\n        disabled={disabled}\n        status={selectStatus}\n        {...selectProps}\n        onChange={onSelectChange}\n      />\n    </div>\n  );\n};\n\nexport default InputNumberAndSelect;'},{fileName:"InputNumberAndSelect.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  .inputNumber {\n    display: flex;\n    flex: 1;\n  }\n  .select {\n    display: flex;\n    flex: 1;\n    margin-left: 8px;\n  }\n}"}]),an=()=>(0,i.jsx)(me,{className:tn,title:"左边数值输入框右边下拉框的复合组件",codeParams:ln,children:(0,i.jsx)(nn,{})});var sn=t(9822),rn=t(5709);const on="CanAddMultiple_container__ZEPWF",dn="CanAddMultiple_row__--s1X",cn="CanAddMultiple_addBtn__tRlxQ",un="CanAddMultiple_disabled__ZEO7H",mn="CanAddMultiple_deleteBtn__s+wlP",hn=e=>{const{value:n,disabled:t,hideBtn:a=!1,maxRows:s=-1,children:r,onChange:o,style:d={},...c}=e,u=be(t),m=(e,t,l)=>{if(n&&n.length>0){const a=[];n.forEach(((n,l)=>{l===e?a.push(t):a.push(n)})),o?.(a,...l)}else o?.([t],...l)},h=()=>{if(u)return;let e=[void 0,void 0];if(n&&n.length>0){if(s>0&&n.length>=s)return void Y.Ay.warning(`最多可添加${s}个`);e=[...n,void 0]}o?.(e)},p=(0,l.useMemo)((()=>n&&n.length>0?n:[void 0]),[n]);return(0,i.jsx)("div",{className:on,style:d,children:p.map(((e,t)=>(0,i.jsxs)("div",{className:dn,children:[r?l.cloneElement(r,{value:e,disabled:u,index:t,onChange:function(e){for(var n=arguments.length,l=new Array(n>1?n-1:0),a=1;a<n;a++)l[a-1]=arguments[a];return m(t,e,l)},...c}):null,!a&&(0,i.jsxs)(i.Fragment,{children:[0===t&&(0,i.jsx)("div",{className:`${cn}${u?` ${un}`:""}`,onClick:h,children:(0,i.jsx)(sn.A,{})}),t>0&&(0,i.jsx)("div",{className:`${mn}${u?` ${un}`:""}`,onClick:()=>(e=>{if(!u&&n&&n.length>0){const t=n.filter(((n,t)=>t!==e));o?.(t)}})(t),children:(0,i.jsx)(rn.A,{})})]})]},t)))})},pn=[{fileName:"CanAddMultiple.tsx",code:'/**\n * 可增加和删除多条数据的包装组件\n */\nimport React, { useMemo, ReactElement } from "react";\nimport { message } from "antd";\nimport { PlusCircleOutlined, MinusCircleOutlined } from "@ant-design/icons";\nimport useFormDisabled from "hooks/useFormDisabled";\nimport styles from "./index.module.scss";\n\ntype Value = any[];\n\ntype CanAddMultipleProps = {\n  value?: Value;\n  disabled?: boolean;\n  hideBtn?: boolean; // 是否隐藏新增和删除按钮\n  maxRows?: number; // 最多可显示的行个数, 默认为-1无限制\n  children?: ReactElement | null; // children必须是支持value和onChange属性的组件\n  onChange?: (value: Value, ...restProps: any[]) => void;\n  style?: Record<string, any>;\n} & { [key in string]: any };\n\nconst CanAddMultiple = (props: CanAddMultipleProps) => {\n  const {\n    value,\n    disabled: selfDisabled,\n    hideBtn = false,\n    maxRows = -1,\n    children,\n    onChange,\n    style = {},\n    ...restProrps\n  } = props;\n  const disabled = useFormDisabled(selfDisabled);\n\n  const onChildrenChange = (index: number, rowValue: any, restProps: any[]) => {\n    if (value && value.length > 0) {\n      const newValue: Value = [];\n      value.forEach((item: any, i: number) => {\n        if (i === index) {\n          newValue.push(rowValue);\n        } else {\n          newValue.push(item);\n        }\n      });\n      onChange?.(newValue, ...restProps);\n    } else {\n      onChange?.([rowValue], ...restProps);\n    }\n  };\n\n  const onAdd = () => {\n    if (disabled) return;\n    let newValue: Value = [undefined, undefined];\n    if (value && value.length > 0) {\n      if (maxRows > 0 && value.length >= maxRows) {\n        message.warning(`最多可添加${maxRows}个`);\n        return;\n      }\n      newValue = [...value, undefined];\n    }\n    onChange?.(newValue);\n  };\n\n  const onDelete = (index: number) => {\n    if (disabled) return;\n    if (value && value.length > 0) {\n      const newValue: Value = value.filter((_: any, i: number) => i !== index);\n      onChange?.(newValue);\n    }\n  };\n\n  const finalValue = useMemo(() => {\n    if (value && value.length > 0) {\n      return value;\n    }\n    return [undefined];\n  }, [value]);\n\n  return (\n    <div className={styles.container} style={style}>\n      {finalValue.map((itemValue: any, index: number) => {\n        return (\n          <div className={styles.row} key={index}>\n            {children\n              ? React.cloneElement(children, {\n                  value: itemValue,\n                  disabled,\n                  index,\n                  onChange: (value: any, ...restProps: any[]) =>\n                    onChildrenChange(index, value, restProps),\n                  ...restProrps,\n                })\n              : null}\n            {!hideBtn && (\n              <>\n                {index === 0 && (\n                  <div\n                    className={`${styles.addBtn}${\n                      disabled ? ` ${styles.disabled}` : ""\n                    }`}\n                    onClick={onAdd}\n                  >\n                    <PlusCircleOutlined />\n                  </div>\n                )}\n                {index > 0 && (\n                  <div\n                    className={`${styles.deleteBtn}${\n                      disabled ? ` ${styles.disabled}` : ""\n                    }`}\n                    onClick={() => onDelete(index)}\n                  >\n                    <MinusCircleOutlined />\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default CanAddMultiple;'},{fileName:"CanAddMultiple.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  .row {\n    display: flex;\n    align-items: center;\n    &:not(:first-child) {\n      margin-top: 8px;\n    }\n\n    $btnSize: 16px;\n    .addBtn:not(.disabled) {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      :global {\n        svg {\n          width: $btnSize;\n          height: $btnSize;\n          path {\n            fill: $globalPrimaryColor;\n          }\n        }\n      }\n    }\n\n    .deleteBtn:not(.disabled) {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      :global {\n        svg {\n          width: $btnSize;\n          height: $btnSize;\n          path {\n            fill: $globalRedColor;\n          }\n        }\n      }\n    }\n\n    .disabled {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: not-allowed;\n      :global {\n        svg {\n          width: $btnSize;\n          height: $btnSize;\n          path {\n            fill: $disabledColor;\n          }\n        }\n      }\n    }\n  }\n}"}],{Option:xn}=He.A,bn=()=>{const[e]=je.A.useForm(),n=(0,i.jsxs)(He.A,{defaultValue:"http://",children:[(0,i.jsx)(xn,{value:"http://",children:"http://"}),(0,i.jsx)(xn,{value:"https://",children:"https://"})]}),t=(0,i.jsxs)(He.A,{defaultValue:".com",children:[(0,i.jsx)(xn,{value:".com",children:".com"}),(0,i.jsx)(xn,{value:".jp",children:".jp"}),(0,i.jsx)(xn,{value:".cn",children:".cn"}),(0,i.jsx)(xn,{value:".org",children:".org"})]});return(0,i.jsx)(je.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(_e.A,{gutter:16,children:[(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(hn,{maxRows:5,children:(0,i.jsx)(We,{inputProps:{addonBefore:n,addonAfter:t},checkboxLabel:"复选框标题"})})})}),(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field2",children:(0,i.jsx)(hn,{maxRows:6,children:(0,i.jsx)(en,{style:{marginRight:"8px"},options:[{name:"工作日",id:"workingDay"},{name:"自然日",id:"naturalDay"}],inputNumberProps:{addonAfter:"个"},selectProps:{fieldNames:{label:"name",value:"id"}}})})})})]})})},fn="CanAddMultipleSample_container__F08Q9",vn=[{fileName:"index.tsx",code:"import React from \"react\";\nimport { Form, Row, Col, Select } from \"antd\";\nimport CanAddMultiple from \"@/components/formItems/CanAddMultiple\";\nimport InputAndCheckbox from \"@/components/formItems/InputAndCheckbox\";\nimport InputNumberAndSelect from \"@/components/formItems/InputNumberAndSelect\";\n\nconst { Option } = Select;\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  const selectBefore = (\n    <Select defaultValue='http://'>\n      <Option value='http://'>http://</Option>\n      <Option value='https://'>https://</Option>\n    </Select>\n  );\n  const selectAfter = (\n    <Select defaultValue='.com'>\n      <Option value='.com'>.com</Option>\n      <Option value='.jp'>.jp</Option>\n      <Option value='.cn'>.cn</Option>\n      <Option value='.org'>.org</Option>\n    </Select>\n  );\n\n  return (\n    <Form form={form} labelAlign='right'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field1'>\n            <CanAddMultiple maxRows={5}>\n              <InputAndCheckbox\n                inputProps={{\n                  addonBefore: selectBefore,\n                  addonAfter: selectAfter,\n                }}\n                checkboxLabel='复选框标题'\n              />\n            </CanAddMultiple>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label='字段标题' name='field2'>\n            <CanAddMultiple maxRows={6}>\n              <InputNumberAndSelect\n                style={{ marginRight: \"8px\" }}\n                options={[\n                  { name: \"工作日\", id: \"workingDay\" },\n                  { name: \"自然日\", id: \"naturalDay\" },\n                ]}\n                inputNumberProps={{ addonAfter: \"个\" }}\n                selectProps={{\n                  fieldNames: { label: \"name\", value: \"id\" },\n                }}\n              />\n            </CanAddMultiple>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;"}].concat(pn),gn=()=>(0,i.jsx)(me,{className:fn,title:"可增加和删除多条数据的包装组件",codeParams:vn,children:(0,i.jsx)(bn,{})});var yn=t(811),kn=t(8676);class jn{notification=null;keyMap=(()=>new Map)();constructor(){this.keys=[],kn.A.newInstance({},(e=>this.notification=e))}add(e){let{key:n,content:t,duration:l=null,dismiss:a}=e;this.keyMap.set(n,a),this.notification.notice({key:n,content:t,duration:l})}remove(e){this.notification.removeNotice(e),this.keyMap.delete(e)}clear(){this.keyMap.forEach(((e,n)=>{e?e():this.remove(n)})),this.keyMap.clear()}}jn.getInstance=function(){let e;return function(){return e=e||new jn,e}}();const _n=jn.getInstance();var An=t(2877),Cn=t(7852),Sn=t(2543),Pn=t.n(Sn);const Nn="TreeSelect_modal__RA3WD",In="TreeSelect_modal_title__1iJkY",wn="TreeSelect_modal_body__6ZM8L",Rn="TreeSelect_treebox__hUQAp",Fn="TreeSelect_choosebox__1d2Gk",Mn="TreeSelect_box_header__npPGp",Vn="TreeSelect_box_content__D7zpo",Dn="TreeSelect_chooseList__-PDwI",Ln="TreeSelect_chooseName__EjF0Z",En="TreeSelect_close__dDSzc",Tn="TreeSelect_clear__rwXuO",On="TreeSelect_search_act__zXmnz";class $n extends l.Component{constructor(e){super(e);const{treeData:n=[]}=e;this.state={visible:!0,checkAll:!1,indeterminate:!1,autoExpandParent:!0,checkedKeys:[],checkedNodes:[],expandedKeys:[],expandedValue:n,searchValue:""},this.deepLv=1,this.treeDataMap=this._tree2map(n,[],null,1),this.treeData=n,this.leafNodes=this.treeDataMap.filter((e=>e.lv===this.deepLv)),this._onSearch=this._onSearch.bind(this),this._onChangeAll=this._onChangeAll.bind(this),this._onClearAll=this._onClearAll.bind(this),this._onCheckTree=this._onCheckTree.bind(this),this._onExpandTree=this._onExpandTree.bind(this),this._onCancel=this._onCancel.bind(this),this._onOk=this._onOk.bind(this)}componentDidMount(){this._onCheckTree(this.props.value)}isCheckAll=(e,n)=>{let t=!1,l=!1;const a=[],s=[],i=n=>{for(let t=0;t<n.length;t++){const l=n[t];if(l.children&&l.children.length>0)i(l.children);else{a.push(l.key);const n=Pn().find(e,(e=>e.key===l.key));n&&s.push(n)}}};return i(n||this.state.expandedValue),s.length>=a.length&&(t=!0),s.length>0&&s.length<a.length&&(l=!0),{checkAll:t,indeterminate:l}};getAllSubset=e=>{const n=[],t=e=>{if(e&&e.length>0)for(let l=0;l<e.length;l++){const a=e[l];if(a.children&&a.children.length>0)t(a.children);else{const e={...a,key:a.key||a.value,title:a.title||a.label};n.push(e)}}};return t(e),n};searchTree=(e,n)=>{let t=[],l=new Set;return function e(a){a.forEach((a=>{a.title.indexOf(n)>-1&&(l.has(a.key)||l.has(a.parentKey)||(t.push(a),l.add(a.key))),a.children&&e(a.children)}))}(e),t};_tree2map=(()=>{var e=this;return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;a>e.deepLv&&(e.deepLv=a);for(let s=0;s<n.length;s++){const i=n[s],r=i.title||i.label,o=i.key||i.value;i.key=o,i.title=r,i.parentKey=l,i.lv=a,t.push({key:o,title:r,parentKey:l,lv:a}),i.children?.length&&e._tree2map(i.children,t,i.key,a+1)}return t}})();_isChinese=e=>{for(var n=!0,t=0;t<e.length;t++)n=n&&e.charCodeAt(t)>=1e4;return n};_onSearch=e=>{let n=[],t=[];const{value:l}=e.target;l||(t=this.treeData),l&&this._isChinese(l)&&(n=this.treeDataMap.map((e=>e.title.indexOf(l)>-1?e.parentKey:null)).filter(((e,n,t)=>e&&t.indexOf(e)===n)),t=this.searchTree(this.treeData,l));const{checkAll:a,indeterminate:s}=this.isCheckAll(this.state.checkedNodes,t),i=this.state.checkedNodes.map((e=>e.key));this.setState({checkAll:a,indeterminate:s,expandedKeys:n,expandedValue:t,searchValue:l,autoExpandParent:!0,checkedKeys:i})};_onChangeAll=e=>{const n=e.target.checked;let t=this.state.checkedNodes,l=[];const a=this.getAllSubset([...this.state.expandedValue]);n?(t=Pn().uniqBy(a.concat(t),"key"),l=t.map((e=>e.value))):(a.forEach((e=>{Pn().remove(t,(n=>n.key===e.key))})),l=t.map((e=>e.value))),this.setState({checkAll:n,checkedKeys:l,checkedNodes:t,indeterminate:!1})};_onClearAll=()=>{this.setState({checkAll:!1,indeterminate:!1,checkedKeys:[],checkedNodes:[],expandedKeys:[]})};_onCheckTree=(e,n)=>{if(e=[...e,...this.state.checkedKeys],e=Pn().uniq(e),n&&!n.checked){const t=n.node;t.children&&t.children.length>0&&t.children.forEach((n=>{Pn().remove(e,(e=>e===n.key))})),Pn().remove(e,(e=>e===t.key))}const t=this.leafNodes.filter((n=>e.includes(n.key))),l=t.map((e=>e.key)),{checkAll:a,indeterminate:s}=this.isCheckAll(t);this.setState({checkedKeys:l,checkedNodes:t,checkAll:a,indeterminate:s})};_onExpandTree=e=>{this.setState({expandedKeys:e,autoExpandParent:!1})};_onRemove=e=>{let{checkedKeys:n,checkedNodes:t,indeterminate:l,checkAll:a}=this.state;t.splice(e,1),n=t.map((e=>e.key)),n.length||(l=!1,a=!1),this.setState({checkAll:a,checkedKeys:n,checkedNodes:t,indeterminate:l})};_onCancel=()=>{this.setState({visible:!1}),this.props.onPress({index:0})};_onOk=()=>{const{checkedKeys:e,checkedNodes:n}=this.state;this.setState({visible:!1}),this.props.onPress({index:1,checkedKeys:e,checkedNodes:n})};orderSort(e,n){var t=e.title,l=n.title;return l>t?-1:l<t?1:0}render(){const{title:e="示例窗口",disabled:n=!1}=this.props,{visible:t,checkAll:l,indeterminate:a,autoExpandParent:s,checkedKeys:r=[],checkedNodes:o=[],expandedKeys:d=[],searchValue:c=""}=this.state,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{const{lv:n,parentKey:t,key:l}=e,a=e.title.indexOf(c),s=e.title.substr(0,a),r=e.title.substr(a+c.length),o=a>-1?(0,i.jsxs)("span",{children:[s,(0,i.jsx)("span",{className:On,children:c}),r]}):(0,i.jsx)("span",{children:e.title});return e.children?{key:l,title:o,lv:n,parentKey:t,children:u(e.children)}:{key:l,title:o,lv:n,parentKey:t}}))};return(0,i.jsx)(v.A,{width:580,className:Nn,visible:t,centered:!0,maskClosable:!0,title:(0,i.jsx)("div",{className:In,children:e},"title"),cancelText:"取消",onCancel:this._onCancel,okText:"提交",onOk:this._onOk,children:(0,i.jsxs)("div",{className:wn,children:[(0,i.jsxs)("div",{className:Rn,children:[(0,i.jsx)("div",{className:Mn,children:(0,i.jsx)(Te.A,{placeholder:"搜索",suffix:(0,i.jsx)(An.A,{}),allowClear:!0,onChange:this._onSearch,disabled:n})}),(0,i.jsxs)("div",{className:Vn,children:[(0,i.jsx)(pe.A,{checked:l,indeterminate:a,onChange:this._onChangeAll,disabled:n,children:"全选"}),(0,i.jsx)(yn.A,{treeData:u(this.state.expandedValue),blockNode:!0,checkable:!0,checkedKeys:r,expandedKeys:d,autoExpandParent:s,onExpand:this._onExpandTree,onCheck:this._onCheckTree,disabled:n})]})]}),(0,i.jsxs)("div",{className:Fn,children:[(0,i.jsxs)("div",{className:Mn,children:[(0,i.jsx)("div",{children:`已选${o.length}项`}),!n&&(0,i.jsx)("div",{className:Tn,onClick:this._onClearAll,children:"清空"})]}),(0,i.jsx)("div",{className:Vn,children:(0,i.jsx)("ul",{className:Dn,children:o.sort(this.orderSort).map(((e,t)=>(0,i.jsxs)("li",{children:[(0,i.jsx)("div",{className:Ln,children:e.title}),!n&&(0,i.jsx)(Cn.A,{className:En,onClick:this._onRemove.bind(this,t)})]},e.key)))})})]})]})})}}const Bn=new class{__key__="";show=e=>new Promise((n=>{""===this.__key__&&(this.__key__=String(Date.now()),_n.add({key:this.__key__,content:(0,i.jsx)($n,{...e,onPress:e=>{_n.remove(this.__key__),this.__key__="",n(e)}}),duration:null}))}));dismiss=()=>{this.__key__.length>0&&(_n.remove(this.__key__),this.__key__="")}},Wn=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((n=>{n?.children?.length>0?Wn(n.children,e):e.push(n)})),e},Kn=e=>{let{value:n=[""],onChange:t=e=>{},options:l=[],title:a="示例测试",width:s=200}=e;const r=Wn(l,[]),o=n.length,d=r.length;return(0,i.jsx)(He.A,{style:{width:s},value:l.length?`${o===d?"全部":`${o}/${d}项`}${a}`:"请联系管理员开通权限",disabled:!l.length,options:[],open:!1,showArrow:!0,onClick:async()=>{const{index:e,checkedKeys:s}=await Bn.show({title:a,value:n,treeData:l});1===e&&s.length&&t(s)}})},Hn=[{id:999,label:"四川测试公司",value:"sichuan",type:null,children:[{id:1,label:"成都市",value:"chengdu",type:null,children:[{id:1,label:"示例1",value:"1",type:null,children:[{id:1,label:"示例1-1",value:"2",type:3,children:null}]}]},{id:2,label:"眉山市",value:"meishan",type:null,children:[{id:1,label:"示例2",value:"3",type:null,children:[{id:1,label:"示例2-1",value:"4",type:3,children:null}]}]},{id:3,label:"乐山市",value:"leshan",type:null,children:[{id:1,label:"示例3",value:"5",type:null,children:[{id:1,label:"示例3-1",value:"6",type:3,children:null}]}]}]},{id:1,label:"云南测试公司",value:"yunnan",type:null,children:[{id:1,label:"昆明市",value:"kunming",type:null,children:[{id:1,label:"示例1",value:"7",type:null,children:[{id:1,label:"示例1-2",value:"8",type:3,children:null}]}]},{id:2,label:"大理市",value:"dali",type:null,children:[{id:1,label:"示例2",value:"9",type:null,children:[{id:1,label:"示例2-1",value:"10",type:3,children:null}]}]}]}],qn="SelectBoxSample_container__PTinc",zn=()=>{const[e]=je.A.useForm();return(0,i.jsx)(me,{className:qn,title:"下拉选择框的复合组件",children:(0,i.jsx)(je.A,{form:e,labelAlign:"right",children:(0,i.jsx)(_e.A,{gutter:16,children:(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field1",children:(0,i.jsx)(Kn,{value:["4"],options:Hn||[],onChange:()=>{}})})})})})})};var Un=t(2629);const Yn="WithValidateMessage_container__w-KWx",Zn="WithValidateMessage_componentBox__FXDFV",Qn="WithValidateMessage_messageBox__Mc3qF",Xn=e=>{const{form:n,nevervalidate:t=!1,id:a="","aria-invalid":s,children:r,className:o,style:d={},...c}=e,u=(0,l.useMemo)((()=>{let e="";if(!t&&n&&a&&"true"===s){const t=a.split("_");let l=[];l=t.length>=3?n.getFieldError([t[0],Number(t[1]),t[2]]):n.getFieldError(t[0]),e=l[0]}return e}),[n,t,a,s]);return(0,i.jsxs)("div",{className:`${Yn}${o?` ${o}`:""}`,style:d,children:[(0,i.jsx)("div",{className:Zn,style:{width:t?"100%":"calc(100% - 28px)"},children:r?l.cloneElement(r,{...c,"aria-invalid":s,id:a}):null}),!t&&!!u&&(0,i.jsx)("div",{className:Qn,children:(0,i.jsx)(f.A,{title:u,children:(0,i.jsx)(Un.A,{})})})]})},Gn=/^([\w+-.%]+@[\w-.]+\.[A-Za-z]{2,4})(;[\w+-.]+@[\w-.]+\.[A-Za-z]{2,4})*$/,Jn=[{required:!0,message:"必填项"}],et=[{required:!0,message:"请选择"}],nt=[{validator:(e,n)=>n&&n.length>0&&(n[0]||0===n[0]||n[1])?(n[0]||0===n[0])&&n[1]?Promise.resolve():Promise.reject("两个都必填"):Promise.reject("必填项")}],tt=[{validator:(e,n)=>{if(!(n&&n.length>0))return Promise.reject("邮箱必填");{let e=!1;for(let t=0,l=n.length;t<l;t++){const l=n[t];if(!(l&&l[0]&&l[0].trim()))return Promise.reject("邮箱必填");Gn.test(l[0].trim())||(e=!0)}if(e)return Promise.reject("邮箱格式不正确")}return Promise.resolve()}}],lt=()=>{const[e]=je.A.useForm();return(0,i.jsx)(je.A,{form:e,labelAlign:"right",children:(0,i.jsxs)(_e.A,{gutter:16,children:[(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field1",rules:Jn,children:(0,i.jsx)(Xn,{form:e,children:(0,i.jsx)(Te.A,{})})})}),(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field2",rules:et,children:(0,i.jsx)(Xn,{form:e,children:(0,i.jsx)(He.A,{options:[{label:"A",value:"a"},{label:"B",value:"b"}]})})})}),(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field3",rules:nt,required:!0,validateStatus:"",children:(0,i.jsx)(Xn,{form:e,children:(0,i.jsx)(en,{options:[{name:"工作日",id:"workingDay"},{name:"自然日",id:"naturalDay"}],inputNumberProps:{addonAfter:"个"},selectProps:{fieldNames:{label:"name",value:"id"},allowClear:!0},setInputNumberStatus:e=>!e||!e[0]&&0!==e[0]?"error":"",setSelectStatus:e=>e&&e[1]?"":"error"})})})}),(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"字段标题",name:"field4",rules:Jn,children:(0,i.jsx)(Xn,{form:e,children:(0,i.jsx)(We,{checkboxLabel:"复选框标题"})})})}),(0,i.jsx)(Ae.A,{span:12,children:(0,i.jsx)(je.A.Item,{label:"邮箱",name:"field5",rules:tt,required:!0,validateStatus:"",children:(0,i.jsx)(Xn,{form:e,children:(0,i.jsx)(hn,{maxRows:5,children:(0,i.jsx)(We,{checkboxLabel:"是否同步到平台",setInputStatus:e=>e&&e[0]&&e[0].trim()&&Gn.test(e[0].trim())?"":"error"})})})})}),(0,i.jsx)(Ae.A,{span:24,style:{display:"flex",justifyContent:"flex-end",paddingRight:"30px"},children:(0,i.jsx)(D.Ay,{type:"primary",onClick:async()=>{try{const n=await(e?.validateFields());console.log("values:",n)}catch(e){}},children:"提交"})})]})})},at="WithValidateMessageSample_container__z3ia8",st=[{fileName:"index.tsx",code:'import React from "react";\nimport { Form, Row, Col, Input, Select, Button } from "antd";\nimport WithValidateMessage from "@/components/formItems/WithValidateMessage";\nimport CanAddMultiple from "@/components/formItems/CanAddMultiple";\nimport InputAndCheckbox from "@/components/formItems/InputAndCheckbox";\nimport type { Value as InputAndCheckboxValue } from "@/components/formItems/InputAndCheckbox";\nimport InputNumberAndSelect from "@/components/formItems/InputNumberAndSelect";\nimport type { Value as InputNumberAndSelectValue } from "@/components/formItems/InputNumberAndSelect";\n\nconst EMAIL_PATTERN =\n  /^([w+-.%]+@[w-.]+.[A-Za-z]{2,4})(;[w+-.]+@[w-.]+.[A-Za-z]{2,4})*$/;\n\nconst REQUIRED_FORM_ITEM_RULES = [{ required: true, message: "必填项" }];\nconst CUSTOM_SELECT_RULES = [{ required: true, message: "请选择" }];\nconst INPUTNUMBER_SELECT_RULES = [\n  {\n    validator: (_: Record<string, any>, value: InputNumberAndSelectValue) => {\n      if (value && value.length > 0) {\n        if (!value[0] && value[0] !== 0 && !value[1]) {\n          return Promise.reject("必填项");\n        } else {\n          if (!value[0] && value[0] !== 0) {\n            return Promise.reject("两个都必填");\n          }\n          if (!value[1]) {\n            return Promise.reject("两个都必填");\n          }\n        }\n      } else {\n        return Promise.reject("必填项");\n      }\n      return Promise.resolve();\n    },\n  },\n];\nconst MULTIPLE_EMAIL_RULES = [\n  {\n    validator: (\n      _: Record<string, any>,\n      value: ([string | undefined, boolean | undefined] | undefined)[]\n    ) => {\n      if (value && value.length > 0) {\n        let hasBadValue = false;\n        for (let i = 0, l = value.length; i < l; i++) {\n          const item = value[i];\n          if (!item || !item[0] || !item[0].trim()) {\n            return Promise.reject("邮箱必填");\n          } else if (!EMAIL_PATTERN.test(item[0].trim())) {\n            hasBadValue = true;\n          }\n        }\n        if (hasBadValue) {\n          return Promise.reject("邮箱格式不正确");\n        }\n      } else {\n        return Promise.reject("邮箱必填");\n      }\n      return Promise.resolve();\n    },\n  },\n];\n\nconst Content = () => {\n  const [form] = Form.useForm();\n\n  // 点击提交\n  const onSubmit = async () => {\n    try {\n      const values = await form?.validateFields();\n      console.log("values:", values);\n    } catch (err) {}\n  };\n\n  return (\n    <Form form={form} labelAlign=\'right\'>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item\n            label=\'字段标题\'\n            name=\'field1\'\n            rules={REQUIRED_FORM_ITEM_RULES}\n          >\n            <WithValidateMessage form={form}>\n              <Input />\n            </WithValidateMessage>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label=\'字段标题\' name=\'field2\' rules={CUSTOM_SELECT_RULES}>\n            <WithValidateMessage form={form}>\n              <Select\n                options={[\n                  { label: "A", value: "a" },\n                  { label: "B", value: "b" },\n                ]}\n              />\n            </WithValidateMessage>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item\n            label=\'字段标题\'\n            name=\'field3\'\n            rules={INPUTNUMBER_SELECT_RULES}\n            required\n            validateStatus=\'\'\n          >\n            <WithValidateMessage form={form}>\n              <InputNumberAndSelect\n                options={[\n                  { name: "工作日", id: "workingDay" },\n                  { name: "自然日", id: "naturalDay" },\n                ]}\n                inputNumberProps={{ addonAfter: "个" }}\n                selectProps={{\n                  fieldNames: { label: "name", value: "id" },\n                  allowClear: true,\n                }}\n                setInputNumberStatus={(\n                  value: InputNumberAndSelectValue | undefined\n                ) => {\n                  if (!value || (!value[0] && value[0] !== 0)) {\n                    return "error";\n                  }\n                  return "";\n                }}\n                setSelectStatus={(\n                  value: InputNumberAndSelectValue | undefined\n                ) => {\n                  if (!value || !value[1]) {\n                    return "error";\n                  }\n                  return "";\n                }}\n              />\n            </WithValidateMessage>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item\n            label=\'字段标题\'\n            name=\'field4\'\n            rules={REQUIRED_FORM_ITEM_RULES}\n          >\n            <WithValidateMessage form={form}>\n              <InputAndCheckbox checkboxLabel=\'复选框标题\' />\n            </WithValidateMessage>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item\n            label=\'邮箱\'\n            name=\'field5\'\n            rules={MULTIPLE_EMAIL_RULES}\n            required\n            validateStatus=\'\'\n          >\n            <WithValidateMessage form={form}>\n              <CanAddMultiple maxRows={5}>\n                <InputAndCheckbox\n                  checkboxLabel=\'是否同步到平台\'\n                  setInputStatus={(\n                    value: InputAndCheckboxValue | undefined\n                  ) => {\n                    if (\n                      !value ||\n                      !value[0] ||\n                      !value[0].trim() ||\n                      !EMAIL_PATTERN.test(value[0].trim())\n                    ) {\n                      return "error";\n                    }\n                    return "";\n                  }}\n                />\n              </CanAddMultiple>\n            </WithValidateMessage>\n          </Form.Item>\n        </Col>\n        <Col\n          span={24}\n          style={{\n            display: "flex",\n            justifyContent: "flex-end",\n            paddingRight: "30px",\n          }}\n        >\n          <Button type=\'primary\' onClick={onSubmit}>\n            提交\n          </Button>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default Content;'}].concat([{fileName:"WithValidateMessage.tsx",code:'/**\n * 用于显示自定义校验信息的FormItem组件的包装组件(注意：如果子组件需要传onChange属性，则必须由该包装组件进行传递，不能写在子组件里；要在外层组件中将.ant-form-item-explain类样式的display属性覆盖为none)\n */\nimport React, { useMemo, ReactElement } from "react";\nimport { Tooltip, type FormInstance } from "antd";\nimport { ExclamationCircleOutlined } from "@ant-design/icons";\nimport styles from "./index.module.scss";\n\ntype WithValidateMessageProps = {\n  form?: FormInstance | null; // form对象，nevervalidate为true时可以不传\n  nevervalidate?: boolean; // 是否绝对不会进行校验，该值为true时，组件后面不会有校验信息的图标，也不会占用空间\n  id?: string; // Form.Item组件自动传入\n  "aria-invalid"?: string; // Form校验时会自动传入"true"\n  children?: ReactElement | null; // children必须是支持value和onChange属性的组件\n  className?: string;\n  style?: Record<string, any>;\n} & { [key in string]: any };\n\nconst WithValidateMessage = (props: WithValidateMessageProps) => {\n  const {\n    form,\n    nevervalidate = false,\n    id = "",\n    ["aria-invalid"]: invalid,\n    children,\n    className,\n    style = {},\n    ...restProps\n  } = props;\n\n  // 获取校验信息\n  const errorMessage = useMemo(() => {\n    let str = "";\n    if (!nevervalidate && form && id && invalid === "true") {\n      const namePath = id.split("_");\n      let errorList = [];\n      // 兼容Form.List\n      if (namePath.length >= 3) {\n        errorList = form.getFieldError([\n          namePath[0],\n          Number(namePath[1]),\n          namePath[2],\n        ]);\n      } else {\n        errorList = form.getFieldError(namePath[0]);\n      }\n      str = errorList[0];\n    }\n    return str;\n  }, [form, nevervalidate, id, invalid]);\n\n  return (\n    <div\n      className={`${styles.container}${className ? ` ${className}` : ""}`}\n      style={style}\n    >\n      <div\n        className={styles.componentBox}\n        style={{ width: nevervalidate ? "100%" : "calc(100% - 28px)" }}\n      >\n        {children\n          ? React.cloneElement(children, {\n              ...restProps,\n              "aria-invalid": invalid,\n              id,\n            })\n          : null}\n      </div>\n      {!nevervalidate && !!errorMessage && (\n        <div className={styles.messageBox}>\n          <Tooltip title={errorMessage}>\n            <ExclamationCircleOutlined />\n          </Tooltip>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WithValidateMessage;'},{fileName:"WithValidateMessage.module.scss",code:".container {\n  width: 100%;\n  display: flex;\n  $messageWidth: 26px;\n  .componentBox {\n    display: flex;\n    align-items: center;\n  }\n  .messageBox {\n    width: $messageWidth;\n    height: $messageWidth;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 3px;\n    margin-left: 2px;\n    svg {\n      width: 18px;\n      height: 18px;\n      path {\n        fill: $globalRedColor;\n      }\n    }\n  }\n}"}]),it=()=>(0,i.jsx)(me,{className:at,title:"用于显示自定义校验信息的FormItem组件的包装组件",codeParams:st,children:(0,i.jsx)(lt,{})}),rt="FormItemSection_container__aQMvM",ot="FormItemSection_sample__7pqvq",dt=[(0,i.jsx)(Ne,{}),(0,i.jsx)(Ee,{}),(0,i.jsx)(Ze,{}),(0,i.jsx)(an,{}),(0,i.jsx)(gn,{}),(0,i.jsx)(zn,{}),(0,i.jsx)(it,{})],ct=()=>(0,i.jsx)("div",{className:rt,children:dt.map(((e,n)=>(0,i.jsx)("div",{className:ot,children:e},n)))});var ut=t(9237),mt=t(401),ht=t(5059),pt=t(1475);const xt="DraggableFormListContext_draggableRow__nIx6b",bt="DraggableFormListContext_defaultBtn__JLXQk",ft="DraggableFormListContext_disabled__tQWcQ",vt="DraggableFormListContext_removeBtn__+PPAc",gt=e=>{const{quote:n,index:t,children:l,remove:a,onToTop:s,disabled:r=!1}=e;return(0,i.jsx)(mt.sx,{draggableId:n.key.toString(),index:t,children:e=>(0,i.jsx)("div",{ref:e.innerRef,...e.draggableProps,children:(0,i.jsxs)("div",{className:xt,children:[(0,i.jsx)("div",{...r?{}:e.dragHandleProps,className:`${bt}${r?` ${ft}`:""}`,style:{marginRight:"8px"},children:(0,i.jsx)(ht.A,{})}),l,a&&(0,i.jsx)("div",{className:`${vt}${r?` ${ft}`:""}`,style:{marginLeft:"10px"},onClick:()=>{r||a(t)},children:(0,i.jsx)(rn.A,{})}),s&&(0,i.jsx)("div",{className:`${bt}${r?` ${ft}`:""}`,style:{marginLeft:"10px"},onClick:()=>{0!==t&&(r||s(t))},children:(0,i.jsx)(pt.A,{})})]})})})},yt=e=>{const{droppableId:n="",fields:t,move:a,children:s,remove:r,showToTop:o=!1,disabled:d}=e,c=be(d),u=(0,l.useCallback)((e=>{a(e,0)}),[]);return(0,i.jsx)(mt.JY,{onDragEnd:e=>{const{source:n,destination:t}=e;if(n&&t&&n.droppableId==t.droppableId&&n.index!==t.index){const e=n.index,l=t.index;a(e,l)}},children:(0,i.jsx)(mt.gL,{droppableId:n,children:e=>(0,i.jsx)("div",{ref:e.innerRef,...e.droppableProps,children:t.map(((e,n)=>{const{key:t,...l}=e;return(0,i.jsx)(gt,{quote:e,index:n,remove:r,onToTop:o?u:null,disabled:c,children:s(l,n)},t)}))})})})},kt=(e,n)=>{const[t,a]=(0,l.useState)(0);return(0,l.useEffect)((()=>{if(e.current){const{clientHeight:n}=e.current;a(n)}}),[]),{droppableHeight:t,setDroppableHeight:a,onAdd:e=>{a((e=>e+n)),e?.()},onRemove:(e,t)=>{a((e=>Math.max(e-n,0))),e?.(t)}}},jt="DraggableFormListSample_container__x0PmK",_t="DraggableFormListSample_itemTitleRow__W0a+q",At="DraggableFormListSample_formListRow__v94NW",Ct=()=>{const[e]=je.A.useForm(),n=(0,l.useRef)(null),{droppableHeight:t,onAdd:a,onRemove:s}=kt(n,48),r=(0,l.useRef)(1);return(0,i.jsx)(me,{title:"可上下拖拽排序的Form.List的包装组件",className:jt,children:(0,i.jsx)(je.A,{form:e,labelAlign:"right",initialValues:{fieldList:[{id:"1",field1:"默认值",field2:"workingDay",field3:["默认值",!0],field4:[x()(),x()(),!1]}]},children:(0,i.jsx)(je.A.List,{name:"fieldList",children:(e,l)=>{let{add:o,move:d,remove:c}=l;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:_t,children:(0,i.jsx)(D.Ay,{type:"primary",icon:(0,i.jsx)(ut.A,{}),ghost:!0,onClick:()=>(e=>{r.current>=5?Y.Ay.warning("最多可增加5条数据"):(a(e),r.current=r.current+1)})(o),children:"新增"})}),(0,i.jsx)("div",{style:{width:"100%",height:t>0?`${t}px`:"auto"},ref:n,children:(0,i.jsx)(yt,{droppableId:"fieldList",fields:e,showToTop:!0,move:d,remove:e=>((e,n)=>{r.current<=1?Y.Ay.warning("最少要有1条数据"):(s(e,n),r.current=r.current-1)})(c,e),children:e=>(0,i.jsxs)("div",{className:At,children:[(0,i.jsx)(je.A.Item,{...e,name:[e.name,"id"],hidden:!0}),(0,i.jsx)(je.A.Item,{...e,label:"字段1",name:[e.name,"field1"],children:(0,i.jsx)(Te.A,{})}),(0,i.jsx)(je.A.Item,{...e,label:"字段2",name:[e.name,"field2"],children:(0,i.jsx)(He.A,{options:[{label:"工作日",value:"workingDay"},{label:"自然日",value:"naturalDay"}],style:{width:"200px"}})}),(0,i.jsx)(je.A.Item,{...e,label:"字段3",name:[e.name,"field3"],children:(0,i.jsx)(We,{})}),(0,i.jsx)(je.A.Item,{...e,label:"字段4",name:[e.name,"field4"],children:(0,i.jsx)(Me,{})})]})})})]})}})})})},St="DraggableWithValidateFormListSample_container__6VHhw",Pt="DraggableWithValidateFormListSample_itemTitleRow__KkWRb",Nt="DraggableWithValidateFormListSample_formListRow__1BmxV",It=[{required:!0,message:"必填项"}],wt=()=>{const[e]=je.A.useForm(),n=(0,l.useRef)(null),{droppableHeight:t,onAdd:a,onRemove:s}=kt(n,48),r=(0,l.useRef)(1);return(0,i.jsx)(me,{className:St,title:"可上下拖拽排序且显示自定义校验信息的Form.List",children:(0,i.jsxs)(je.A,{form:e,labelAlign:"right",initialValues:{fieldList:[{}]},children:[(0,i.jsx)(je.A.List,{name:"fieldList",children:(l,o)=>{let{add:d,move:c,remove:u}=o;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:Pt,children:(0,i.jsx)(D.Ay,{type:"primary",icon:(0,i.jsx)(ut.A,{}),ghost:!0,onClick:()=>(e=>{r.current>=5?Y.Ay.warning("最多可增加5条数据"):(a(e),r.current=r.current+1)})(d),children:"新增"})}),(0,i.jsx)("div",{style:{width:"100%",height:t>0?`${t}px`:"auto"},ref:n,children:(0,i.jsx)(yt,{droppableId:"fieldList",fields:l,showToTop:!0,move:c,remove:e=>((e,n)=>{r.current<=1?Y.Ay.warning("最少要有1条数据"):(s(e,n),r.current=r.current-1)})(u,e),children:n=>(0,i.jsxs)("div",{className:Nt,children:[(0,i.jsx)(je.A.Item,{...n,name:[n.name,"id"],hidden:!0}),(0,i.jsx)(je.A.Item,{...n,label:"字段1",name:[n.name,"field1"],rules:It,children:(0,i.jsx)(Xn,{form:e,style:{width:"214px"},children:(0,i.jsx)(Te.A,{})})}),(0,i.jsx)(je.A.Item,{...n,label:"字段2",name:[n.name,"field2"],rules:It,children:(0,i.jsx)(Xn,{form:e,style:{width:"214px"},children:(0,i.jsx)(He.A,{options:[{label:"工作日",value:"workingDay"},{label:"自然日",value:"naturalDay"}],style:{width:"200px"}})})}),(0,i.jsx)(je.A.Item,{...n,label:"字段3",name:[n.name,"field3"],rules:It,children:(0,i.jsx)(Xn,{form:e,style:{width:"214px"},children:(0,i.jsx)(We,{})})}),(0,i.jsx)(je.A.Item,{...n,label:"字段4",name:[n.name,"field4"],rules:It,children:(0,i.jsx)(Xn,{form:e,style:{width:"294px"},children:(0,i.jsx)(Me,{})})})]})})})]})}}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,i.jsx)(D.Ay,{type:"primary",onClick:async()=>{try{const n=await(e?.validateFields());console.log("values:",n)}catch(e){}},children:"提交"})})]})})},Rt="FormListSection_container__9--VJ",Ft="FormListSection_sample__M7-lo",Mt=[(0,i.jsx)(Ct,{}),(0,i.jsx)(wt,{})],Vt=()=>(0,i.jsx)("div",{className:Rt,children:Mt.map(((e,n)=>(0,i.jsx)("div",{className:Ft,children:e},n)))});var Dt=t(770),Lt=t(3438),Et=t(9763),Tt=t(4783),Ot=t(7192);const $t="EditableTable_editableTable__8yjKc",{RangePicker:Bt}=he.A,Wt=/^([\w+-.%]+@[\w-.]+\.[A-Za-z]{2,4})(;[\w+-.]+@[\w-.]+\.[A-Za-z]{2,4})*$/,Kt=l.createContext(null),Ht=e=>{let{form:n,editType:t,editProps:a,component:s,disabled:r,dataIndex:o,record:d,save:c}=e;const u={...a,disabled:a.disabled||r};delete u.validateStatus;const m=()=>c(o);let h=(0,i.jsx)(Te.A,{style:{width:"100%"},onBlur:m,...u});switch(t){case"inputNumber":h=(0,i.jsx)(Qe.A,{style:{width:"100%"},onBlur:m,...u});break;case"select":h=(0,i.jsx)(He.A,{style:{width:"100%"},...u});break;case"datePicker":h=(0,i.jsx)(he.A,{style:{width:"100%"},...u});break;case"rangePicker":h=(0,i.jsx)(Bt,{style:{width:"100%"},...u});break;case"radioGroup":h=(0,i.jsx)(Dt.Ay.Group,{...u});break;case"checkboxGroup":h=(0,i.jsx)(pe.A.Group,{...u});break;case"cascader":h=(0,i.jsx)(Lt.A,{style:{width:"100%"},...u})}return s&&(h=l.cloneElement(s,{record:d,...u})),(0,i.jsx)(Xn,{onChange:(e,n)=>{if(!t&&!s||["input","inputNumber"].includes(t))return;if("radioGroup"===t)return void c?.(o,e?.target?.value||void 0);const l=e?.target?"":e;c?.(o,l),a.onChange?.(l,n,d)},form:n,nevervalidate:!!a.nevervalidate,children:h})},qt=l.memo((e=>{const{rowKey:n="id",editable:t=!1,editType:a="input",editProps:s,component:r,disabled:o,dataIndex:d,record:c,children:u,ruleOptions:m,rules:h,handleSave:p,...x}=e,b=(0,l.useContext)(Kt);let f=s||{};"function"==typeof s&&(f=s(c)||{});const v=(0,l.useMemo)((()=>{let e=[];return h&&h.length>0?e=h:(m?.isRequired&&e.push({required:!0,message:"必填项"}),m?.isEmail&&e.push({pattern:Wt,message:"请输入正确邮箱格式"})),e}),[m,h]),g=async(e,n)=>{const t=n||await(b?.getFieldValue(e)),l={...c,[e]:t};p?.(l);try{await(b?.validateFields([e]))}catch(e){}};(0,l.useEffect)((()=>{b?.setFieldsValue({[d]:c?.[d]})}),[]);let y=u;return t?y=(0,i.jsx)(je.A.Item,{style:{margin:0},name:d,rules:v,required:!!m?.isRequired,validateStatus:f.validateStatus,children:Ht({editType:a,editProps:f,component:r,disabled:o,dataIndex:d,record:c,form:b,save:g})}):d===n&&(y=(0,i.jsx)(je.A.Item,{style:{margin:0},name:d,hidden:!0})),(0,i.jsx)("td",{title:o?c?.[d]:"",...x,children:y})}));class zt extends l.PureComponent{render(){return(0,i.jsx)(qt,{...(0,Ot.A)(this.props,["onMouseEnter","onMouseLeave"])})}}const Ut=e=>{let{rowKey:n,onFromaValuesChange:t,...l}=e;const[a]=je.A.useForm();return(0,i.jsx)(je.A,{form:a,onValuesChange:(e,s)=>{t?.(e,a,{...s,[n]:l["data-row-key"]})},component:!1,children:(0,i.jsx)(Kt.Provider,{value:a,children:(0,i.jsx)("tr",{...l})})})},Yt=e=>{let{rowKey:n="id",dataSource:t,columns:a,setDataSource:s,disabled:r=!1,onFormValuesChange:o,deleteRowCallback:d,...c}=e;const u=(0,l.useMemo)((()=>({body:{row:e=>(0,i.jsx)(Ut,{...e,rowKey:n,onFromaValuesChange:o}),cell:zt}})),[]),m=e=>{const l=t.map((t=>t[n]===e[n]?{...t,...e}:t));setTimeout((()=>{s(l)}))},h=(0,l.useMemo)((()=>a.map((e=>({...e,onCell:n=>({editable:e.editable,editType:e.editType,editProps:e.editProps,component:e.component,disabled:r,dataIndex:e.dataIndex,record:n,ruleOptions:e.ruleOptions,rules:e.rules,handleSave:m})})))),[a,r,m]),p=[...h,{title:"操作",key:"action",dataIndex:"action",align:"center",width:80,fixed:"right",render:(e,l)=>(0,i.jsx)("div",{style:{padding:0},children:r?(0,i.jsx)(D.Ay,{type:"link",danger:!0,disabled:!0,children:"删除"}):(0,i.jsxs)(Et.A,{title:"是否确定删除此行？",onConfirm:()=>{(e=>{const l=t.filter((t=>t[n]!==e[n]));s(l),d?.(e)})(l)},children:[(0,i.jsx)(D.Ay,{style:{padding:0},type:"link",danger:!0,children:"删除"})," "]})})}];return(0,i.jsx)("div",{className:$t,children:(0,i.jsx)(Tt.A,{rowKey:n,columns:p,components:u,dataSource:t,pagination:!1,tableLayout:"fixed",bordered:!0,...c})})},Zt="EditableTableSample_container__NVS4M",Qt="EditableTableSample_itemTitleRow__cXagi",Xt="EditableTableSample_columnTitle__R1Y+H",Gt="EditableTableSample_requiredIcon__3n192",Jt=[{validator:(e,n)=>n&&n.length>0&&(n[0]||0===n[0]||n[1])?(n[0]||0===n[0])&&n[1]?Promise.resolve():Promise.reject("两个都必填"):Promise.reject("必填项")}],el=()=>{const[e,n]=(0,l.useState)([]),t=[{title:(0,i.jsxs)("div",{className:Xt,children:[(0,i.jsx)("span",{className:Gt,children:"*"}),(0,i.jsx)("span",{children:"邮箱"})]}),dataIndex:"email",width:160,editable:!0,ruleOptions:{isRequired:!0,isEmail:!0}},{title:(0,i.jsxs)("div",{className:Xt,children:[(0,i.jsx)("span",{className:Gt,children:"*"}),(0,i.jsx)("span",{children:"日期"})]}),dataIndex:"date",width:140,editable:!0,editType:"datePicker",ruleOptions:{isRequired:!0}},{title:"日期类型",dataIndex:"dateType",width:120,editable:!0,editType:"select",editProps:{options:[{label:"年",value:"year"},{label:"月",value:"month"},{label:"天",value:"day"}],allowClear:!0,nevervalidate:!0}},{title:"是否提交",dataIndex:"isSubmit",width:120,editable:!0,editType:"radioGroup",editProps:{options:[{label:"是",value:"1"},{label:"否",value:"0"}],nevervalidate:!0}},{title:(0,i.jsxs)("div",{className:Xt,children:[(0,i.jsx)("span",{className:Gt,children:"*"}),(0,i.jsx)("span",{children:"交易日"})]}),dataIndex:"field",width:240,editable:!0,component:(0,i.jsx)(en,{options:[{label:"工作日",value:"workingDay"},{label:"自然日",value:"naturalDay"}],inputNumberProps:{addonAfter:"个"},setInputNumberStatus:e=>!e||!e[0]&&0!==e[0]?"error":"",setSelectStatus:e=>e&&e[1]?"":"error"}),editProps:{validateStatus:""},ruleOptions:{isRequired:!0},rules:Jt}];return(0,i.jsxs)(me,{className:Zt,title:"可进行编辑的表格组件",children:[(0,i.jsx)("div",{className:Qt,children:(0,i.jsx)(D.Ay,{type:"primary",icon:(0,i.jsx)(ut.A,{}),ghost:!0,onClick:()=>{if(e.length>=5)return void Y.Ay.warning("最多可增加5条数据");const t=[...e,{id:`ROW_ID_${le()}`}];n(t)},children:"新增"})}),(0,i.jsx)(Yt,{columns:t,dataSource:e,setDataSource:n})]})},nl="table_container__jiecw",tl="table_sample__jVvCw",ll=[(0,i.jsx)(el,{})],al=()=>(0,i.jsx)("div",{className:nl,children:ll.map(((e,n)=>(0,i.jsx)("div",{className:tl,children:e},n)))}),sl=[{path:"/form",children:[{path:"/form/formItemSection",element:(0,i.jsx)(ct,{})},{path:"/form/formListSection",element:(0,i.jsx)(Vt,{})}]},{path:"/table",element:(0,i.jsx)(al,{})}],il=[{path:"/*",element:(0,i.jsx)(U,{})}];x().locale("zh-cn");const rl=()=>{const e=(0,u.Ye)(il);return(0,i.jsx)("div",{className:"app_container",translate:"no",children:(0,i.jsx)(m.Ay,{locale:h.A,children:e})})},ol=document.getElementById("root");ol&&(0,a.H)(ol).render((0,i.jsx)(d,{children:(0,i.jsx)(s.I9,{children:(0,i.jsx)(rl,{})})}))}},a={};function s(e){var n=a[e];if(void 0!==n)return n.exports;var t=a[e]={id:e,loaded:!1,exports:{}};return l[e].call(t.exports,t,t.exports,s),t.loaded=!0,t.exports}s.m=l,e=[],s.O=(n,t,l,a)=>{if(!t){var i=1/0;for(c=0;c<e.length;c++){t=e[c][0],l=e[c][1],a=e[c][2];for(var r=!0,o=0;o<t.length;o++)(!1&a||i>=a)&&Object.keys(s.O).every((e=>s.O[e](t[o])))?t.splice(o--,1):(r=!1,a<i&&(i=a));if(r){e.splice(c--,1);var d=l();void 0!==d&&(n=d)}}return n}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[t,l,a]},s.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return s.d(n,{a:n}),n},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,l){if(1&l&&(e=this(e)),8&l)return e;if("object"==typeof e&&e){if(4&l&&e.__esModule)return e;if(16&l&&"function"==typeof e.then)return e}var a=Object.create(null);s.r(a);var i={};n=n||[null,t({}),t([]),t(t)];for(var r=2&l&&e;"object"==typeof r&&!~n.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((n=>i[n]=()=>e[n]));return i.default=()=>e,s.d(a,i),a},s.d=(e,n)=>{for(var t in n)s.o(n,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var n=s.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");if(t.length)for(var l=t.length-1;l>-1&&(!e||!/^http(s?):/.test(e));)e=t[l--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{var e={792:0};s.O.j=n=>0===e[n];var n=(n,t)=>{var l,a,i=t[0],r=t[1],o=t[2],d=0;if(i.some((n=>0!==e[n]))){for(l in r)s.o(r,l)&&(s.m[l]=r[l]);if(o)var c=o(s)}for(n&&n(t);d<i.length;d++)a=i[d],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},t=self.webpackChunkcomposite_component_library=self.webpackChunkcomposite_component_library||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var i=s.O(void 0,[874,134],(()=>s(7208)));i=s.O(i)})();