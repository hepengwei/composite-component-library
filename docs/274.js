"use strict";(self.webpackChunkcomposite_component_library=self.webpackChunkcomposite_component_library||[]).push([[274],{274:(e,n,t)=>{t.r(n),t.d(n,{default:()=>B});var a=t(6540),i=t(7186),s=t(1935),o=t(5202),l=t(8826),c=t(3939),d=t(6731),m=t(4384),r=t(4848);const u=e=>{const{rowKey:n="randomId",columns:t,dataSource:i,getDataSource:s,isLoading:o,selectedRows:m,setSelectedRows:u,pagination:g,setPagination:p,multiSelect:w,multiSelectOptions:S,singleSelect:h,singleSelectOptions:f,...y}=e,T=(0,a.useRef)(null),R=(0,a.useRef)(null),N=(0,a.useMemo)((()=>{if(g&&p)return(0,c.lS)(g,(async e=>{let{pageNum:n,pageSize:t}=e;await(p?.({pageNum:n,pageSize:t})),s({pageNum:n,pageSize:t})}))}),[g,p]),b=(0,a.useMemo)((()=>w?{value:m?.map((e=>e[n])),onChange:e=>{const t=i.filter((t=>e.includes(t[n])));u(t)},sotpClickEventPropagation:!0,ref:T,...S||{}}:{}),[w,m,S,i]),A=(0,a.useMemo)((()=>h?{value:m?.[0]?.[n]||"",onChange:e=>{const t=i.filter((t=>t[n]===e));u(t)},ref:R,...f||{}}:{}),[h,m,f,i]);(0,a.useEffect)((()=>{o&&(T?.current?.clear(),R?.current?.clear())}),[o]);const D=(0,a.useMemo)((()=>m?.map((e=>e[n]))||[]),[m]),_=(0,a.useMemo)((()=>"randomId"===n&&i?.length>0?i.map((e=>({...e,randomId:(0,d.r9)(12)}))):i),[i]);return(0,r.jsx)(l.A,{rowKey:n,resize:!0,autoHeight:!0,recalculateHeight:!0,isLoading:o,columns:t,dataSource:_,pagination:N,selectedRowKeys:D,onRowClick:e=>{const t=e[n],a=m?.find((e=>e[n]===t));if(h){if(m&&m[0]?.[n]===t)return;R.current?.setSelectedRow(e)}else{if(a&&1===m?.length)return u?.([]),void T?.current?.clear();T?.current?.setSelectedRows([e])}u?.([e])},multiSelect:w,multiSelectOptions:b,singleSelect:h,singleSelectOptions:A,...y})},g=[{fileName:"AliMainTable.tsx",code:m.WU}].concat(l.w),p="AliMainTableSample_container__4p9q8",w="AliMainTableSample_itemTitleRow__TPFna",S="AliMainTableSample_content__pN7r-",h={pageNum:1,pageSize:10,total:0},f=()=>{const[e,n]=(0,a.useState)(!1),[t,i]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[m,g]=(0,a.useState)(h),p=e=>{g({...m,...e})},f=async e=>{n(!0),e=e||m;const t=await(0,d.AJ)({pageNum:e.pageNum,pageSize:e.pageSize});n(!1),c([]),t?(p({...e,total:t.total}),i(t.data)):(p({...e,total:0}),i([]))};return(0,a.useEffect)((()=>{f()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:w,children:(0,r.jsx)(o.Ay,{type:"primary",ghost:!0,onClick:()=>{l&&0!==l.length?s.Ay.success(`当前选择的数据序号为: ${l[0].id}`):s.Ay.warning("请先选择一条数据")},children:"编辑"})}),(0,r.jsx)("div",{className:S,children:(0,r.jsx)(u,{isLoading:e,columns:[{name:"序号",code:"id",width:80,lock:"left"},{name:"邮箱",code:"email",width:180},{name:"日期",code:"date",width:180},{name:"日期类型",code:"dateType",width:150,render:e=>"workingDay"===e?"工作日":"naturalDay"===e?"自然日":""},{name:"备注",code:"remark",width:300,ellipsis:!0},{name:"字段1",code:"email",width:150},{name:"字段2",code:"email",width:150},{name:"字段3",code:"email",width:150},{name:"字段4",code:"email",width:150},{name:"字段5",code:"email",width:150},{name:"字段6",code:"email",width:150}],dataSource:t,getDataSource:f,selectedRows:l,setSelectedRows:c,pagination:m,setPagination:p})})]})},y=[{fileName:"index.tsx",code:'import React, { useEffect, useState } from "react";\nimport { Button, message } from "antd";\nimport AliMainTable from "@/components/AliTable/AliMainTable";\nimport type { ArtColumn2 } from "@/components/AliTable";\nimport { requestMockData } from "utils/util";\nimport styles from "./index.module.scss";\n\nconst INIT_PAGINATION = {\n  pageNum: 1,\n  pageSize: 10,\n  total: 0,\n};\n\nconst Content = () => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [tableData, setTableData] = useState<Record<string, any>[]>([]);\n  const [selectedRows, setSelectedRows] = useState<Record<string, any>[]>([]);\n  const [pagination, setPagin] = useState<Record<string, any>>(INIT_PAGINATION);\n\n  const setPagination = (pagin: Record<string, any>) => {\n    setPagin({ ...pagination, ...pagin });\n  };\n\n  const getTableData = async (pain?: Record<string, any>) => {\n    setLoading(true);\n    pain = pain || pagination;\n    const res = await requestMockData({\n      pageNum: pain.pageNum,\n      pageSize: pain.pageSize,\n    });\n    setLoading(false);\n    setSelectedRows([]);\n    if (res) {\n      setPagination({\n        ...pain,\n        total: res.total,\n      });\n      setTableData(res.data);\n    } else {\n      setPagination({ ...pain, total: 0 });\n      setTableData([]);\n    }\n  };\n\n  const onEditClick = () => {\n    if (!selectedRows || selectedRows.length === 0) {\n      message.warning("请先选择一条数据");\n      return;\n    }\n    message.success(`当前选择的数据序号为: ${selectedRows[0].id}`);\n  };\n\n  const columns: ArtColumn2[] = [\n    {\n      name: "序号",\n      code: "id",\n      width: 80,\n      lock: "left",\n    },\n    {\n      name: "邮箱",\n      code: "email",\n      width: 180,\n    },\n    {\n      name: "日期",\n      code: "date",\n      width: 180,\n    },\n    {\n      name: "日期类型",\n      code: "dateType",\n      width: 150,\n      render: (value: string) => {\n        if (value === "workingDay") {\n          return "工作日";\n        } else if (value === "naturalDay") {\n          return "自然日";\n        }\n        return "";\n      },\n    },\n    {\n      name: "备注",\n      code: "remark",\n      width: 300,\n      ellipsis: true,\n    },\n    {\n      name: "字段1",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段2",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段3",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段4",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段5",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段6",\n      code: "email",\n      width: 150,\n    },\n  ];\n\n  useEffect(() => {\n    getTableData();\n  }, []);\n\n  return (\n    <>\n      <div className={styles.itemTitleRow}>\n        <Button type=\'primary\' ghost onClick={onEditClick}>\n          编辑\n        </Button>\n      </div>\n      <div className={styles.content}>\n        <AliMainTable\n          isLoading={loading}\n          columns={columns}\n          dataSource={tableData}\n          getDataSource={getTableData}\n          selectedRows={selectedRows}\n          setSelectedRows={setSelectedRows}\n          pagination={pagination}\n          setPagination={setPagination}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Content;'}].concat(g),T=()=>(0,r.jsx)(i.A,{className:p,title:"基于ali-react-table封装的表格组件",codeParams:y,children:(0,r.jsx)(f,{})}),R="SingleSelectTableSample_container__HsUoc",N="SingleSelectTableSample_itemTitleRow__M50Z3",b="SingleSelectTableSample_content__76hZG",A={pageNum:1,pageSize:10,total:0},D=()=>{const[e,n]=(0,a.useState)(!1),[t,i]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[m,g]=(0,a.useState)(A),p=e=>{g({...m,...e})},w=async e=>{n(!0),e=e||m;const t=await(0,d.AJ)({pageNum:e.pageNum,pageSize:e.pageSize});n(!1),c([]),t?(p({...e,total:t.total}),i(t.data)):(p({...e,total:0}),i([]))};return(0,a.useEffect)((()=>{w()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:N,children:(0,r.jsx)(o.Ay,{type:"primary",ghost:!0,onClick:()=>{l&&0!==l.length?s.Ay.success(`当前选择的数据序号为: ${l[0].id}`):s.Ay.warning("请先选择一条数据")},children:"编辑"})}),(0,r.jsx)("div",{className:b,children:(0,r.jsx)(u,{rowKey:"id",autoHeight:!0,isLoading:e,columns:[{name:"序号",code:"id",width:80,lock:"left"},{name:"邮箱",code:"email",width:180},{name:"日期",code:"date",width:180},{name:"日期类型",code:"dateType",width:150,render:e=>"workingDay"===e?"工作日":"naturalDay"===e?"自然日":""},{name:"备注",code:"remark",width:300,ellipsis:!0},{name:"字段1",code:"email",width:150},{name:"字段2",code:"email",width:150},{name:"字段3",code:"email",width:150},{name:"字段4",code:"email",width:150},{name:"字段5",code:"email",width:150},{name:"字段6",code:"email",width:150}],dataSource:t,getDataSource:w,selectedRows:l,setSelectedRows:c,pagination:m,setPagination:p,singleSelect:!0})})]})},_=[{fileName:"index.tsx",code:'import React, { useEffect, useState, useMemo } from "react";\nimport { Button, message } from "antd";\nimport AliMainTable from "@/components/AliTable/AliMainTable";\nimport { ArtColumn2 } from "@/components/AliTable";\nimport { requestMockData } from "utils/util";\nimport styles from "./index.module.scss";\n\nconst INIT_PAGINATION = {\n  pageNum: 1,\n  pageSize: 10,\n  total: 0,\n};\n\nconst Content = () => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [tableData, setTableData] = useState<Record<string, any>[]>([]);\n  const [selectedRows, setSelectedRows] = useState<Record<string, any>[]>([]);\n  const [pagination, setPagin] = useState<Record<string, any>>(INIT_PAGINATION);\n\n  const setPagination = (pagin: Record<string, any>) => {\n    setPagin({ ...pagination, ...pagin });\n  };\n\n  const getTableData = async (pain?: Record<string, any>) => {\n    setLoading(true);\n    pain = pain || pagination;\n    const res = await requestMockData({\n      pageNum: pain.pageNum,\n      pageSize: pain.pageSize,\n    });\n    setLoading(false);\n    setSelectedRows([]);\n    if (res) {\n      setPagination({\n        ...pain,\n        total: res.total,\n      });\n      setTableData(res.data);\n    } else {\n      setPagination({ ...pain, total: 0 });\n      setTableData([]);\n    }\n  };\n\n  const onEditClick = () => {\n    if (!selectedRows || selectedRows.length === 0) {\n      message.warning("请先选择一条数据");\n      return;\n    }\n    message.success(`当前选择的数据序号为: ${selectedRows[0].id}`);\n  };\n\n  const columns: ArtColumn2[] = [\n    {\n      name: "序号",\n      code: "id",\n      width: 80,\n      lock: "left",\n    },\n    {\n      name: "邮箱",\n      code: "email",\n      width: 180,\n    },\n    {\n      name: "日期",\n      code: "date",\n      width: 180,\n    },\n    {\n      name: "日期类型",\n      code: "dateType",\n      width: 150,\n      render: (value: string) => {\n        if (value === "workingDay") {\n          return "工作日";\n        } else if (value === "naturalDay") {\n          return "自然日";\n        }\n        return "";\n      },\n    },\n    {\n      name: "备注",\n      code: "remark",\n      width: 300,\n      ellipsis: true,\n    },\n    {\n      name: "字段1",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段2",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段3",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段4",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段5",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段6",\n      code: "email",\n      width: 150,\n    },\n  ];\n\n  useEffect(() => {\n    getTableData();\n  }, []);\n\n  return (\n    <>\n      <div className={styles.itemTitleRow}>\n        <Button type=\'primary\' ghost onClick={onEditClick}>\n          编辑\n        </Button>\n      </div>\n      <div className={styles.content}>\n        <AliMainTable\n          rowKey=\'id\'\n          autoHeight\n          isLoading={loading}\n          columns={columns}\n          dataSource={tableData}\n          getDataSource={getTableData}\n          selectedRows={selectedRows}\n          setSelectedRows={setSelectedRows}\n          pagination={pagination}\n          setPagination={setPagination}\n          singleSelect\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Content;'}],k=()=>(0,r.jsx)(i.A,{className:R,title:"单选表格",codeParams:_,children:(0,r.jsx)(D,{})}),x="MultiSelectTableSample_container__ddVFn",P="MultiSelectTableSample_itemTitleRow__Qy+Bu",v="MultiSelectTableSample_content__ro4IV",C={pageNum:1,pageSize:10,total:0},j=()=>{const[e,n]=(0,a.useState)(!1),[t,i]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[m,g]=(0,a.useState)(C),p=e=>{g({...m,...e})},w=async e=>{n(!0),e=e||m;const t=await(0,d.AJ)({pageNum:e.pageNum,pageSize:e.pageSize});n(!1),c([]),t?(p({...e,total:t.total}),i(t.data)):(p({...e,total:0}),i([]))};return(0,a.useEffect)((()=>{w()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:P,children:(0,r.jsx)(o.Ay,{type:"primary",ghost:!0,onClick:()=>{l&&0!==l.length?s.Ay.success(`当前选择的数据序号为: ${l.map((e=>e.id)).join(",")}`):s.Ay.warning("请先选择一条数据")},children:"编辑"})}),(0,r.jsx)("div",{className:v,children:(0,r.jsx)(u,{rowKey:"id",isLoading:e,columns:[{name:"序号",code:"id",width:80,lock:"left"},{name:"邮箱",code:"email",width:180},{name:"日期",code:"date",width:180},{name:"日期类型",code:"dateType",width:150,render:e=>"workingDay"===e?"工作日":"naturalDay"===e?"自然日":""},{name:"备注",code:"remark",width:300,ellipsis:!0},{name:"字段1",code:"email",width:150},{name:"字段2",code:"email",width:150},{name:"字段3",code:"email",width:150},{name:"字段4",code:"email",width:150},{name:"字段5",code:"email",width:150},{name:"字段6",code:"email",width:150}],dataSource:t,getDataSource:w,selectedRows:l,setSelectedRows:c,pagination:m,setPagination:p,multiSelect:!0})})]})},I=[{fileName:"index.tsx",code:'import React, { useEffect, useState } from "react";\nimport { Button, message } from "antd";\nimport AliMainTable from "@/components/AliTable/AliMainTable";\nimport type { ArtColumn2 } from "@/components/AliTable";\nimport { requestMockData } from "utils/util";\nimport styles from "./index.module.scss";\n\nconst INIT_PAGINATION = {\n  pageNum: 1,\n  pageSize: 10,\n  total: 0,\n};\n\nconst Content = () => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [tableData, setTableData] = useState<Record<string, any>[]>([]);\n  const [selectedRows, setSelectedRows] = useState<Record<string, any>[]>([]);\n  const [pagination, setPagin] = useState<Record<string, any>>(INIT_PAGINATION);\n\n  const setPagination = (pagin: Record<string, any>) => {\n    setPagin({ ...pagination, ...pagin });\n  };\n\n  const getTableData = async (pain?: Record<string, any>) => {\n    setLoading(true);\n    pain = pain || pagination;\n    const res = await requestMockData({\n      pageNum: pain.pageNum,\n      pageSize: pain.pageSize,\n    });\n    setLoading(false);\n    setSelectedRows([]);\n    if (res) {\n      setPagination({\n        ...pain,\n        total: res.total,\n      });\n      setTableData(res.data);\n    } else {\n      setPagination({ ...pain, total: 0 });\n      setTableData([]);\n    }\n  };\n\n  const onEditClick = () => {\n    if (!selectedRows || selectedRows.length === 0) {\n      message.warning("请先选择一条数据");\n      return;\n    }\n    message.success(\n      `当前选择的数据序号为: ${selectedRows.map((item) => item.id).join(",")}`\n    );\n  };\n\n  const columns: ArtColumn2[] = [\n    {\n      name: "序号",\n      code: "id",\n      width: 80,\n      lock: "left",\n    },\n    {\n      name: "邮箱",\n      code: "email",\n      width: 180,\n    },\n    {\n      name: "日期",\n      code: "date",\n      width: 180,\n    },\n    {\n      name: "日期类型",\n      code: "dateType",\n      width: 150,\n      render: (value: string) => {\n        if (value === "workingDay") {\n          return "工作日";\n        } else if (value === "naturalDay") {\n          return "自然日";\n        }\n        return "";\n      },\n    },\n    {\n      name: "备注",\n      code: "remark",\n      width: 300,\n      ellipsis: true,\n    },\n    {\n      name: "字段1",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段2",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段3",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段4",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段5",\n      code: "email",\n      width: 150,\n    },\n    {\n      name: "字段6",\n      code: "email",\n      width: 150,\n    },\n  ];\n\n  useEffect(() => {\n    getTableData();\n  }, []);\n\n  return (\n    <>\n      <div className={styles.itemTitleRow}>\n        <Button type=\'primary\' ghost onClick={onEditClick}>\n          编辑\n        </Button>\n      </div>\n      <div className={styles.content}>\n        <AliMainTable\n          rowKey=\'id\'\n          isLoading={loading}\n          columns={columns}\n          dataSource={tableData}\n          getDataSource={getTableData}\n          selectedRows={selectedRows}\n          setSelectedRows={setSelectedRows}\n          pagination={pagination}\n          setPagination={setPagination}\n          multiSelect\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Content;'}],M=()=>(0,r.jsx)(i.A,{className:x,title:"多选表格",codeParams:I,children:(0,r.jsx)(j,{})}),z="AliTableSection_container__4Pe0F",E="AliTableSection_sample__7IwRx",L=[(0,r.jsx)(T,{}),(0,r.jsx)(k,{}),(0,r.jsx)(M,{})],B=()=>(0,r.jsx)("div",{className:z,children:L.map(((e,n)=>(0,r.jsx)("div",{className:E,children:e},n)))})}}]);